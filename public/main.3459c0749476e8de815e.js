var lR=Object.defineProperty,uR=Object.defineProperties,cR=Object.getOwnPropertyDescriptors,zD=Object.getOwnPropertySymbols,dR=Object.prototype.hasOwnProperty,hR=Object.prototype.propertyIsEnumerable,qD=(ct,Pe,z)=>Pe in ct?lR(ct,Pe,{enumerable:!0,configurable:!0,writable:!0,value:z}):ct[Pe]=z,KD=(ct,Pe)=>{for(var z in Pe||(Pe={}))dR.call(Pe,z)&&qD(ct,z,Pe[z]);if(zD)for(var z of zD(Pe))hR.call(Pe,z)&&qD(ct,z,Pe[z]);return ct},YD=(ct,Pe)=>uR(ct,cR(Pe));(self.webpackChunkesdi_app=self.webpackChunkesdi_app||[]).push([[179],{8255:ct=>{function Pe(z){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+z+"'");throw T.code="MODULE_NOT_FOUND",T})}Pe.keys=()=>[],Pe.resolve=Pe,Pe.id=8255,ct.exports=Pe},8583:(ct,Pe,z)=>{"use strict";z.d(Pe,{mr:()=>Je,ez:()=>Mo,K0:()=>Le,Do:()=>Ve,V_:()=>W,Ye:()=>Qt,S$:()=>pt,sg:()=>Rr,O5:()=>mr,b0:()=>He,lw:()=>Se,EM:()=>vi,JF:()=>Ei,w_:()=>H,bD:()=>Oi,q:()=>fe,Mx:()=>it,HT:()=>le});var T=z(639);let x=null;function fe(){return x}function le(A){x||(x=A)}class H{}const Le=new T.OlP("DocumentToken");let Se=(()=>{class A{historyGo(S){throw new Error("Not implemented")}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=(0,T.Yz7)({factory:ye,token:A,providedIn:"platform"}),A})();function ye(){return(0,T.LFG)(Y)}const W=new T.OlP("Location Initialized");let Y=(()=>{class A extends Se{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(S){const V=fe().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",S,!1),()=>V.removeEventListener("popstate",S)}onHashChange(S){const V=fe().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",S,!1),()=>V.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,V,ee){oe()?this._history.pushState(S,V,ee):this.location.hash=ee}replaceState(S,V,ee){oe()?this._history.replaceState(S,V,ee):this.location.hash=ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return A.\u0275fac=function(S){return new(S||A)(T.LFG(Le))},A.\u0275prov=(0,T.Yz7)({factory:ve,token:A,providedIn:"platform"}),A})();function oe(){return!!window.history.pushState}function ve(){return new Y((0,T.LFG)(Le))}function De(A,k){if(0==A.length)return k;if(0==k.length)return A;let S=0;return A.endsWith("/")&&S++,k.startsWith("/")&&S++,2==S?A+k.substring(1):1==S?A+k:A+"/"+k}function Ge(A){const k=A.match(/#|\?|$/),S=k&&k.index||A.length;return A.slice(0,S-("/"===A[S-1]?1:0))+A.slice(S)}function be(A){return A&&"?"!==A[0]?"?"+A:A}let pt=(()=>{class A{historyGo(S){throw new Error("Not implemented")}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=(0,T.Yz7)({factory:st,token:A,providedIn:"root"}),A})();function st(A){const k=(0,T.LFG)(Le).location;return new He((0,T.LFG)(Se),k&&k.origin||"")}const Je=new T.OlP("appBaseHref");let He=(()=>{class A extends pt{constructor(S,V){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==V&&(V=this._platformLocation.getBaseHrefFromDOM()),null==V)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=V}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return De(this._baseHref,S)}path(S=!1){const V=this._platformLocation.pathname+be(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&S?`${V}${ee}`:V}pushState(S,V,ee,Ee){const Fe=this.prepareExternalUrl(ee+be(Ee));this._platformLocation.pushState(S,V,Fe)}replaceState(S,V,ee,Ee){const Fe=this.prepareExternalUrl(ee+be(Ee));this._platformLocation.replaceState(S,V,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var V,ee;null===(ee=(V=this._platformLocation).historyGo)||void 0===ee||ee.call(V,S)}}return A.\u0275fac=function(S){return new(S||A)(T.LFG(Se),T.LFG(Je,8))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})(),Ve=(()=>{class A extends pt{constructor(S,V){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(S){const V=De(this._baseHref,S);return V.length>0?"#"+V:V}pushState(S,V,ee,Ee){let Fe=this.prepareExternalUrl(ee+be(Ee));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.pushState(S,V,Fe)}replaceState(S,V,ee,Ee){let Fe=this.prepareExternalUrl(ee+be(Ee));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.replaceState(S,V,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var V,ee;null===(ee=(V=this._platformLocation).historyGo)||void 0===ee||ee.call(V,S)}}return A.\u0275fac=function(S){return new(S||A)(T.LFG(Se),T.LFG(Je,8))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})(),Qt=(()=>{class A{constructor(S,V){this._subject=new T.vpe,this._urlChangeListeners=[],this._platformStrategy=S;const ee=this._platformStrategy.getBaseHref();this._platformLocation=V,this._baseHref=Ge(zt(ee)),this._platformStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,V=""){return this.path()==this.normalize(S+be(V))}normalize(S){return A.stripTrailingSlash(function(A,k){return A&&k.startsWith(A)?k.substring(A.length):k}(this._baseHref,zt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,V="",ee=null){this._platformStrategy.pushState(ee,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+be(V)),ee)}replaceState(S,V="",ee=null){this._platformStrategy.replaceState(ee,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+be(V)),ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var V,ee;null===(ee=(V=this._platformStrategy).historyGo)||void 0===ee||ee.call(V,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)}))}_notifyUrlChangeListeners(S="",V){this._urlChangeListeners.forEach(ee=>ee(S,V))}subscribe(S,V,ee){return this._subject.subscribe({next:S,error:V,complete:ee})}}return A.\u0275fac=function(S){return new(S||A)(T.LFG(pt),T.LFG(Se))},A.normalizeQueryParams=be,A.joinWithSlash=De,A.stripTrailingSlash=Ge,A.\u0275prov=(0,T.Yz7)({factory:rn,token:A,providedIn:"root"}),A})();function rn(){return new Qt((0,T.LFG)(pt),(0,T.LFG)(Se))}function zt(A){return A.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Zero=0]="Zero",nt[nt.One=1]="One",nt[nt.Two=2]="Two",nt[nt.Few=3]="Few",nt[nt.Many=4]="Many",nt[nt.Other=5]="Other",nt))();const Tt=T.kL8;class Ft{}let $t=(()=>{class A extends Ft{constructor(S){super(),this.locale=S}getPluralCategory(S,V){switch(Tt(V||this.locale)(S)){case nt.Zero:return"zero";case nt.One:return"one";case nt.Two:return"two";case nt.Few:return"few";case nt.Many:return"many";default:return"other"}}}return A.\u0275fac=function(S){return new(S||A)(T.LFG(T.soG))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})();function it(A,k){k=encodeURIComponent(k);for(const S of A.split(";")){const V=S.indexOf("="),[ee,Ee]=-1==V?[S,""]:[S.slice(0,V),S.slice(V+1)];if(ee.trim()===k)return decodeURIComponent(Ee)}return null}class dt{constructor(k,S,V,ee){this.$implicit=k,this.ngForOf=S,this.index=V,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rr=(()=>{class A{constructor(S,V,ee){this._viewContainer=S,this._template=V,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;if(!this._differ&&S)try{this._differ=this._differs.find(S).create(this.ngForTrackBy)}catch(V){throw new Error(`Cannot find a differ supporting object '${S}' of type '${function(A){return A.name||typeof A}(S)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const V=[];S.forEachOperation((ee,Ee,Fe)=>{if(null==ee.previousIndex){const D=this._viewContainer.createEmbeddedView(this._template,new dt(null,this._ngForOf,-1,-1),null===Fe?void 0:Fe),I=new kr(ee,D);V.push(I)}else if(null==Fe)this._viewContainer.remove(null===Ee?void 0:Ee);else if(null!==Ee){const D=this._viewContainer.get(Ee);this._viewContainer.move(D,Fe);const I=new kr(ee,D);V.push(I)}});for(let ee=0;ee<V.length;ee++)this._perViewChange(V[ee].view,V[ee].record);for(let ee=0,Ee=this._viewContainer.length;ee<Ee;ee++){const Fe=this._viewContainer.get(ee);Fe.context.index=ee,Fe.context.count=Ee,Fe.context.ngForOf=this._ngForOf}S.forEachIdentityChange(ee=>{this._viewContainer.get(ee.currentIndex).context.$implicit=ee.item})}_perViewChange(S,V){S.context.$implicit=V.item}static ngTemplateContextGuard(S,V){return!0}}return A.\u0275fac=function(S){return new(S||A)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},A.\u0275dir=T.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),A})();class kr{constructor(k,S){this.record=k,this.view=S}}let mr=(()=>{class A{constructor(S,V){this._viewContainer=S,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){X("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){X("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,V){return!0}}return A.\u0275fac=function(S){return new(S||A)(T.Y36(T.s_b),T.Y36(T.Rgc))},A.\u0275dir=T.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),A})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function X(A,k){if(k&&!k.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,T.AaK)(k)}'.`)}let Mo=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275mod=T.oAB({type:A}),A.\u0275inj=T.cJS({providers:[{provide:Ft,useClass:$t}]}),A})();const Oi="browser";let vi=(()=>{class A{}return A.\u0275prov=(0,T.Yz7)({token:A,providedIn:"root",factory:()=>new Rs((0,T.LFG)(Le),window)}),A})();class Rs{constructor(k,S){this.document=k,this.window=S,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(k){this.supportsScrolling()&&this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){if(!this.supportsScrolling())return;const S=function(A,k){const S=A.getElementById(k)||A.getElementsByName(k)[0];if(S)return S;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const V=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ee=V.currentNode;for(;ee;){const Ee=ee.shadowRoot;if(Ee){const Fe=Ee.getElementById(k)||Ee.querySelector(`[name="${k}"]`);if(Fe)return Fe}ee=V.nextNode()}}return null}(this.document,k);S&&(this.scrollToElement(S),this.attemptFocus(S))}setHistoryScrollRestoration(k){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=k)}}scrollToElement(k){const S=k.getBoundingClientRect(),V=S.left+this.window.pageXOffset,ee=S.top+this.window.pageYOffset,Ee=this.offset();this.window.scrollTo(V-Ee[0],ee-Ee[1])}attemptFocus(k){return k.focus(),this.document.activeElement===k}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const k=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!k||!k.writable&&!k.set)}catch(k){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(k){return!1}}}function Yi(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ei{}},639:(ct,Pe,z)=>{"use strict";z.d(Pe,{deG:()=>Tn,tb:()=>rD,AFp:()=>eD,ip1:()=>$C,CZH:()=>zh,hGG:()=>dS,z2F:()=>gg,sBO:()=>YI,Sil:()=>pg,_Vd:()=>Wu,EJc:()=>sD,SBq:()=>va,qLn:()=>cc,vpe:()=>rl,gxx:()=>Fl,tBr:()=>Al,XFs:()=>rt,OlP:()=>Ze,zs3:()=>Bn,ZZ4:()=>ng,aQg:()=>rg,soG:()=>my,YKP:()=>c,v3s:()=>GA,h0i:()=>l,PXZ:()=>VA,R0b:()=>Xs,FiY:()=>$s,Lbi:()=>nD,g9A:()=>tD,Qsj:()=>kI,FYo:()=>tg,JOm:()=>go,Tiy:()=>uy,q3G:()=>Cr,tp0:()=>E,EAV:()=>KA,Rgc:()=>Uh,dDg:()=>uD,DyG:()=>au,q4F:()=>cy,GfV:()=>aC,s_b:()=>L,ifc:()=>qe,eFA:()=>gD,G48:()=>PA,Gpc:()=>Je,_c5:()=>iS,VLi:()=>MA,c2e:()=>iD,zSh:()=>Au,wAp:()=>Dt,vHH:()=>rn,EiD:()=>Hy,mCW:()=>Ad,qzn:()=>Ua,JVY:()=>ky,pB0:()=>Ag,eBb:()=>Ly,L6k:()=>Fy,LAX:()=>Vy,cg1:()=>qc,Tjo:()=>nS,kL8:()=>U_,yhl:()=>Tg,dqk:()=>me,sIi:()=>ca,CqO:()=>vp,QGY:()=>yp,F4k:()=>d_,RDi:()=>Ee,AaK:()=>be,z3N:()=>ta,qOj:()=>Ga,TTD:()=>li,_Bn:()=>JE,xp6:()=>Rf,uIk:()=>xu,ekj:()=>Tp,Suo:()=>Nw,Xpm:()=>Cn,lG2:()=>Wi,Yz7:()=>Tt,cJS:()=>tn,oAB:()=>Zt,Yjl:()=>zi,Y36:()=>Uu,_UZ:()=>Oc,qZA:()=>_h,TgZ:()=>gp,n5z:()=>su,Ikx:()=>jp,LFG:()=>fr,$8M:()=>tc,NdJ:()=>Ep,CRH:()=>xw,Q6J:()=>fp,iGM:()=>Pw,LSH:()=>Og,kYT:()=>gr,YNc:()=>Fu,_uU:()=>Sh,Oqu:()=>Bc,hij:()=>zl});var T=z(7574),x=z(4869),fe=z(3282),Re=z(6693),H=z(7709),Le=z(5319),Se=z(2441);var Y=z(1307);function oe(){return new H.xQ}function De(e){for(let t in e)if(e[t]===De)return t;throw Error("Could not find renamed property on target object.")}function Ge(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function pt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const st=De({__forward_ref__:De});function Je(e){return e.__forward_ref__=Je,e.toString=function(){return be(this())},e}function He(e){return Ve(e)?e():e}function Ve(e){return"function"==typeof e&&e.hasOwnProperty(st)&&e.__forward_ref__===Je}class rn extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Ce(e){return"string"==typeof e?e:null==e?"":String(e)}function Be(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ce(e)}function ut(e,t){const n=t?` in ${t}`:"";throw new rn("201",`No provider for ${Be(e)} found${n}`)}function gn(e,t){null==e&&function(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function Tt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function nn(e){return $n(e,Jn)||$n(e,Xn)}function $n(e,t){return e.hasOwnProperty(t)?e[t]:null}function Hn(e){return e&&(e.hasOwnProperty(Sn)||e.hasOwnProperty(er))?e[Sn]:null}const Jn=De({\u0275prov:De}),Sn=De({\u0275inj:De}),Xn=De({ngInjectableDef:De}),er=De({ngInjectorDef:De});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Bt;function ot(e){const t=Bt;return Bt=e,t}function Qr(e,t,n){const s=nn(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&rt.Optional?null:void 0!==t?t:void ut(be(e),"Injector")}function jt(e){return{toString:e}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),qe=(()=>((qe=qe||{})[qe.Emulated=0]="Emulated",qe[qe.None=2]="None",qe[qe.ShadowDom=3]="ShadowDom",qe))();const sn="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,me=sn||"undefined"!=typeof global&&global||St||Hr,mt={},Xe=[],J=De({\u0275cmp:De}),q=De({\u0275dir:De}),ie=De({\u0275pipe:De}),Ie=De({\u0275mod:De}),he=De({\u0275loc:De}),Te=De({\u0275fac:De}),gt=De({__NG_ELEMENT_ID__:De});let Gt=0;function Cn(e){return jt(()=>{const n={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Xe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||qe.Emulated,id:"c",styles:e.styles||Xe,_:null,setInput:null,schemas:e.schemas||null,tView:null},a=e.directives,u=e.features,d=e.pipes;return s.id+=Gt++,s.inputs=Zr(e.inputs,n),s.outputs=Zr(e.outputs),u&&u.forEach(f=>f(s)),s.directiveDefs=a?()=>("function"==typeof a?a():a).map(Mn):null,s.pipeDefs=d?()=>("function"==typeof d?d():d).map(ht):null,s})}function Mn(e){return Mt(e)||function(e){return e[q]||null}(e)}function ht(e){return function(e){return e[ie]||null}(e)}const mn={};function Zt(e){return jt(()=>{const t={type:e.type,bootstrap:e.bootstrap||Xe,declarations:e.declarations||Xe,imports:e.imports||Xe,exports:e.exports||Xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(mn[e.id]=e.type),t})}function gr(e,t){return jt(()=>{const n=In(e,!0);n.declarations=t.declarations||Xe,n.imports=t.imports||Xe,n.exports=t.exports||Xe})}function Zr(e,t){if(null==e)return mt;const n={};for(const s in e)if(e.hasOwnProperty(s)){let a=e[s],u=a;Array.isArray(a)&&(u=a[1],a=a[0]),n[a]=s,t&&(t[a]=u)}return n}const Wi=Cn;function zi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mt(e){return e[J]||null}function In(e,t){const n=e[Ie]||null;if(!n&&!0===t)throw new Error(`Type ${be(e)} does not have '\u0275mod' property.`);return n}const Z=18,G=19;function cr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Fr(e){return Array.isArray(e)&&!0===e[1]}function Pi(e){return 0!=(8&e.flags)}function ls(e){return 2==(2&e.flags)}function Ni(e){return 1==(1&e.flags)}function Ln(e){return null!==e.template}function Lr(e){return 0!=(512&e[2])}function Pr(e,t){return e.hasOwnProperty(Te)?e[Te]:null}class Ss{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function li(){return to}function to(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rs),vi}function vi(){const e=Ms(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===mt)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Rs(e,t,n,s){const a=Ms(e)||function(e,t){return e[Yi]=t}(e,{previous:mt,current:null}),u=a.current||(a.current={}),d=a.previous,f=this.declaredInputs[n],m=d[f];u[f]=new Ss(m&&m.currentValue,t,d===mt),e[s]=t}li.ngInherit=!0;const Yi="__ngSimpleChanges__";function Ms(e){return e[Yi]||null}let ee;function Ee(e){ee=e}function I(e){return!!e.listen}const O={createRenderer:(e,t)=>void 0!==ee?ee:"undefined"!=typeof document?document:void 0};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Vn(e,t){return Oe(t[e])}function En(e,t){return Oe(t[e.index])}function _r(e,t){return e.data[t]}function nr(e,t){const n=t[e];return cr(n)?n:n[0]}function Nr(e){return 4==(4&e[2])}function no(e){return 128==(128&e[2])}function On(e,t){return null==t?null:e[t]}function ro(e){e[Z]=0}function Ps(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const vt={lFrame:cl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function io(){return vt.bindingsEnabled}function xe(){return vt.lFrame.lView}function Lt(){return vt.lFrame.tView}function Pn(){let e=Ns();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ns(){return vt.lFrame.currentTNode}function ti(e,t){const n=vt.lFrame;n.currentTNode=e,n.isParent=t}function Oo(){return vt.lFrame.isParent}function Lo(){return vt.isInCheckNoChangesMode}function fs(e){vt.isInCheckNoChangesMode=e}function ps(){return vt.lFrame.bindingIndex++}function Yu(e,t){const n=vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,ll(t)}function ll(e){vt.lFrame.currentDirectiveIndex=e}function Xl(){return vt.lFrame.currentQueryIndex}function ks(e){vt.lFrame.currentQueryIndex=e}function cd(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ao(e,t,n){if(n&rt.SkipSelf){let a=t,u=e;for(;!(a=a.parent,null!==a||n&rt.Host||(a=cd(u),null===a||(u=u[15],10&a.type))););if(null===a)return!1;t=a,e=u}const s=vt.lFrame=dd();return s.currentTNode=t,s.lView=e,!0}function ul(e){const t=dd(),n=e[1];vt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function dd(){const e=vt.lFrame,t=null===e?null:e.child;return null===t?cl(e):t}function cl(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Aa(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hd=Aa;function Bo(){const e=Aa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qr(){return vt.lFrame.selectedIndex}function bi(e){vt.lFrame.selectedIndex=e}function rr(){const e=vt.lFrame;return _r(e.tView,e.selectedIndex)}function gs(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:w,ngOnDestroy:P}=u;d&&(e.contentHooks||(e.contentHooks=[])).push(-n,d),f&&((e.contentHooks||(e.contentHooks=[])).push(n,f),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,f)),m&&(e.viewHooks||(e.viewHooks=[])).push(-n,m),w&&((e.viewHooks||(e.viewHooks=[])).push(n,w),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,w)),null!=P&&(e.destroyHooks||(e.destroyHooks=[])).push(n,P)}}function fl(e,t,n){Ra(e,t,3,n)}function Ho(e,t,n,s){(3&e[2])===n&&Ra(e,t,n,s)}function lo(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ra(e,t,n,s){const u=null!=s?s:-1,d=t.length-1;let f=0;for(let m=void 0!==s?65535&e[Z]:0;m<d;m++)if("number"==typeof t[m+1]){if(f=t[m],null!=s&&f>=s)break}else t[m]<0&&(e[Z]+=65536),(f<u||-1==u)&&(Qu(e,n,t,m),e[Z]=(4294901760&e[Z])+m+2),m++}function Qu(e,t,n,s){const a=n[s]<0,u=n[s+1],f=e[a?-n[s]:n[s]];if(a){if(e[2]>>11<e[Z]>>16&&(3&e[2])===t){e[2]+=2048;try{u.call(f)}finally{}}}else try{u.call(f)}finally{}}class dr{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function Go(e,t,n){const s=I(e);let a=0;for(;a<n.length;){const u=n[a];if("number"==typeof u){if(0!==u)break;a++;const d=n[a++],f=n[a++],m=n[a++];s?e.setAttribute(t,f,m,d):t.setAttributeNS(d,f,m)}else{const d=u,f=n[++a];vr(d)?s&&e.setProperty(t,d,f):s?e.setAttribute(t,d,f):t.setAttribute(d,f),a++}}return a}function ru(e){return 3===e||4===e||6===e}function vr(e){return 64===e.charCodeAt(0)}function pl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?n=a:0===n||Pa(e,n,a,null,-1===n||2===n?t[++s]:null)}}return e}function Pa(e,t,n,s,a){let u=0,d=e.length;if(-1===t)d=-1;else for(;u<e.length;){const f=e[u++];if("number"==typeof f){if(f===t){d=-1;break}if(f>t){d=u-1;break}}}for(;u<e.length;){const f=e[u];if("number"==typeof f)break;if(f===n){if(null===s)return void(null!==a&&(e[u+1]=a));if(s===e[u+1])return void(e[u+2]=a)}u++,null!==s&&u++,null!==a&&u++}-1!==d&&(e.splice(d,0,t),u=d+1),e.splice(u++,0,n),null!==s&&e.splice(u++,0,s),null!==a&&e.splice(u++,0,a)}function uo(e){return-1!==e}function xr(e){return 32767&e}function Fs(e,t){let n=function(e){return e>>16}(e),s=t;for(;n>0;)s=s[15],n--;return s}let gl=!0;function _s(e){const t=gl;return gl=e,t}let ml=0;function ys(e,t){const n=Qi(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,yl(s.data,e),yl(t,null),yl(s.blueprint,null));const a=Wo(e,t),u=e.injectorIndex;if(uo(a)){const d=xr(a),f=Fs(a,t),m=f[1].data;for(let w=0;w<8;w++)t[u+w]=f[d+w]|m[d+w]}return t[u+8]=a,u}function yl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Wo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,a=t;for(;null!==a;){const u=a[1],d=u.type;if(s=2===d?u.declTNode:1===d?a[6]:null,null===s)return-1;if(n++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function vl(e,t,n){!function(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(gt)&&(s=n[gt]),null==s&&(s=n[gt]=ml++);const a=255&s;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function Xu(e,t,n){if(n&rt.Optional)return e;ut(t,"NodeInjector")}function zo(e,t,n,s){if(n&rt.Optional&&void 0===s&&(s=null),0==(n&(rt.Self|rt.Host))){const a=e[9],u=ot(void 0);try{return a?a.get(t,s,n&rt.Optional):Qr(t,s,n&rt.Optional)}finally{ot(u)}}return Xu(s,t,n)}function ec(e,t,n,s=rt.Default,a){if(null!==e){const u=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(gt)?e[gt]:void 0;return"number"==typeof t?t>=0?255&t:xa:t}(n);if("function"==typeof u){if(!ao(t,e,s))return s&rt.Host?Xu(a,n,s):zo(t,n,s,a);try{const d=u(s);if(null!=d||s&rt.Optional)return d;ut(n)}finally{hd()}}else if("number"==typeof u){let d=null,f=Qi(e,t),m=-1,w=s&rt.Host?t[16][6]:null;for((-1===f||s&rt.SkipSelf)&&(m=-1===f?Wo(e,t):t[f+8],-1!==m&&ho(s,!1)?(d=t[1],f=xr(m),t=Fs(m,t)):f=-1);-1!==f;){const P=t[1];if(Ii(u,f,P.data)){const U=iu(f,t,n,d,s,w);if(U!==Zi)return U}m=t[f+8],-1!==m&&ho(s,t[1].data[f+8]===w)&&Ii(u,f,t)?(d=P,f=xr(m),t=Fs(m,t)):f=-1}}}return zo(t,n,s,a)}const Zi={};function xa(){return new Oa(Pn(),xe())}function iu(e,t,n,s,a,u){const d=t[1],f=d.data[e+8],P=Dn(f,d,n,null==s?ls(f)&&gl:s!=d&&0!=(3&f.type),a&rt.Host&&u===f);return null!==P?co(t,d,P,f):Zi}function Dn(e,t,n,s,a){const u=e.providerIndexes,d=t.data,f=1048575&u,m=e.directiveStart,P=u>>20,$=a?f+P:e.directiveEnd;for(let Q=s?f:f+P;Q<$;Q++){const re=d[Q];if(Q<m&&n===re||Q>=m&&re.type===n)return Q}if(a){const Q=d[m];if(Q&&Ln(Q)&&Q.type===n)return m}return null}function co(e,t,n,s){let a=e[n];const u=t.data;if(function(e){return e instanceof dr}(a)){const d=a;d.resolving&&function(e,t){throw new rn("200",`Circular dependency in DI detected for ${e}`)}(Be(u[n]));const f=_s(d.canSeeViewProviders);d.resolving=!0;const m=d.injectImpl?ot(d.injectImpl):null;ao(e,s,rt.Default);try{a=e[n]=d.factory(void 0,u,e,s),t.firstCreatePass&&n>=s.directiveStart&&function(e,t,n){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:u}=t.type.prototype;if(s){const d=to(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}(n,u[n],t)}finally{null!==m&&ot(m),_s(f),d.resolving=!1,hd()}}return a}function Ii(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ho(e,t){return!(e&rt.Self||e&rt.Host&&t)}class Oa{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return ec(this._tNode,this._lView,t,s,n)}}function su(e){return jt(()=>{const t=e.prototype.constructor,n=t[Te]||ka(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const u=a[Te]||ka(a);if(u&&u!==n)return u;a=Object.getPrototypeOf(a)}return u=>new u})}function ka(e){return Ve(e)?()=>{const t=ka(He(e));return t&&t()}:Pr(e)}function tc(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let a=0;for(;a<s;){const u=n[a];if(ru(u))break;if(0===u)a+=2;else if("number"==typeof u)for(a++;a<s&&"string"==typeof n[a];)a++;else{if(u===t)return n[a+1];a+=2}}}return null}(Pn(),e)}const g="__parameters__";function F(e,t,n){return jt(()=>{const s=function(e){return function(...n){if(e){const s=e(...n);for(const a in s)this[a]=s[a]}}}(t);function a(...u){if(this instanceof a)return s.apply(this,u),this;const d=new a(...u);return f.annotation=d,f;function f(m,w,P){const U=m.hasOwnProperty(g)?m[g]:Object.defineProperty(m,g,{value:[]})[g];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(d),m}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Ze{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Tt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tn=new Ze("AnalyzeForEntryComponents"),au=Function;function Xi(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?(t===e&&(t=e.slice(0,n)),Xi(s,t)):t!==e&&t.push(s)}return t}function vs(e,t){e.forEach(n=>Array.isArray(n)?vs(n,t):t(n))}function lu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Vi(e,t,n){let s=wl(e,t);return s>=0?e[1|s]=n:(s=~s,function(e,t,n,s){let a=e.length;if(a==t)e.push(n,s);else if(1===a)e.push(s,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function Il(e,t){const n=wl(e,t);if(n>=0)return e[1|n]}function wl(e,t){return function(e,t,n){let s=0,a=e.length>>n;for(;a!==s;){const u=s+(a-s>>1),d=e[u<<n];if(t===d)return u<<n;d>t?a=u:s=u+1}return~(a<<n)}(e,t,1)}const Bs={},du="__NG_DI_FLAG__",Jo="ngTempTokenPath",Dl=/\n/gm,hu="__source",Tl=De({provide:String,useValue:De});let Xo;function ts(e){const t=Xo;return Xo=e,t}function Va(e,t=rt.Default){if(void 0===Xo)throw new Error("inject() must be called from an injection context");return null===Xo?Qr(e,void 0,t):Xo.get(e,t&rt.Optional?null:void 0,t)}function fr(e,t=rt.Default){return(Bt||Va)(He(e),t)}function js(e){const t=[];for(let n=0;n<e.length;n++){const s=He(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let a,u=rt.Default;for(let d=0;d<s.length;d++){const f=s[d],m=Ry(f);"number"==typeof m?-1===m?a=f.token:u|=m:a=f}t.push(fr(a,u))}else t.push(fr(s))}return t}function wi(e,t){return e[du]=t,e.prototype[du]=t,e}function Ry(e){return e[du]}function Xh(e,t,n,s){const a=e[Jo];throw t[hu]&&a.unshift(t[hu]),e.message=function(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let a=be(t);if(Array.isArray(t))a=t.map(be).join(" -> ");else if("object"==typeof t){let u=[];for(let d in t)if(t.hasOwnProperty(d)){let f=t[d];u.push(d+":"+("string"==typeof f?JSON.stringify(f):be(f)))}a=`{${u.join(", ")}}`}return`${n}${s?"("+s+")":""}[${a}]: ${e.replace(Dl,"\n  ")}`}("\n"+e.message,a,n,s),e.ngTokenPath=a,e[Jo]=null,e}const Al=wi(F("Inject",e=>({token:e})),-1),$s=wi(F("Optional"),8),E=wi(F("SkipSelf"),4);let Es;function ns(e){var t;return(null===(t=function(){if(void 0===Es&&(Es=null,me.trustedTypes))try{Es=me.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Es}())||void 0===t?void 0:t.createHTML(e))||e}class Rl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class My extends Rl{getTypeName(){return"HTML"}}class Py extends Rl{getTypeName(){return"Style"}}class Ny extends Rl{getTypeName(){return"Script"}}class xy extends Rl{getTypeName(){return"URL"}}class Oy extends Rl{getTypeName(){return"ResourceURL"}}function ta(e){return e instanceof Rl?e.changingThisBreaksApplicationSecurity:e}function Ua(e,t){const n=Tg(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Tg(e){return e instanceof Rl&&e.getTypeName()||null}function ky(e){return new My(e)}function Fy(e){return new Py(e)}function Ly(e){return new Ny(e)}function Vy(e){return new xy(e)}function Ag(e){return new Oy(e)}class Uy{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ns(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class By{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const s=this.inertDocument.createElement("body");n.appendChild(s)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ns(t),n;const s=this.inertDocument.createElement("body");return s.innerHTML=ns(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const n=t.attributes;for(let a=n.length-1;0<a;a--){const d=n.item(a).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&t.removeAttribute(d)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Rg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ad(e){return(e=String(e)).match(Rg)||e.match(rf)?e:"unsafe:"+e}function na(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function pu(...e){const t={};for(const n of e)for(const s in n)n.hasOwnProperty(s)&&(t[s]=!0);return t}const $y=na("area,br,col,hr,img,wbr"),sf=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),of=na("rp,rt"),af=pu($y,pu(sf,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pu(of,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pu(of,sf)),lf=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=na("srcset"),uf=pu(lf,Sd,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cf=na("script,style,template");class Pg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,s=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=this.checkClobberedElement(n,n.nextSibling);if(a){n=a;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!af.hasOwnProperty(n))return this.sanitizedSomething=!0,!cf.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=t.attributes;for(let a=0;a<s.length;a++){const u=s.item(a),d=u.name,f=d.toLowerCase();if(!uf.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let m=u.value;lf[f]&&(m=Ad(m)),Sd[f]&&(e=m,m=(e=String(e)).split(",").map(t=>Ad(t.trim())).join(", ")),this.buf.push(" ",d,'="',Ng(m),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();af.hasOwnProperty(n)&&!$y.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Ng(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const bb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,df=/([^\#-~ |!])/g;function Ng(e){return e.replace(/&/g,"&amp;").replace(bb,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(df,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rd;function Hy(e,t){let n=null;try{Rd=Rd||function(e){const t=new By(e);return function(){try{return!!(new window.DOMParser).parseFromString(ns(""),"text/html")}catch(e){return!1}}()?new Uy(t):t}(e);let s=t?String(t):"";n=Rd.getInertBodyElement(s);let a=5,u=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=u,u=n.innerHTML,n=Rd.getInertBodyElement(s)}while(s!==u);return ns((new Pg).sanitizeChildren(xg(n)||n))}finally{if(n){const s=xg(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function xg(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function Og(e){const t=function(){const e=xe();return e&&e[12]}();return t?t.sanitize(Cr.URL,e)||"":Ua(e,"URL")?ta(e):Ad(Ce(e))}const qy="__ngContext__";function Di(e,t){e[qy]=t}function Fg(e){const t=function(e){return e[qy]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function hf(e){return e.ngOriginalError}function Ub(e,...t){e.error(...t)}class cc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),s=this._findContext(t),a=(e=t)&&e.ngErrorLogger||Ub;var e;a(this._console,"ERROR",t),n&&a(this._console,"ORIGINAL ERROR",n),s&&a(this._console,"ERROR CONTEXT",s)}_findContext(t){return t?t.ngDebugContext||this._findContext(hf(t)):null}_findOriginalError(t){let n=t&&hf(t);for(;n&&hf(n);)n=hf(n);return n||null}}const nv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))();function po(e){return e instanceof Function?e():e}var go=(()=>((go=go||{})[go.Important=1]="Important",go[go.DashCase=2]="DashCase",go))();function gf(e,t){return undefined(e,t)}function hc(e){const t=e[3];return Fr(t)?t[3]:t}function ri(e){return mf(e[13])}function mu(e){return mf(e[4])}function mf(e){for(;null!==e&&!Fr(e);)e=e[4];return e}function ra(e,t,n,s,a){if(null!=s){let u,d=!1;Fr(s)?u=s:cr(s)&&(d=!0,s=s[0]);const f=Oe(s);0===e&&null!==n?null==a?bf(t,n,f):ia(t,n,f,a||null,!0):1===e&&null!==n?ia(t,n,f,a||null,!0):2===e?function(e,t,n){const s=yu(e,t);s&&function(e,t,n,s){I(e)?e.removeChild(t,n,s):t.removeChild(n)}(e,s,t,n)}(t,f,d):3===e&&t.destroyNode(f),null!=u&&function(e,t,n,s,a){const u=n[7];u!==Oe(n)&&ra(t,e,s,u,a);for(let f=10;f<n.length;f++){const m=n[f];Ml(m[1],m,e,t,s,u)}}(t,e,u,n,a)}}function _f(e,t,n){return I(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function yf(e,t){const n=e[9],s=n.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,Ps(a,-1)),n.splice(s,1)}function vf(e,t){if(e.length<=10)return;const n=10+t,s=e[n];if(s){const a=s[17];null!==a&&a!==e&&yf(a,s),t>0&&(e[n-1][4]=s[4]);const u=Fa(e,10+t);!function(e,t){Ml(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const d=u[G];null!==d&&d.detachView(u[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function zg(e,t){if(!(256&t[2])){const n=t[11];I(n)&&n.destroyNode&&Ml(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ef(e[1],e);for(;t;){let n=null;if(cr(t))n=t[13];else{const s=t[10];s&&(n=s)}if(!n){for(;t&&!t[4]&&t!==e;)cr(t)&&Ef(t[1],t),t=t[3];null===t&&(t=e),cr(t)&&Ef(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ef(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const a=t[n[s]];if(!(a instanceof dr)){const u=n[s+1];if(Array.isArray(u))for(let d=0;d<u.length;d+=2){const f=a[u[d]],m=u[d+1];try{m.call(f)}finally{}}else try{u.call(a)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,s=t[7];let a=-1;if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const d=n[u+1],f="function"==typeof d?d(t):Oe(t[d]),m=s[a=n[u+2]],w=n[u+3];"boolean"==typeof w?f.removeEventListener(n[u],m,w):w>=0?s[a=w]():s[a=-w].unsubscribe(),u+=2}else{const d=s[a=n[u+1]];n[u].call(d)}if(null!==s){for(let u=a+1;u<s.length;u++)s[u]();t[7]=null}}(e,t),1===t[1].type&&I(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Fr(t[3])){n!==t[3]&&yf(n,t);const s=t[G];null!==s&&s.detachView(e)}}}function Od(e,t,n){return function(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[0];if(2&s.flags){const a=e.data[s.directiveStart].encapsulation;if(a===qe.None||a===qe.Emulated)return null}return En(s,n)}(e,t.parent,n)}function ia(e,t,n,s,a){I(e)?e.insertBefore(t,n,s,a):t.insertBefore(n,s,a)}function bf(e,t,n){I(e)?e.appendChild(t,n):t.appendChild(n)}function _u(e,t,n,s,a){null!==s?ia(e,t,n,s,a):bf(e,t,n)}function yu(e,t){return I(e)?e.parentNode(t):t.parentNode}let wf=function(e,t,n){return 40&e.type?En(e,n):null};function Vd(e,t,n,s){const a=Od(e,s,t),u=t[11],f=function(e,t,n){return wf(e,t,n)}(s.parent||t[6],s,t);if(null!=a)if(Array.isArray(n))for(let m=0;m<n.length;m++)_u(u,a,n[m],f,!1);else _u(u,a,n,f,!1)}function Ud(e,t){if(null!==t){const n=t.type;if(3&n)return En(t,e);if(4&n)return vu(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return Ud(e,s);{const a=e[t.index];return Fr(a)?vu(-1,a):Oe(a)}}if(32&n)return gf(t,e)()||Oe(e[t.index]);{const s=Yg(e,t);return null!==s?Array.isArray(s)?s[0]:Ud(hc(e[16]),s):Ud(e,t.next)}}return null}function Yg(e,t){return null!==t?e[16][6].projection[t.projection]:null}function vu(e,t){const n=10+e+1;if(n<t.length){const s=t[n],a=s[1].firstChild;if(null!==a)return Ud(s,a)}return t[7]}function gc(e,t,n,s,a,u,d){for(;null!=n;){const f=s[n.index],m=n.type;if(d&&0===t&&(f&&Di(Oe(f),s),n.flags|=4),64!=(64&n.flags))if(8&m)gc(e,t,n.child,s,a,u,!1),ra(t,e,a,f,u);else if(32&m){const w=gf(n,s);let P;for(;P=w();)ra(t,e,a,P,u);ra(t,e,a,f,u)}else 16&m?Zg(e,t,s,n,a,u):ra(t,e,a,f,u);n=d?n.projectionNext:n.next}}function Ml(e,t,n,s,a,u){gc(n,s,e.firstChild,t,a,u,!1)}function Zg(e,t,n,s,a,u){const d=n[16],m=d[6].projection[s.projection];if(Array.isArray(m))for(let w=0;w<m.length;w++)ra(t,e,a,m[w],u);else gc(e,t,m,d[3],a,u,!0)}function Df(e,t,n){I(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Tf(e,t,n){I(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Xg(e,t,n){let s=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const u=t.length;if(a+u===s||e.charCodeAt(a+u)<=32)return a}n=a+1}}const em="ng-template";function uv(e,t,n){let s=0;for(;s<e.length;){let a=e[s++];if(n&&"class"===a){if(a=e[s],-1!==Xg(a.toLowerCase(),t,0))return!0}else if(1===a){for(;s<e.length&&"string"==typeof(a=e[s++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function tm(e){return 4===e.type&&e.value!==em}function cv(e,t,n){return t===(4!==e.type||n?e.value:em)}function dv(e,t,n){let s=4;const a=e.attrs||[],u=function(e){for(let t=0;t<e.length;t++)if(ru(e[t]))return t;return e.length}(a);let d=!1;for(let f=0;f<t.length;f++){const m=t[f];if("number"!=typeof m){if(!d)if(4&s){if(s=2|1&s,""!==m&&!cv(e,m,n)||""===m&&1===t.length){if(zs(s))return!1;d=!0}}else{const w=8&s?m:t[++f];if(8&s&&null!==e.attrs){if(!uv(e.attrs,w,n)){if(zs(s))return!1;d=!0}continue}const U=jd(8&s?"class":m,a,tm(e),n);if(-1===U){if(zs(s))return!1;d=!0;continue}if(""!==w){let $;$=U>u?"":a[U+1].toLowerCase();const Q=8&s?$:null;if(Q&&-1!==Xg(Q,w,0)||2&s&&w!==$){if(zs(s))return!1;d=!0}}}}else{if(!d&&!zs(s)&&!zs(m))return!1;if(d&&zs(m))continue;d=!1,s=m|1&s}}return zs(s)||d}function zs(e){return 0==(1&e)}function jd(e,t,n,s){if(null===t)return-1;let a=0;if(s||!n){let u=!1;for(;a<t.length;){const d=t[a];if(d===e)return a;if(3===d||6===d)u=!0;else{if(1===d||2===d){let f=t[++a];for(;"string"==typeof f;)f=t[++a];continue}if(4===d)break;if(0===d){a+=4;continue}}a+=u?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Af(e,t,n=!1){for(let s=0;s<t.length;s++)if(dv(e,t[s],n))return!0;return!1}function rm(e,t){return e?":not("+t.trim()+")":t}function im(e){let t=e[0],n=1,s=2,a="",u=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&s){const f=e[++n];a+="["+d+(f.length>0?'="'+f+'"':"")+"]"}else 8&s?a+="."+d:4&s&&(a+=" "+d);else""!==a&&!zs(d)&&(t+=rm(u,a),a=""),s=d,u=u||!zs(s);n++}return""!==a&&(t+=rm(u,a)),t}const xt={};function Rf(e){pv(Lt(),xe(),qr()+e,Lo())}function pv(e,t,n,s){if(!s)if(3==(3&t[2])){const u=e.preOrderCheckHooks;null!==u&&fl(t,u,n)}else{const u=e.preOrderHooks;null!==u&&Ho(t,u,0,n)}bi(n)}function $d(e,t){return e<<17|t<<2}function mo(e){return e>>17&32767}function am(e){return 2|e}function sa(e){return(131068&e)>>2}function Hd(e,t){return-131069&e|t<<2}function Gd(e){return 1|e}function Ks(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const a=n[s],u=n[s+1];if(-1!==u){const d=e.data[u];ks(a),d.contentQueries(2,t[u],u)}}}function la(e,t,n,s,a,u,d,f,m,w){const P=t.blueprint.slice();return P[0]=a,P[2]=140|s,ro(P),P[3]=P[15]=e,P[8]=n,P[10]=d||e&&e[10],P[11]=f||e&&e[11],P[12]=m||e&&e[12]||null,P[9]=w||e&&e[9]||null,P[6]=u,P[16]=2==t.type?e[16]:P,P}function Ba(e,t,n,s,a){let u=e.data[t];if(null===u)u=function(e,t,n,s,a){const u=Ns(),d=Oo(),m=e.data[t]=function(e,t,n,s,a,u){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?u:u&&u.parent,n,t,s,a);return null===e.firstChild&&(e.firstChild=m),null!==u&&(d?null==u.child&&null!==m.parent&&(u.child=m):null===u.next&&(u.next=m)),m}(e,t,n,s,a),vt.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=n,u.value=s,u.attrs=a;const d=function(){const e=vt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===d?-1:d.injectorIndex}return ti(u,!0),u}function lr(e,t,n,s){if(0===n)return-1;const a=t.length;for(let u=0;u<n;u++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function bu(e,t,n){ul(t);try{const s=e.viewQuery;null!==s&&zf(1,s,n);const a=e.template;null!==a&&pm(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ks(e,t),e.staticViewQueries&&zf(2,e.viewQuery,n);const u=e.components;null!==u&&function(e,t){for(let n=0;n<t.length;n++)Lv(e,t[n])}(t,u)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,Bo()}}function Iu(e,t,n,s){const a=t[2];if(256==(256&a))return;ul(t);const u=Lo();try{ro(t),function(e){vt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&pm(e,t,n,2,s);const d=3==(3&a);if(!u)if(d){const w=e.preOrderCheckHooks;null!==w&&fl(t,w,null)}else{const w=e.preOrderHooks;null!==w&&Ho(t,w,0,null),lo(t,0)}if(function(e){for(let t=ri(e);null!==t;t=mu(t)){if(!t[2])continue;const n=t[9];for(let s=0;s<n.length;s++){const a=n[s],u=a[3];0==(1024&a[2])&&Ps(u,1),a[2]|=1024}}}(t),function(e){for(let t=ri(e);null!==t;t=mu(t))for(let n=10;n<t.length;n++){const s=t[n],a=s[1];no(s)&&Iu(a,s,a.template,s[8])}}(t),null!==e.contentQueries&&Ks(e,t),!u)if(d){const w=e.contentCheckHooks;null!==w&&fl(t,w)}else{const w=e.contentHooks;null!==w&&Ho(t,w,1),lo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const a=n[s];if(a<0)bi(~a);else{const u=a,d=n[++s],f=n[++s];Yu(d,u),f(2,t[u])}}}finally{bi(-1)}}(e,t);const f=e.components;null!==f&&function(e,t){for(let n=0;n<t.length;n++)Rm(e,t[n])}(t,f);const m=e.viewQuery;if(null!==m&&zf(2,m,s),!u)if(d){const w=e.viewCheckHooks;null!==w&&fl(t,w)}else{const w=e.viewHooks;null!==w&&Ho(t,w,2),lo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),u||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ps(t[3],-1))}finally{Bo()}}function Av(e,t,n,s){const a=t[10],u=!Lo(),d=Nr(t);try{u&&!d&&a.begin&&a.begin(),d&&bu(e,t,s),Iu(e,t,n,s)}finally{u&&!d&&a.end&&a.end()}}function pm(e,t,n,s,a){const u=qr(),d=2&s;try{bi(-1),d&&t.length>20&&pv(e,t,20,Lo()),n(s,a)}finally{bi(u)}}function Kd(e,t,n){!io()||(function(e,t,n,s){const a=n.directiveStart,u=n.directiveEnd;e.firstCreatePass||ys(n,t),Di(s,t);const d=n.initialInputs;for(let f=a;f<u;f++){const m=e.data[f],w=Ln(m);w&&Tm(t,n,m);const P=co(t,e,f,n);Di(P,t),null!==d&&Ov(0,f-a,P,m,0,d),w&&(nr(n.index,t)[8]=P)}}(e,t,n,En(n,t)),128==(128&n.flags)&&function(e,t,n){const s=n.directiveStart,a=n.directiveEnd,d=n.index,f=vt.lFrame.currentDirectiveIndex;try{bi(d);for(let m=s;m<a;m++){const w=e.data[m],P=t[m];ll(m),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Qd(w,P)}}finally{bi(-1),ll(f)}}(e,t,n))}function _c(e,t,n=En){const s=t.localNames;if(null!==s){let a=t.index+1;for(let u=0;u<s.length;u+=2){const d=s[u+1],f=-1===d?n(t,e):e[d];e[a++]=f}}}function yc(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ua(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ua(e,t,n,s,a,u,d,f,m,w){const P=20+s,U=P+a,$=function(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:xt);return n}(P,U),Q="function"==typeof w?w():w;return $[1]={type:e,blueprint:$,template:n,queries:null,viewQuery:f,declTNode:t,data:$.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:m,consts:Q,incompleteFirstPass:!1}}function Du(e,t,n,s){const a=Jd(t);null===n?a.push(s):(a.push(n),e.firstCreatePass&&qf(e).push(s,a.length-1))}function Lf(e,t,n){for(let s in e)if(e.hasOwnProperty(s)){const a=e[s];(n=null===n?{}:n).hasOwnProperty(s)?n[s].push(t,a):n[s]=[t,a]}return n}function Bi(e,t,n,s,a,u,d,f){const m=En(t,n);let P,w=t.inputs;!f&&null!=w&&(P=w[s])?(Nm(e,n,P,s,a),ls(t)&&function(e,t){const n=nr(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(s=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=d?d(a,t.value||"",s):a,I(u)?u.setProperty(m,s,a):vr(s)||(m.setProperty?m.setProperty(s,a):m[s]=a))}function Bf(e,t,n,s){let a=!1;if(io()){const u=function(e,t,n){const s=e.directiveRegistry;let a=null;if(s)for(let u=0;u<s.length;u++){const d=s[u];Af(n,d.selectors,!1)&&(a||(a=[]),vl(ys(n,t),e,d.type),Ln(d)?(bm(e,n),a.unshift(d)):a.push(d))}return a}(e,t,n),d=null===s?null:{"":-1};if(null!==u){a=!0,wm(n,e.data.length,u.length);for(let P=0;P<u.length;P++){const U=u[P];U.providersResolver&&U.providersResolver(U)}let f=!1,m=!1,w=lr(e,t,u.length,null);for(let P=0;P<u.length;P++){const U=u[P];n.mergedAttrs=pl(n.mergedAttrs,U.hostAttrs),Dm(e,n,t,w,U),xv(w,U,d),null!==U.contentQueries&&(n.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(n.flags|=128);const $=U.type.prototype;!f&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),f=!0),!m&&($.ngOnChanges||$.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),m=!0),w++}!function(e,t){const s=t.directiveEnd,a=e.data,u=t.attrs,d=[];let f=null,m=null;for(let w=t.directiveStart;w<s;w++){const P=a[w],U=P.inputs,$=null===u||tm(t)?null:kv(U,u);d.push($),f=Lf(U,w,f),m=Lf(P.outputs,w,m)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=16),f.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=f,t.outputs=m}(e,n)}d&&function(e,t,n){if(t){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const u=n[t[a+1]];if(null==u)throw new rn("301",`Export of name '${t[a+1]}' not found!`);s.push(t[a],u)}}}(n,s,d)}return n.mergedAttrs=pl(n.mergedAttrs,n.attrs),a}function jf(e,t,n,s,a,u){const d=u.hostBindings;if(d){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const m=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=m&&f.push(m),f.push(s,a,d)}}function Qd(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function bm(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function xv(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;Ln(t)&&(n[""]=e)}}function wm(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Dm(e,t,n,s,a){e.data[s]=a;const u=a.factory||(a.factory=Pr(a.type)),d=new dr(u,Ln(a),null);e.blueprint[s]=d,n[s]=d,jf(e,t,0,s,lr(e,n,a.hostVars,xt),a)}function Tm(e,t,n){const s=En(t,e),a=yc(n),u=e[10],d=Qs(e,la(e,a,null,n.onPush?64:16,s,t,u,u.createRenderer(s,n),null,null));e[t.index]=d}function Ys(e,t,n,s,a,u){const d=En(e,t);!function(e,t,n,s,a,u,d){if(null==u)I(e)?e.removeAttribute(t,a,n):t.removeAttribute(a);else{const f=null==d?Ce(u):d(u,s||"",a);I(e)?e.setAttribute(t,a,f,n):n?t.setAttributeNS(n,a,f):t.setAttribute(a,f)}}(t[11],d,u,e.value,n,s,a)}function Ov(e,t,n,s,a,u){const d=u[t];if(null!==d){const f=s.setInput;for(let m=0;m<d.length;){const w=d[m++],P=d[m++],U=d[m++];null!==f?s.setInput(n,U,w,P):n[P]=U}}}function kv(e,t){let n=null,s=0;for(;s<t.length;){const a=t[s];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,e[a],t[s+1])),s+=2}else s+=2;else s+=4}return n}function Am(e,t,n,s){return new Array(e,!0,!1,t,null,0,s,n,null,null)}function Rm(e,t){const n=nr(t,e);if(no(n)){const s=n[1];80&n[2]?Iu(s,n,s.template,n[8]):n[5]>0&&Gf(n)}}function Gf(e){for(let s=ri(e);null!==s;s=mu(s))for(let a=10;a<s.length;a++){const u=s[a];if(1024&u[2]){const d=u[1];Iu(d,u,d.template,u[8])}else u[5]>0&&Gf(u)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const a=nr(n[s],e);no(a)&&a[5]>0&&Gf(a)}}function Lv(e,t){const n=nr(t,e),s=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),bu(s,n,n[8])}function Qs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function vc(e){for(;e;){e[2]|=64;const t=hc(e);if(Lr(e)&&!t)return e;e=t}return null}function Tu(e,t,n){const s=t[10];s.begin&&s.begin();try{Iu(e,t,e.template,n)}catch(a){throw Kf(t,a),a}finally{s.end&&s.end()}}function kl(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],s=Fg(n),a=s[1];Av(a,s,a.template,n)}}(e[8])}function zf(e,t,n){ks(0),t(e,n)}const jv=(()=>Promise.resolve(null))();function Jd(e){return e[7]||(e[7]=[])}function qf(e){return e.cleanup||(e.cleanup=[])}function Kf(e,t){const n=e[9],s=n?n.get(cc,null):null;s&&s.handleError(t)}function Nm(e,t,n,s,a){for(let u=0;u<n.length;){const d=n[u++],f=n[u++],m=t[d],w=e.data[d];null!==w.setInput?w.setInput(m,a,s,f):m[f]=a}}function _o(e,t,n){const s=Vn(t,e);!function(e,t,n){I(e)?e.setValue(t,n):t.textContent=n}(e[11],s,n)}function Ec(e,t,n){let s=n?e.styles:null,a=n?e.classes:null,u=0;if(null!==t)for(let d=0;d<t.length;d++){const f=t[d];"number"==typeof f?u=f:1==u?a=pt(a,f):2==u&&(s=pt(s,f+": "+t[++d]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=a:e.classesWithoutHost=a}const Fl=new Ze("INJECTOR",-1);class Yf{get(t,n=Bs){if(n===Bs){const s=new Error(`NullInjectorError: No provider for ${be(t)}!`);throw s.name="NullInjectorError",s}return n}}const Au=new Ze("Set Injector scope."),ja={},km={};let Xd;function _n(){return void 0===Xd&&(Xd=new Yf),Xd}function Wt(e,t=null,n=null,s){return new $a(e,n,t||_n(),s)}class $a{constructor(t,n,s,a=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];n&&vs(n,f=>this.processProvider(f,t,n)),vs([t],f=>this.processInjectorType(f,[],u)),this.records.set(Fl,Ll(void 0,this));const d=this.records.get(Au);this.scope=null!=d?d.value:null,this.source=a||("object"==typeof t?null:be(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Bs,s=rt.Default){this.assertNotDestroyed();const a=ts(this),u=ot(void 0);try{if(!(s&rt.SkipSelf)){let f=this.records.get(t);if(void 0===f){const m=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Ze)&&nn(t);f=m&&this.injectableDefInScope(m)?Ll(An(t),ja):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(s&rt.Self?_n():this.parent).get(t,n=s&rt.Optional&&n===Bs?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Jo]=d[Jo]||[]).unshift(be(t)),a)throw d;return Xh(d,t,"R3InjectorError",this.source)}throw d}finally{ot(u),ts(a)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((s,a)=>t.push(be(a))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,s){if(!(t=He(t)))return!1;let a=Hn(t);const u=null==a&&t.ngModule||void 0,d=void 0===u?t:u,f=-1!==s.indexOf(d);if(void 0!==u&&(a=Hn(u)),null==a)return!1;if(null!=a.imports&&!f){let P;s.push(d);try{vs(a.imports,U=>{this.processInjectorType(U,n,s)&&(void 0===P&&(P=[]),P.push(U))})}finally{}if(void 0!==P)for(let U=0;U<P.length;U++){const{ngModule:$,providers:Q}=P[U];vs(Q,re=>this.processProvider(re,$,Q||Xe))}}this.injectorDefTypes.add(d);const m=Pr(d)||(()=>new d);this.records.set(d,Ll(m,ja));const w=a.providers;if(null!=w&&!f){const P=t;vs(w,U=>this.processProvider(U,P,w))}return void 0!==u&&void 0!==t.providers}processProvider(t,n,s){let a=Ru(t=He(t))?t:He(t&&t.provide);const u=(e=t,qn(e)?Ll(void 0,e.useValue):Ll(Su(e),ja));var e;if(Ru(t)||!0!==t.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Ll(void 0,ja,!0),d.factory=()=>js(d.multi),this.records.set(a,d)),a=t,d.multi.push(t)}this.records.set(a,u)}hydrate(t,n){return n.value===ja&&(n.value=km,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=He(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function An(e){const t=nn(e),n=null!==t?t.factory:Pr(e);if(null!==n)return n;if(e instanceof Ze)throw new Error(`Token ${be(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const s=function(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${be(e)}: (${s.join(", ")}).`)}const n=function(e){const t=e&&(e[Jn]||e[Xn]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Su(e,t,n){let s;if(Ru(e)){const a=He(e);return Pr(a)||An(a)}if(qn(e))s=()=>He(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...js(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))s=()=>fr(He(e.useExisting));else{const a=He(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Pr(a)||An(a);s=()=>new a(...js(e.deps))}return s}function Ll(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function qn(e){return null!==e&&"object"==typeof e&&Tl in e}function Ru(e){return"function"==typeof e}const Ha=function(e,t,n){return function(e,t=null,n=null,s){const a=Wt(e,t,n,s);return a._resolveInjectorDefTypes(),a}({name:n},t,e,n)};let Bn=(()=>{class e{static create(n,s){return Array.isArray(n)?Ha(n,s,""):Ha(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=Bs,e.NULL=new Yf,e.\u0275prov=Tt({token:e,providedIn:"any",factory:()=>fr(Fl)}),e.__NG_ELEMENT_ID__=-1,e})();function ip(e,t){gs(Fg(e)[1],Pn())}function Ga(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let a;if(Ln(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");a=t.\u0275dir}if(a){if(n){s.push(a);const d=e;d.inputs=oh(e.inputs),d.declaredInputs=oh(e.declaredInputs),d.outputs=oh(e.outputs);const f=a.hostBindings;f&&Gm(e,f);const m=a.viewQuery,w=a.contentQueries;if(m&&Hm(e,m),w&&Qv(e,w),Ge(e.inputs,a.inputs),Ge(e.declaredInputs,a.declaredInputs),Ge(e.outputs,a.outputs),Ln(a)&&a.data.animation){const P=e.data;P.animation=(P.animation||[]).concat(a.data.animation)}}const u=a.features;if(u)for(let d=0;d<u.length;d++){const f=u[d];f&&f.ngInherit&&f(e),f===Ga&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=pl(a.hostAttrs,n=pl(n,a.hostAttrs))}}(s)}function oh(e){return e===mt?{}:e===Xe?[]:e}function Hm(e,t){const n=e.viewQuery;e.viewQuery=n?(s,a)=>{t(s,a),n(s,a)}:t}function Qv(e,t){const n=e.contentQueries;e.contentQueries=n?(s,a,u)=>{t(s,a,u),n(s,a,u)}:t}function Gm(e,t){const n=e.hostBindings;e.hostBindings=n?(s,a)=>{t(s,a),n(s,a)}:t}let Wa=null;function Eo(){if(!Wa){const e=me.Symbol;if(e&&e.iterator)Wa=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const s=t[n];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(Wa=s)}}}return Wa}function ca(e){return!!ap(e)&&(Array.isArray(e)||!(e instanceof Map)&&Eo()in e)}function ap(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Kr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xu(e,t,n,s){const a=xe();return Kr(a,ps(),t)&&(Lt(),Ys(rr(),a,e,t,n,s)),xu}function Fu(e,t,n,s,a,u,d,f){const m=xe(),w=Lt(),P=e+20,U=w.firstCreatePass?function(e,t,n,s,a,u,d,f,m){const w=t.consts,P=Ba(t,e,4,d||null,On(w,f));Bf(t,n,P,On(w,m)),gs(t,P);const U=P.tViews=ua(2,P,s,a,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,w);return null!==t.queries&&(t.queries.template(t,P),U.queries=t.queries.embeddedTView(P)),P}(P,w,m,t,n,s,a,u,d):w.data[P];ti(U,!1);const $=m[11].createComment("");Vd(w,m,$,U),Di($,m),Qs(m,m[P]=Am($,m,$,U)),Ni(U)&&Kd(w,m,U),null!=d&&_c(m,U,f)}function Uu(e,t=rt.Default){const n=xe();return null===n?fr(e,t):ec(Pn(),n,He(e),t)}function fp(e,t,n){const s=xe();return Kr(s,ps(),t)&&Bi(Lt(),rr(),s,e,t,s[11],n,!1),fp}function pp(e,t,n,s,a){const d=a?"class":"style";Nm(e,n,t.inputs[d],d,s)}function gp(e,t,n,s){const a=xe(),u=Lt(),d=20+e,f=a[11],m=a[d]=_f(f,t,vt.lFrame.currentNamespace),w=u.firstCreatePass?function(e,t,n,s,a,u,d){const f=t.consts,w=Ba(t,e,2,a,On(f,u));return Bf(t,n,w,On(f,d)),null!==w.attrs&&Ec(w,w.attrs,!1),null!==w.mergedAttrs&&Ec(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(d,u,a,0,t,n,s):u.data[d];ti(w,!0);const P=w.mergedAttrs;null!==P&&Go(f,m,P);const U=w.classes;null!==U&&Tf(f,m,U);const $=w.styles;null!==$&&Df(f,m,$),64!=(64&w.flags)&&Vd(u,a,m,w),0===vt.lFrame.elementDepthCount&&Di(m,a),vt.lFrame.elementDepthCount++,Ni(w)&&(Kd(u,a,w),function(e,t,n){if(Pi(t)){const a=t.directiveEnd;for(let u=t.directiveStart;u<a;u++){const d=e.data[u];d.contentQueries&&d.contentQueries(1,n[u],u)}}}(u,w,a)),null!==s&&_c(a,w)}function _h(){let e=Pn();Oo()?vt.lFrame.isParent=!1:(e=e.parent,ti(e,!1));const t=e;vt.lFrame.elementDepthCount--;const n=Lt();n.firstCreatePass&&(gs(n,e),Pi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&pp(n,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&pp(n,t,xe(),t.stylesWithoutHost,!1)}function Oc(e,t,n,s){gp(e,t,n,s),_h()}function yp(e){return!!e&&"function"==typeof e.then}function d_(e){return!!e&&"function"==typeof e.subscribe}const vp=d_;function Ep(e,t,n,s){const a=xe(),u=Lt(),d=Pn();return function(e,t,n,s,a,u,d,f){const m=Ni(s),P=e.firstCreatePass&&qf(e),U=t[8],$=Jd(t);let Q=!0;if(3&s.type||f){const de=En(s,t),$e=f?f(de):de,Ae=$.length,_t=f?Nt=>f(Oe(Nt[s.index])):s.index;if(I(n)){let Nt=null;if(!f&&m&&(Nt=function(e,t,n,s){const a=e.cleanup;if(null!=a)for(let u=0;u<a.length-1;u+=2){const d=a[u];if(d===n&&a[u+1]===s){const f=t[7],m=a[u+2];return f.length>m?f[m]:null}"string"==typeof d&&(u+=2)}return null}(e,t,a,s.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=u,Nt.__ngLastListenerFn__=u,Q=!1;else{u=yh(s,t,U,u,!1);const on=n.listen($e,a,u);$.push(u,on),P&&P.push(a,_t,Ae,Ae+1)}}else u=yh(s,t,U,u,!0),$e.addEventListener(a,u,d),$.push(u),P&&P.push(a,_t,Ae,d)}else u=yh(s,t,U,u,!1);const re=s.outputs;let _e;if(Q&&null!==re&&(_e=re[a])){const de=_e.length;if(de)for(let $e=0;$e<de;$e+=2){const oi=t[_e[$e]][_e[$e+1]].subscribe(u),Ao=$.length;$.push(u,oi),P&&P.push(a,s.index,Ao,-(Ao+1))}}}(u,a,a[11],d,e,t,!!n,s),Ep}function f_(e,t,n,s){try{return!1!==n(s)}catch(a){return Kf(e,a),!1}}function yh(e,t,n,s,a){return function u(d){if(d===Function)return s;const f=2&e.flags?nr(e.index,t):t;0==(32&t[2])&&vc(f);let m=f_(t,0,s,d),w=u.__ngNextListenerFn__;for(;w;)m=f_(t,0,w,d)&&m,w=w.__ngNextListenerFn__;return a&&!1===m&&(d.preventDefault(),d.returnValue=!1),m}}function kc(e,t,n,s,a){const u=e[n+1],d=null===t;let f=s?mo(u):sa(u),m=!1;for(;0!==f&&(!1===m||d);){const P=e[f+1];Ch(e[f],t)&&(m=!0,e[f+1]=s?Gd(P):am(P)),f=s?mo(P):sa(P)}m&&(e[n+1]=s?am(u):Gd(u))}function Ch(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wl(e,t)>=0}function Tp(e,t){return function(e,t,n,s){const a=xe(),u=Lt(),d=function(e){const t=vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);u.firstUpdatePass&&function(e,t,n,s){const a=e.data;if(null===a[n+1]){const u=a[qr()],d=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(u,s)&&null===t&&!d&&(t=!1),t=function(e,t,n,s){const a=function(e){const t=vt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(n=Uc(n=Sp(null,e,t,n,s),t.attrs,s),u=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==a)if(n=Sp(a,e,t,n,s),null===u){let m=function(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==sa(s))return e[mo(s)]}(e,t,s);void 0!==m&&Array.isArray(m)&&(m=Sp(null,e,t,m[1],s),m=Uc(m,t.attrs,s),function(e,t,n,s){e[mo(n?t.classBindings:t.styleBindings)]=s}(e,t,s,m))}else u=function(e,t,n){let s;const a=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<a;u++)s=Uc(s,e[u].hostAttrs,n);return Uc(s,t.attrs,n)}(e,t,s)}return void 0!==u&&(s?t.residualClasses=u:t.residualStyles=u),n}(a,u,t,s),function(e,t,n,s,a,u){let d=u?t.classBindings:t.styleBindings,f=mo(d),m=sa(d);e[s]=n;let P,w=!1;if(Array.isArray(n)){const U=n;P=U[1],(null===P||wl(U,P)>0)&&(w=!0)}else P=n;if(a)if(0!==m){const $=mo(e[f+1]);e[s+1]=$d($,f),0!==$&&(e[$+1]=Hd(e[$+1],s)),e[f+1]=function(e,t){return 131071&e|t<<17}(e[f+1],s)}else e[s+1]=$d(f,0),0!==f&&(e[f+1]=Hd(e[f+1],s)),f=s;else e[s+1]=$d(m,0),0===f?f=s:e[m+1]=Hd(e[m+1],s),m=s;w&&(e[s+1]=am(e[s+1])),kc(e,P,s,!0),kc(e,P,s,!1),function(e,t,n,s,a){const u=a?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&wl(u,t)>=0&&(n[s+1]=Gd(n[s+1]))}(t,P,e,s,u),d=$d(f,m),u?t.classBindings=d:t.styleBindings=d}(a,u,t,n,d,s)}}(u,e,d,s),t!==xt&&Kr(a,d,t)&&function(e,t,n,s,a,u,d,f){if(!(3&t.type))return;const m=e.data,w=m[f+1];Th(function(e){return 1==(1&e)}(w)?S_(m,t,n,a,sa(w),d):void 0)||(Th(u)||function(e){return 2==(2&e)}(w)&&(u=S_(m,null,n,a,f,d)),function(e,t,n,s,a){const u=I(e);if(t)a?u?e.addClass(n,s):n.classList.add(s):u?e.removeClass(n,s):n.classList.remove(s);else{let d=-1===s.indexOf("-")?void 0:go.DashCase;if(null==a)u?e.removeStyle(n,s,d):n.style.removeProperty(s);else{const f="string"==typeof a&&a.endsWith("!important");f&&(a=a.slice(0,-10),d|=go.Important),u?e.setStyle(n,s,a,d):n.style.setProperty(s,a,f?"important":"")}}}(s,d,Vn(qr(),n),a,u))}(u,u.data[qr()],a,a[11],e,a[d+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=be(ta(e)))),e}(t,n),s,d)}(e,t,null,!0),Tp}function Sp(e,t,n,s,a){let u=null;const d=n.directiveEnd;let f=n.directiveStylingLast;for(-1===f?f=n.directiveStart:f++;f<d&&(u=t[f],s=Uc(s,u.hostAttrs,a),u!==e);)f++;return null!==e&&(n.directiveStylingLast=f),s}function Uc(e,t,n){const s=n?1:2;let a=-1;if(null!==t)for(let u=0;u<t.length;u++){const d=t[u];"number"==typeof d?a=d:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Vi(e,d,!!n||t[++u]))}return void 0===e?null:e}function S_(e,t,n,s,a,u){const d=null===t;let f;for(;a>0;){const m=e[a],w=Array.isArray(m),P=w?m[1]:m,U=null===P;let $=n[a+1];$===xt&&($=U?Xe:void 0);let Q=U?Il($,s):P===s?$:void 0;if(w&&!Th(Q)&&(Q=Il(m,s)),Th(Q)&&(f=Q,d))return f;const re=e[a+1];a=d?mo(re):sa(re)}if(null!==t){let m=u?t.residualClasses:t.residualStyles;null!=m&&(f=Il(m,s))}return f}function Th(e){return void 0!==e}function Sh(e,t=""){const n=xe(),s=Lt(),a=e+20,u=s.firstCreatePass?Ba(s,a,1,t,null):s.data[a],d=n[a]=function(e,t){return I(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Vd(s,n,d,u),ti(u,!1)}function Bc(e){return zl("",e,""),Bc}function zl(e,t,n){const s=xe(),a=function(e,t,n,s){return Kr(e,ps(),n)?t+Ce(n)+s:xt}(s,e,t,n);return a!==xt&&_o(s,qr(),a),zl}function jp(e,t,n){const s=xe();return Kr(s,ps(),t)&&Bi(Lt(),rr(),s,e,t,s[11],n,!0),jp}const Za=void 0;var V_=["en",[["a","p"],["AM","PM"],Za],[["AM","PM"],Za,Za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Za,"{1} 'at' {0}",Za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ql={};function qc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ph(t);if(n)return n;const s=t.split("-")[0];if(n=Ph(s),n)return n;if("en"===s)return V_;throw new Error(`Missing locale data for the locale "${e}".`)}function U_(e){return qc(e)[Dt.PluralCase]}function Ph(e){return e in ql||(ql[e]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[e]),ql[e]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Nh="en-US";let _a=Nh;function Hp(e){gn(e,"Expected localeId to be defined"),"string"==typeof e&&(_a=e.toLowerCase().replace(/_/g,"-"))}function Zp(e,t,n,s,a){if(e=He(e),Array.isArray(e))for(let u=0;u<e.length;u++)Zp(e[u],t,n,s,a);else{const u=Lt(),d=xe();let f=Ru(e)?e:He(e.provide),m=Su(e);const w=Pn(),P=1048575&w.providerIndexes,U=w.directiveStart,$=w.providerIndexes>>20;if(Ru(e)||!e.multi){const Q=new dr(m,a,Uu),re=ay(f,t,a?P:P+$,U);-1===re?(vl(ys(w,d),u,f),Jp(u,e,t.length),t.push(f),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),n.push(Q),d.push(Q)):(n[re]=Q,d[re]=Q)}else{const Q=ay(f,t,P+$,U),re=ay(f,t,P,P+$),_e=Q>=0&&n[Q],de=re>=0&&n[re];if(a&&!de||!a&&!_e){vl(ys(w,d),u,f);const $e=function(e,t,n,s,a){const u=new dr(e,n,Uu);return u.multi=[],u.index=t,u.componentProviders=0,QE(u,a,s&&!n),u}(a?ZE:NI,n.length,a,s,m);!a&&de&&(n[re].providerFactory=$e),Jp(u,e,t.length,0),t.push(f),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),n.push($e),d.push($e)}else Jp(u,e,Q>-1?Q:re,QE(n[a?re:Q],m,!a&&s));!a&&s&&de&&n[re].componentProviders++}}}function Jp(e,t,n,s){const a=Ru(t);if(a||function(e){return!!e.useClass}(t)){const d=(t.useClass||t).prototype.ngOnDestroy;if(d){const f=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const m=f.indexOf(n);-1===m?f.push(n,[s,d]):f[m+1].push(s,d)}else f.push(n,d)}}}function QE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ay(e,t,n,s){for(let a=n;a<s;a++)if(t[a]===e)return a;return-1}function NI(e,t,n,s){return Xp(this.multi,[])}function ZE(e,t,n,s){const a=this.multi;let u;if(this.providerFactory){const d=this.providerFactory.componentProviders,f=co(n,n[1],this.providerFactory.index,s);u=f.slice(0,d),Xp(a,u);for(let m=d;m<f.length;m++)u.push(f[m])}else u=[],Xp(a,u);return u}function Xp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function JE(e,t=[]){return n=>{n.providersResolver=(s,a)=>function(e,t,n){const s=Lt();if(s.firstCreatePass){const a=Ln(e);Zp(n,s.data,s.blueprint,a,!0),Zp(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}class eC{}const nC="ngComponent";class ly{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${be(e)}. Did you add it to @NgModule.entryComponents?`);return t[nC]=e,t}(t)}}let Wu=(()=>{class e{}return e.NULL=new ly,e})();function Fh(...e){}function zu(e,t){return new va(En(e,t))}const sC=function(){return zu(Pn(),xe())};let va=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=sC,e})();function oC(e){return e instanceof va?e.nativeElement:e}class tg{}let kI=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>LI(),e})();const LI=function(){const e=xe(),n=nr(Pn().index,e);return function(e){return e[11]}(cr(n)?n:e)};let uy=(()=>{class e{}return e.\u0275prov=Tt({token:e,providedIn:"root",factory:()=>null}),e})();class aC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cy=new aC("12.2.16");class lC{constructor(){}supports(t){return ca(t)}create(t){return new jI(t)}}const BI=(e,t)=>t;class jI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||BI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,a=0,u=null;for(;n||s;){const d=!s||n&&n.currentIndex<dC(s,a,u)?n:s,f=dC(d,a,u),m=d.currentIndex;if(d===s)a--,s=s._nextRemoved;else if(n=n._next,null==d.previousIndex)a++;else{u||(u=[]);const w=f-a,P=m-a;if(w!=P){for(let $=0;$<w;$++){const Q=$<u.length?u[$]:u[$]=0,re=Q+$;P<=re&&re<w&&(u[$]=Q+1)}u[d.previousIndex]=P-w}}f!==m&&t(d,f,m)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ca(t))throw new Error(`Error trying to diff '${be(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,u,d,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)u=t[f],d=this._trackByFn(f,u),null!==n&&Object.is(n.trackById,d)?(s&&(n=this._verifyReinsertion(n,u,d,f)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,d,f),s=!0),n=n._next}else a=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Eo()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,f=>{d=this._trackByFn(a,f),null!==n&&Object.is(n.trackById,d)?(s&&(n=this._verifyReinsertion(n,f,d,a)),Object.is(n.item,f)||this._addIdentityChange(n,f)):(n=this._mismatch(n,f,d,a),s=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,a){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,a)):t=this._addAfter(new uC(n,s),u,a),t}_verifyReinsertion(t,n,s,a){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==u?t=this._reinsertAfter(u,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,u=t._nextRemoved;return null===a?this._removalsHead=u:a._nextRemoved=u,null===u?this._removalsTail=a:u._prevRemoved=a,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class uC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $I{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class cC{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new $I,this.map.set(n,s)),s.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dC(e,t,n){const s=e.previousIndex;if(null===s)return s;let a=0;return n&&s<n.length&&(a=n[s]),s+t+a}class hC{constructor(){}supports(t){return t instanceof Map||ap(t)}create(){return new HI}}class HI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ap(t)))throw new Error(`Error trying to diff '${be(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(a,s);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const u=a._prev,d=a._next;return u&&(u._next=d),d&&(d._prev=u),a._next=null,a._prev=null,a}const s=new GI(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class GI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new ng([new lC])}let ng=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||fC()),deps:[[e,new E,new $s]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Tt({token:e,providedIn:"root",factory:fC}),e})();function pC(){return new rg([new hC])}let rg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||pC()),deps:[[e,new E,new $s]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(s)return s;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Tt({token:e,providedIn:"root",factory:pC}),e})();function Lh(e,t,n,s,a=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&s.push(Oe(u)),Fr(u))for(let f=10;f<u.length;f++){const m=u[f],w=m[1].firstChild;null!==w&&Lh(m[1],m,w,s)}const d=n.type;if(8&d)Lh(e,t,n.child,s);else if(32&d){const f=gf(n,t);let m;for(;m=f();)s.push(m)}else if(16&d){const f=Yg(t,n);if(Array.isArray(f))s.push(...f);else{const m=hc(t[16]);Lh(m[1],m,f,s,!0)}}n=a?n.projectionNext:n.next}return s}class Vh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Lh(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Fr(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(vf(t,s),Fa(n,s))}this._attachedToViewContainer=!1}zg(this._lView[1],this._lView)}onDestroy(t){Du(this._lView[1],this._lView,null,t)}markForCheck(){vc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){fs(!0);try{Tu(e,t,n)}finally{fs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ml(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class zI extends Vh{constructor(t){super(t),this._view=t}detectChanges(){kl(this._view)}checkNoChanges(){!function(e){fs(!0);try{kl(e)}finally{fs(!1)}}(this._view)}get context(){return null}}const KI=function(e){return function(e,t,n){if(ls(e)&&!n){const s=nr(e.index,t);return new Vh(s,s)}return 47&e.type?new Vh(t[16],t):null}(Pn(),xe(),16==(16&e))};let YI=(()=>{class e{}return e.__NG_ELEMENT_ID__=KI,e})();const ZI=[new hC],XI=new ng([new lC]),mC=new rg(ZI),tw=function(){return i(Pn(),xe())};let Uh=(()=>{class e{}return e.__NG_ELEMENT_ID__=tw,e})();const nw=Uh,o=class extends nw{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t){const n=this._declarationTContainer.tViews,s=la(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[G];return null!==u&&(s[G]=u.createEmbeddedView(n)),bu(n,s,t),new Vh(s)}};function i(e,t){return 4&e.type?new o(t,e,zu(e,t)):null}class l{}class c{}const M=function(){return lt(Pn(),xe())};let L=(()=>{class e{}return e.__NG_ELEMENT_ID__=M,e})();const se=L,ce=class extends se{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return zu(this._hostTNode,this._hostLView)}get injector(){return new Oa(this._hostTNode,this._hostLView)}get parentInjector(){const t=Wo(this._hostTNode,this._hostLView);if(uo(t)){const n=Fs(t,this._hostLView),s=xr(t);return new Oa(n[1].data[s+8],n)}return new Oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ge(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,s){const a=t.createEmbeddedView(n||{});return this.insert(a,s),a}createComponent(t,n,s,a,u){const d=s||this.parentInjector;if(!u&&null==t.ngModule&&d){const m=d.get(l,null);m&&(u=m)}const f=t.create(d,a,void 0,u);return this.insert(f.hostView,n),f}insert(t,n){const s=t._lView,a=s[1];if(Fr(s[3])){const P=this.indexOf(t);if(-1!==P)this.detach(P);else{const U=s[3],$=new ce(U,U[6],U[3]);$.detach($.indexOf(t))}}const u=this._adjustIndex(n),d=this._lContainer;!function(e,t,n,s){const a=10+s,u=n.length;s>0&&(n[a-1][4]=t),s<u-10?(t[4]=n[a],lu(n,10+s,t)):(n.push(t),t[4]=null),t[3]=n;const d=t[17];null!==d&&n!==d&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(d,t);const f=t[G];null!==f&&f.insertView(e),t[2]|=128}(a,s,d,u);const f=vu(u,d),m=s[11],w=yu(m,d[7]);return null!==w&&function(e,t,n,s,a,u){s[0]=a,s[6]=t,Ml(e,s,n,1,a,u)}(a,d[6],m,s,w,f),t.attachToViewContainerRef(),lu(Ue(d),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ge(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=vf(this._lContainer,n);s&&(Fa(Ue(this._lContainer),n),zg(s[1],s))}detach(t){const n=this._adjustIndex(t,-1),s=vf(this._lContainer,n);return s&&null!=Fa(Ue(this._lContainer),n)?new Vh(s):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function ge(e){return e[8]}function Ue(e){return e[8]||(e[8]=[])}function lt(e,t){let n;const s=t[e.index];if(Fr(s))n=s;else{let a;if(8&e.type)a=Oe(s);else{const u=t[11];a=u.createComment("");const d=En(e,t);ia(u,yu(u,d),a,function(e,t){return I(e)?e.nextSibling(t):t.nextSibling}(u,d),!1)}t[e.index]=n=Am(s,t,a,e),Qs(t,n)}return new ce(n,e,t)}const Hh={};class vw extends Wu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mt(t);return new Cw(n,this.ngModule)}}function Ew(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const oT=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>nv});class Cw extends eC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(im).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ew(this.componentDef.inputs)}get outputs(){return Ew(this.componentDef.outputs)}create(t,n,s,a){const u=(a=a||this.ngModule)?function(e,t){return{get:(n,s,a)=>{const u=e.get(n,Hh,a);return u!==Hh||s===Hh?u:t.get(n,s,a)}}}(t,a.injector):t,d=u.get(tg,O),f=u.get(uy,null),m=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",P=s?function(e,t,n){if(I(e))return e.selectRootElement(t,n===qe.ShadowDom);let s="string"==typeof t?e.querySelector(t):t;return s.textContent="",s}(m,s,this.componentDef.encapsulation):_f(d.createRenderer(null,this.componentDef),w,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(w)),U=this.componentDef.onPush?576:528,$=function(e,t){return{components:[],scheduler:e||nv,clean:jv,playerHandler:t||null,flags:0}}(),Q=ua(0,null,null,1,0,null,null,null,null,null),re=la(null,Q,$,U,null,null,d,m,f,u);let _e,de;ul(re);try{const $e=function(e,t,n,s,a,u){const d=n[1];n[20]=e;const m=Ba(d,20,2,"#host",null),w=m.mergedAttrs=t.hostAttrs;null!==w&&(Ec(m,w,!0),null!==e&&(Go(a,e,w),null!==m.classes&&Tf(a,e,m.classes),null!==m.styles&&Df(a,e,m.styles)));const P=s.createRenderer(e,t),U=la(n,yc(t),null,t.onPush?64:16,n[20],m,s,P,u||null,null);return d.firstCreatePass&&(vl(ys(m,n),d,t.type),bm(d,m),wm(m,n.length,1)),Qs(n,U),n[20]=U}(P,this.componentDef,re,d,m);if(P)if(s)Go(m,P,["ng-version",cy.full]);else{const{attrs:Ae,classes:_t}=function(e){const t=[],n=[];let s=1,a=2;for(;s<e.length;){let u=e[s];if("string"==typeof u)2===a?""!==u&&t.push(u,e[++s]):8===a&&n.push(u);else{if(!zs(a))break;a=u}s++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Ae&&Go(m,P,Ae),_t&&_t.length>0&&Tf(m,P,_t.join(" "))}if(de=_r(Q,20),void 0!==n){const Ae=de.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Nt=n[_t];Ae.push(null!=Nt?Array.from(Nt):null)}}_e=function(e,t,n,s,a){const u=n[1],d=function(e,t,n){const s=Pn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Dm(e,s,t,lr(e,t,1,null),n));const a=co(t,e,s.directiveStart,s);Di(a,t);const u=En(s,t);return u&&Di(u,t),a}(u,n,t);if(s.components.push(d),e[8]=d,a&&a.forEach(m=>m(d,t)),t.contentQueries){const m=Pn();t.contentQueries(1,d,m.directiveStart)}const f=Pn();return!u.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(bi(f.index),jf(n[1],f,0,f.directiveStart,f.directiveEnd,t),Qd(t,d)),d}($e,this.componentDef,re,$,[ip]),bu(Q,re,null)}finally{Bo()}return new uT(this.componentType,_e,zu(de,re),re,de)}}class uT extends class{}{constructor(t,n,s,a,u){super(),this.location=s,this._rootLView=a,this._tNode=u,this.instance=n,this.hostView=this.changeDetectorRef=new zI(a),this.componentType=t}get injector(){return new Oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Gh=new Map;class hT extends l{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const s=In(t),a=t[he]||null;a&&Hp(a),this._bootstrapComponents=po(s.bootstrap),this._r3Injector=Wt(t,n,[{provide:l,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver}],be(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Bn.THROW_IF_NOT_FOUND,s=rt.Default){return t===Bn||t===l||t===Fl?this:this._r3Injector.get(t,n,s)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class MC extends c{constructor(t){super(),this.moduleType=t,null!==In(t)&&function(e){const t=new Set;!function n(s){const a=In(s,!0),u=a.id;null!==u&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${be(t)} vs ${be(t.name)}`)}(u,Gh.get(u),s),Gh.set(u,s));const d=po(a.imports);for(const f of d)t.has(f)||(t.add(f),n(f))}(e)}(t)}create(t){return new hT(this.moduleType,t)}}function PC(e){return t=>{setTimeout(e,void 0,t)}}const rl=class extends H.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){var a,u,d;let f=t,m=n||(()=>null),w=s;if(t&&"object"==typeof t){const U=t;f=null===(a=U.next)||void 0===a?void 0:a.bind(U),m=null===(u=U.error)||void 0===u?void 0:u.bind(U),w=null===(d=U.complete)||void 0===d?void 0:d.bind(U)}this.__isAsync&&(m=PC(m),f&&(f=PC(f)),w&&(w=PC(w)));const P=super.subscribe({next:f,error:m,complete:w});return t instanceof Le.w&&t.add(P),P}};function PT(){return this._results[Eo()]()}class fy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Eo(),s=fy.prototype;s[n]||(s[n]=PT)}get changes(){return this._changes||(this._changes=new rl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const a=Xi(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],u=t[s];if(n&&(a=n(a),u=n(u)),u!==a)return!1}return!0}(s._results,a,n))&&(s._results=a,s.length=a.length,s.last=a[this.length-1],s.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class NC{constructor(t){this.queryList=t,this.matches=null}clone(){return new NC(this.queryList)}setDirty(){this.queryList.setDirty()}}class xC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let u=0;u<s;u++){const d=n.getByIndex(u);a.push(this.queries[d.indexInDeclarationView].clone())}return new xC(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Fw(t,n).matches&&this.queries[n].setDirty()}}class Rw{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class OC{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const a=null!==n?n.length:0,u=this.getByIndex(s).embeddedTView(t,a);u&&(u.indexInDeclarationView=s,null!==n?n.push(u):n=[u])}return null!==n?new OC(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kC{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new kC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const u=s[a];this.matchTNodeWithReadOption(t,n,OT(n,u)),this.matchTNodeWithReadOption(t,n,Dn(n,t,u,!1,!1))}else s===Uh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Dn(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===va||a===L||a===Uh&&4&n.type)this.addMatch(n.index,-2);else{const u=Dn(n,t,a,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function OT(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function FT(e,t,n,s){return-1===n?function(e,t){return 11&e.type?zu(e,t):4&e.type?i(e,t):null}(t,e):-2===n?function(e,t,n){return n===va?zu(t,e):n===Uh?i(t,e):n===L?lt(t,e):void 0}(e,t,s):co(e,e[1],n,t)}function Mw(e,t,n,s){const a=t[G].queries[s];if(null===a.matches){const u=e.data,d=n.matches,f=[];for(let m=0;m<d.length;m+=2){const w=d[m];f.push(w<0?null:FT(t,u[w],d[m+1],n.metadata.read))}a.matches=f}return a.matches}function FC(e,t,n,s){const a=e.queries.getByIndex(n),u=a.matches;if(null!==u){const d=Mw(e,t,a,n);for(let f=0;f<u.length;f+=2){const m=u[f];if(m>0)s.push(d[f/2]);else{const w=u[f+1],P=t[-m];for(let U=10;U<P.length;U++){const $=P[U];$[17]===$[3]&&FC($[1],$,w,s)}if(null!==P[9]){const U=P[9];for(let $=0;$<U.length;$++){const Q=U[$];FC(Q[1],Q,w,s)}}}}}return s}function Pw(e){const t=xe(),n=Lt(),s=Xl();ks(s+1);const a=Fw(n,s);if(e.dirty&&Nr(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const u=a.crossesNgTemplate?FC(n,t,s,[]):Mw(n,t,a,s);e.reset(u,oC),e.notifyOnChanges()}return!0}return!1}function Nw(e,t,n,s){const a=Lt();if(a.firstCreatePass){const u=Pn();(function(e,t,n){null===e.queries&&(e.queries=new OC),e.queries.track(new kC(t,n))})(a,new Rw(t,n,s),u.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function(e,t,n){const s=new fy(4==(4&n));Du(e,t,s,s.destroy),null===t[G]&&(t[G]=new xC),t[G].queries.push(new NC(s))}(a,xe(),n)}function xw(){return e=xe(),t=Xl(),e[G].queries[t].queryList;var e,t}function Fw(e,t){return e.queries.getByIndex(t)}const $C=new Ze("Application Initializer");let zh=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const u=this.appInits[a]();if(yp(u))n.push(u);else if(vp(u)){const d=new Promise((f,m)=>{u.subscribe({complete:f,error:m})});n.push(d)}}Promise.all(n).then(()=>{s()}).catch(a=>{this.reject(a)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(fr($C,8))},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();const eD=new Ze("AppId"),pA={provide:eD,useFactory:function(){return`${HC()}${HC()}${HC()}`},deps:[]};function HC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tD=new Ze("Platform Initializer"),nD=new Ze("Platform ID"),rD=new Ze("appBootstrapListener");let iD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();const my=new Ze("LocaleId"),sD=new Ze("DefaultCurrencyCode");class mA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const GC=function(e){return new MC(e)},_A=GC,yA=function(e){return Promise.resolve(GC(e))},oD=function(e){const t=GC(e),s=po(In(e).declarations).reduce((a,u)=>{const d=Mt(u);return d&&a.push(new Cw(d)),a},[]);return new mA(t,s)},vA=oD,EA=function(e){return Promise.resolve(oD(e))};let pg=(()=>{class e{constructor(){this.compileModuleSync=_A,this.compileModuleAsync=yA,this.compileModuleAndAllComponentsSync=vA,this.compileModuleAndAllComponentsAsync=EA}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();const IA=(()=>Promise.resolve(0))();function WC(e){"undefined"==typeof Zone?IA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Xs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rl(!1),this.onMicrotaskEmpty=new rl(!1),this.onStable=new rl(!1),this.onError=new rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&n,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function(){let e=me.requestAnimationFrame,t=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(me,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,qC(e),e.isCheckStableRunning=!0,zC(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),qC(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,a,u,d,f)=>{try{return aD(e),n.invokeTask(a,u,d,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),lD(e)}},onInvoke:(n,s,a,u,d,f,m)=>{try{return aD(e),n.invoke(a,u,d,f,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),lD(e)}},onHasTask:(n,s,a,u)=>{n.hasTask(a,u),s===a&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,qC(e),zC(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,s,a,u)=>(n.handleError(a,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(a)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,a){const u=this._inner,d=u.scheduleEventTask("NgZoneEvent: "+a,t,DA,Fh,Fh);try{return u.runTask(d,n,s)}finally{u.cancelTask(d)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const DA={};function zC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function aD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lD(e){e._nesting--,zC(e)}class SA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rl,this.onMicrotaskEmpty=new rl,this.onStable=new rl,this.onError=new rl}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,a){return t.apply(n,s)}}let uD=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),WC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WC(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,a){let u=-1;s&&s>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==u),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:a})}whenStable(n,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,s,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(fr(Xs))},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})(),cD=(()=>{class e{constructor(){this._applications=new Map,KC.addToWindow(this)}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return KC.findTestabilityInTree(this,n,s)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();class RA{addToWindow(t){}findTestabilityInTree(t,n,s){return null}}function MA(e){KC=e}let KC=new RA,dD=!0,hD=!1;function PA(){if(hD)throw new Error("Cannot enable prod mode after platform setup.");dD=!1}let Ia;const pD=new Ze("AllowMultipleToken");class VA{constructor(t,n){this.name=t,this.token=n}}function gD(e,t,n=[]){const s=`Platform: ${t}`,a=new Ze(s);return(u=[])=>{let d=mD();if(!d||d.injector.get(pD,!1))if(e)e(n.concat(u).concat({provide:a,useValue:!0}));else{const f=n.concat(u).concat({provide:a,useValue:!0},{provide:Au,useValue:"platform"});!function(e){if(Ia&&!Ia.destroyed&&!Ia.injector.get(pD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ia=e.get(_D);const t=e.get(tD,null);t&&t.forEach(n=>n())}(Bn.create({providers:f,name:s}))}return function(e){const t=mD();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(a)}}function mD(){return Ia&&!Ia.destroyed?Ia:null}let _D=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const f=function(e,t){let n;return n="noop"===e?new SA:("zone.js"===e?void 0:e)||new Xs({enableLongStackTrace:(hD=!0,dD),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),m=[{provide:Xs,useValue:f}];return f.run(()=>{const w=Bn.create({providers:m,parent:this.injector,name:n.moduleType.name}),P=n.create(w),U=P.injector.get(cc,null);if(!U)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return f.runOutsideAngular(()=>{const $=f.onError.subscribe({next:Q=>{U.handleError(Q)}});P.onDestroy(()=>{YC(this._modules,P),$.unsubscribe()})}),function(e,t,n){try{const s=n();return yp(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(U,f,()=>{const $=P.injector.get(zh);return $.runInitializers(),$.donePromise.then(()=>(Hp(P.injector.get(my,Nh)||Nh),this._moduleDoBootstrap(P),P))})})}bootstrapModule(n,s=[]){const a=yD({},s);return function(e,t,n){const s=new MC(n);return Promise.resolve(s)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,a))}_moduleDoBootstrap(n){const s=n.injector.get(gg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${be(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(fr(Bn))},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();function yD(e,t){return Array.isArray(t)?t.reduce(yD,e):Object.assign(Object.assign({},e),t)}let gg=(()=>{class e{constructor(n,s,a,u,d){this._zone=n,this._injector=s,this._exceptionHandler=a,this._componentFactoryResolver=u,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new T.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),m=new T.y(w=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),WC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{P.unsubscribe(),U.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,s=e[e.length-1];return(0,x.K)(s)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof T.y?e[0]:(0,fe.J)(t)((0,Re.n)(e,n))}(f,m.pipe(e=>(0,Y.x)()(function(e,t){return function(s){let a;a="function"==typeof e?e:function(){return e};const u=Object.create(s,Se.N);return u.source=s,u.subjectFactory=a,u}}(oe)(e))))}bootstrap(n,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let a;a=n instanceof eC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(a.componentType);const u=function(e){return e.isBoundToModule}(a)?void 0:this._injector.get(l),f=a.create(Bn.NULL,[],s||a.selector,u),m=f.location.nativeElement,w=f.injector.get(uD,null),P=w&&f.injector.get(cD);return w&&P&&P.registerApplication(m,w),f.onDestroy(()=>{this.detachView(f.hostView),YC(this.components,f),P&&P.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;YC(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(rD,[]).concat(this._bootstrapListeners).forEach(a=>a(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(fr(Xs),fr(Bn),fr(cc),fr(Wu),fr(zh))},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();function YC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class GA{}class zA{}const qA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let KA=(()=>{class e{constructor(n,s){this._compiler=n,this._config=s||qA}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[s,a]=n.split("#");return void 0===a&&(a="default"),z(8255)(s).then(u=>u[a]).then(u=>bD(u,s,a)).then(u=>this._compiler.compileModuleAsync(u))}loadFactory(n){let[s,a]=n.split("#"),u="NgFactory";return void 0===a&&(a="default",u=""),z(8255)(this._config.factoryPathPrefix+s+this._config.factoryPathSuffix).then(d=>d[a+u]).then(d=>bD(d,s,a))}}return e.\u0275fac=function(n){return new(n||e)(fr(pg),fr(zA,8))},e.\u0275prov=Tt({token:e,factory:e.\u0275fac}),e})();function bD(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const nS=function(e){return null},iS=gD(null,"core",[{provide:nD,useValue:"unknown"},{provide:_D,deps:[Bn]},{provide:cD,deps:[]},{provide:iD,deps:[]}]),uS=[{provide:gg,useClass:gg,deps:[Xs,Bn,cc,Wu,zh]},{provide:oT,deps:[Xs],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:zh,useClass:zh,deps:[[new $s,$C]]},{provide:pg,useClass:pg,deps:[]},pA,{provide:ng,useFactory:function(){return XI},deps:[]},{provide:rg,useFactory:function(){return mC},deps:[]},{provide:my,useFactory:function(e){return Hp(e=e||"undefined"!=typeof $localize&&$localize.locale||Nh),e},deps:[[new Al(my),new $s,new E]]},{provide:sD,useValue:"USD"}];let dS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(fr(gg))},e.\u0275mod=Zt({type:e}),e.\u0275inj=tn({providers:uS}),e})()},127:(ct,Pe,z)=>{"use strict";z.d(Pe,{Ot:()=>Re,z6:()=>le,ZF:()=>pt,hX:()=>ve});var T=z(2329),x=z(639),fe=z(5953);class Re{constructor(Qt){return Qt}}class le{constructor(){return(0,T.C6)()}}const Se=new x.OlP("angularfire2._apps"),ye={provide:Re,useFactory:function(Ve){return Ve&&1===Ve.length?Ve[0]:new Re((0,T.Mq)())},deps:[[new x.FiY,Se]]},W={provide:le,deps:[[new x.FiY,Se]]};function Y(Ve){return(Qt,rn)=>{const sr=Qt.runOutsideAngular(()=>Ve(rn));return new Re(sr)}}let oe=(()=>{class Ve{constructor(rn){(0,T.KN)("angularfire",fe.q4.full,"core"),(0,T.KN)("angularfire",fe.q4.full,"app"),(0,T.KN)("angular",x.q4F.full,rn.toString())}}return Ve.\u0275fac=function(rn){return new(rn||Ve)(x.LFG(x.Lbi))},Ve.\u0275mod=x.oAB({type:Ve}),Ve.\u0275inj=x.cJS({providers:[ye,W]}),Ve})();function ve(Ve,...Qt){return{ngModule:oe,providers:[{provide:Se,useFactory:Y(Ve),multi:!0,deps:[x.R0b,x.zs3,fe.HU,...Qt]}]}}const pt=(0,fe.u3)(T.ZF,!0)},8432:(ct,Pe,z)=>{"use strict";z.d(Pe,{vo:()=>eg,N8:()=>uC,jM:()=>Lh,v8:()=>sC,iH:()=>gC,t8:()=>mC});var T=z(5953),x=z(639),fe=z(127),Re=z(2329),le=z(8239),H=z(3854),Le=z(8026),Se=z(5422);function oe(o,r){var i={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&r.indexOf(l)<0&&(i[l]=o[l]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(o);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(o,l[c])&&(i[l[c]]=o[l[c]])}return i}var Ut=z(3910);const gn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yr=new Se.Yd("@firebase/auth");function cn(o,...r){Yr.logLevel<=Se.in.ERROR&&Yr.error(`Auth (${Le.Jn}): ${o}`,...r)}function Tt(o,...r){throw $n(o,...r)}function ln(o,...r){return $n(o,...r)}function tn(o,r,i){const l=Object.assign(Object.assign({},gn()),{[r]:i});return new H.LL("auth","Firebase",l).create(r,{appName:o.name})}function $n(o,...r){if("string"!=typeof o){const i=r[0],l=[...r.slice(1)];return l[0]&&(l[0].appName=o.name),o._errorFactory.create(i,...l)}return It.create(o,...r)}function Ne(o,r,...i){if(!o)throw $n(r,...i)}function Fn(o){const r="INTERNAL ASSERTION FAILED: "+o;throw cn(r),new Error(r)}function Hn(o,r){o||Fn(r)}const Jn=new Map;function Sn(o){Hn(o instanceof Function,"Expected a class definition");let r=Jn.get(o);return r?(Hn(r instanceof o,"Instance stored in cache mismatched with class"),r):(r=new o,Jn.set(o,r),r)}function at(){var o;return"undefined"!=typeof self&&(null===(o=self.location)||void 0===o?void 0:o.protocol)||null}class Gn{constructor(r,i){this.shortDelay=r,this.longDelay=i,Hn(i>r,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===at()||"https:"===at()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class Rn{static initialize(r,i,l){this.fetchImpl=r,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sr=new Gn(3e4,6e4);function sn(o,r,i,l){return St.apply(this,arguments)}function St(){return(St=(0,le.Z)(function*(o,r,i,l,c={}){return Hr(o,c,(0,le.Z)(function*(){let h={},y={};l&&("GET"===r?y=l:h={body:JSON.stringify(l)});const M=(0,H.xO)(Object.assign({key:o.config.apiKey},y)).slice(1),L=yield o._getAdditionalHeaders();return L["Content-Type"]="application/json",o.languageCode&&(L["X-Firebase-Locale"]=o.languageCode),Rn.fetch()(wt(o,o.config.apiHost,i,M),Object.assign({method:r,headers:L,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function Hr(o,r,i){return ze.apply(this,arguments)}function ze(){return(ze=(0,le.Z)(function*(o,r,i){o._canInitEmulator=!1;const l=Object.assign(Object.assign({},vn),r);try{const c=new mt(o),h=yield Promise.race([i(),c.promise]);c.clearNetworkTimeout();const y=yield h.json();if("needConfirmation"in y)throw Xe(o,"account-exists-with-different-credential",y);if(h.ok&&!("errorMessage"in y))return y;{const M=h.ok?y.errorMessage:y.error.message,[L,j]=M.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===L)throw Xe(o,"credential-already-in-use",y);if("EMAIL_EXISTS"===L)throw Xe(o,"email-already-in-use",y);if("USER_DISABLED"===L)throw Xe(o,"user-disabled",y);const se=l[L]||L.toLowerCase().replace(/[_\s]+/g,"-");if(j)throw tn(o,se,j);Tt(o,se)}}catch(c){if(c instanceof H.ZR)throw c;Tt(o,"network-request-failed")}})).apply(this,arguments)}function wt(o,r,i,l){const c=`${r}${i}?${l}`;return o.config.emulator?function(o,r){Hn(o.emulator,"Emulator should always be set here");const{url:i}=o.emulator;return r?`${i}${r.startsWith("/")?r.slice(1):r}`:i}(o.config,c):`${o.config.apiScheme}://${c}`}class mt{constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(ln(this.auth,"network-request-failed")),Sr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xe(o,r,i){const l={appName:o.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const c=ln(o,r,l);return c.customData._tokenResponse=i,c}function q(){return(q=(0,le.Z)(function*(o,r){return sn(o,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}function he(o,r){return Te.apply(this,arguments)}function Te(){return(Te=(0,le.Z)(function*(o,r){return sn(o,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}function gt(o){if(o)try{const r=new Date(Number(o));if(!isNaN(r.getTime()))return r.toUTCString()}catch(r){}}function bn(){return(bn=(0,le.Z)(function*(o,r=!1){const i=(0,H.m9)(o),l=yield i.getIdToken(r),c=ht(l);Ne(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const h="object"==typeof c.firebase?c.firebase:void 0,y=null==h?void 0:h.sign_in_provider;return{claims:c,token:l,authTime:gt(Mn(c.auth_time)),issuedAtTime:gt(Mn(c.iat)),expirationTime:gt(Mn(c.exp)),signInProvider:y||null,signInSecondFactor:(null==h?void 0:h.sign_in_second_factor)||null}})).apply(this,arguments)}function Mn(o){return 1e3*Number(o)}function ht(o){var r;const[i,l,c]=o.split(".");if(void 0===i||void 0===l||void 0===c)return cn("JWT malformed, contained fewer than 3 sections"),null;try{const h=(0,H.tV)(l);return h?JSON.parse(h):(cn("Failed to decode base64 JWT payload"),null)}catch(h){return cn("Caught error parsing JWT payload as JSON",null===(r=h)||void 0===r?void 0:r.toString()),null}}function Zt(o,r){return gr.apply(this,arguments)}function gr(){return(gr=(0,le.Z)(function*(o,r,i=!1){if(i)return r;try{return yield r}catch(l){throw l instanceof H.ZR&&Zr(l)&&o.auth.currentUser===o&&(yield o.auth.signOut()),l}})).apply(this,arguments)}function Zr({code:o}){return"auth/user-disabled"===o||"auth/user-token-expired"===o}class Wi{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(r){var i;if(r){const l=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),l}{this.errorBackoff=3e4;const c=(null!==(i=this.user.stsTokenManager.expirationTime)&&void 0!==i?i:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(r=!1){var i=this;if(!this.isRunning)return;const l=this.getInterval(r);this.timerId=setTimeout((0,le.Z)(function*(){yield i.iteration()}),l)}iteration(){var r=this;return(0,le.Z)(function*(){var i;try{yield r.user.getIdToken(!0)}catch(l){return void("auth/network-request-failed"===(null===(i=l)||void 0===i?void 0:i.code)&&r.schedule(!0))}r.schedule()})()}}class zi{constructor(r,i){this.createdAt=r,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(o){return dn.apply(this,arguments)}function dn(){return(dn=(0,le.Z)(function*(o){var r;const i=o.auth,l=yield o.getIdToken(),c=yield Zt(o,he(i,{idToken:l}));Ne(null==c?void 0:c.users.length,i,"internal-error");const h=c.users[0];o._notifyReloadListener(h);const y=(null===(r=h.providerUserInfo)||void 0===r?void 0:r.length)?tr(h.providerUserInfo):[],M=Jr(o.providerData,y),se=!!o.isAnonymous&&!(o.email&&h.passwordHash||(null==M?void 0:M.length)),ce={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:M,metadata:new zi(h.createdAt,h.lastLoginAt),isAnonymous:se};Object.assign(o,ce)})).apply(this,arguments)}function In(){return(In=(0,le.Z)(function*(o){const r=(0,H.m9)(o);yield Mt(r),yield r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)})).apply(this,arguments)}function Jr(o,r){return[...o.filter(l=>!r.some(c=>c.providerId===l.providerId)),...r]}function tr(o){return o.map(r=>{var{providerId:i}=r,l=oe(r,["providerId"]);return{providerId:i,uid:l.rawId||"",displayName:l.displayName||null,email:l.email||null,phoneNumber:l.phoneNumber||null,photoURL:l.photoUrl||null}})}function At(){return(At=(0,le.Z)(function*(o,r){const i=yield Hr(o,{},(0,le.Z)(function*(){const l=(0,H.xO)({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:c,apiKey:h}=o.config,y=wt(o,c,"/v1/token",`key=${h}`),M=yield o._getAdditionalHeaders();return M["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(y,{method:"POST",headers:M,body:l})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){Ne(r.idToken,"internal-error"),Ne(void 0!==r.idToken,"internal-error"),Ne(void 0!==r.refreshToken,"internal-error");const i="expiresIn"in r&&void 0!==r.expiresIn?Number(r.expiresIn):function(o){const r=ht(o);return Ne(r,"internal-error"),Ne(void 0!==r.exp,"internal-error"),Ne(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat)}(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,i)}getToken(r,i=!1){var l=this;return(0,le.Z)(function*(){return Ne(!l.accessToken||l.refreshToken,r,"user-token-expired"),i||!l.accessToken||l.isExpired?l.refreshToken?(yield l.refresh(r,l.refreshToken),l.accessToken):null:l.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(r,i){var l=this;return(0,le.Z)(function*(){const{accessToken:c,refreshToken:h,expiresIn:y}=yield function(o,r){return At.apply(this,arguments)}(r,i);l.updateTokensAndExpiration(c,h,Number(y))})()}updateTokensAndExpiration(r,i,l){this.refreshToken=i||null,this.accessToken=r||null,this.expirationTime=Date.now()+1e3*l}static fromJSON(r,i){const{refreshToken:l,accessToken:c,expirationTime:h}=i,y=new kt;return l&&(Ne("string"==typeof l,"internal-error",{appName:r}),y.refreshToken=l),c&&(Ne("string"==typeof c,"internal-error",{appName:r}),y.accessToken=c),h&&(Ne("number"==typeof h,"internal-error",{appName:r}),y.expirationTime=h),y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function Ft(o,r){Ne("string"==typeof o||void 0===o,"internal-error",{appName:r})}class Wn{constructor(r){var{uid:i,auth:l,stsTokenManager:c}=r,h=oe(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=l,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new zi(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(r){var i=this;return(0,le.Z)(function*(){const l=yield Zt(i,i.stsTokenManager.getToken(i.auth,r));return Ne(l,i.auth,"internal-error"),i.accessToken!==l&&(i.accessToken=l,yield i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)),l})()}getIdTokenResult(r){return function(o){return bn.apply(this,arguments)}(this,r)}reload(){return function(o){return In.apply(this,arguments)}(this)}_assign(r){this!==r&&(Ne(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(i=>Object.assign({},i)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){return new Wn(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(r){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(r,i=!1){var l=this;return(0,le.Z)(function*(){let c=!1;r.idToken&&r.idToken!==l.stsTokenManager.accessToken&&(l.stsTokenManager.updateFromServerResponse(r),c=!0),i&&(yield Mt(l)),yield l.auth._persistUserIfCurrent(l),c&&l.auth._notifyListenersIfCurrent(l)})()}delete(){var r=this;return(0,le.Z)(function*(){const i=yield r.getIdToken();return yield Zt(r,function(o,r){return q.apply(this,arguments)}(r.auth,{idToken:i})),r.stsTokenManager.clearRefreshToken(),r.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,i){var l,c,h,y,M,L,j,se;const ce=null!==(l=i.displayName)&&void 0!==l?l:void 0,ge=null!==(c=i.email)&&void 0!==c?c:void 0,Ue=null!==(h=i.phoneNumber)&&void 0!==h?h:void 0,lt=null!==(y=i.photoURL)&&void 0!==y?y:void 0,en=null!==(M=i.tenantId)&&void 0!==M?M:void 0,br=null!==(L=i._redirectEventId)&&void 0!==L?L:void 0,Ea=null!==(j=i.createdAt)&&void 0!==j?j:void 0,tl=null!==(se=i.lastLoginAt)&&void 0!==se?se:void 0,{uid:Ql,emailVerified:rd,isAnonymous:id,providerData:qu,stsTokenManager:_C}=i;Ne(Ql&&_C,r,"internal-error");const sd=kt.fromJSON(this.name,_C);Ne("string"==typeof Ql,r,"internal-error"),Ft(ce,r.name),Ft(ge,r.name),Ne("boolean"==typeof rd,r,"internal-error"),Ne("boolean"==typeof id,r,"internal-error"),Ft(Ue,r.name),Ft(lt,r.name),Ft(en,r.name),Ft(br,r.name),Ft(Ea,r.name),Ft(tl,r.name);const pn=new Wn({uid:Ql,auth:r,email:ge,emailVerified:rd,displayName:ce,isAnonymous:id,photoURL:lt,phoneNumber:Ue,tenantId:en,stsTokenManager:sd,createdAt:Ea,lastLoginAt:tl});return qu&&Array.isArray(qu)&&(pn.providerData=qu.map(nl=>Object.assign({},nl))),br&&(pn._redirectEventId=br),pn}static _fromIdTokenResponse(r,i,l=!1){return(0,le.Z)(function*(){const c=new kt;c.updateFromServerResponse(i);const h=new Wn({uid:i.localId,auth:r,stsTokenManager:c,isAnonymous:l});return yield Mt(h),h})()}}const ur=(()=>{class o{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,le.Z)(function*(){return!0})()}_set(i,l){var c=this;return(0,le.Z)(function*(){c.storage[i]=l})()}_get(i){var l=this;return(0,le.Z)(function*(){const c=l.storage[i];return void 0===c?null:c})()}_remove(i){var l=this;return(0,le.Z)(function*(){delete l.storage[i]})()}_addListener(i,l){}_removeListener(i,l){}}return o.type="NONE",o})();function it(o,r,i){return`firebase:${o}:${r}:${i}`}class or{constructor(r,i,l){this.persistence=r,this.auth=i,this.userKey=l;const{config:c,name:h}=this.auth;this.fullUserKey=it(this.userKey,c.apiKey,h),this.fullPersistenceKey=it("persistence",c.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}getCurrentUser(){var r=this;return(0,le.Z)(function*(){const i=yield r.persistence._get(r.fullUserKey);return i?Wn._fromJSON(r.auth,i):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(r){var i=this;return(0,le.Z)(function*(){if(i.persistence===r)return;const l=yield i.getCurrentUser();return yield i.removeCurrentUser(),i.persistence=r,l?i.setCurrentUser(l):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(r,i,l="authUser"){return(0,le.Z)(function*(){if(!i.length)return new or(Sn(ur),r,l);const c=(yield Promise.all(i.map(function(){var j=(0,le.Z)(function*(se){if(yield se._isAvailable())return se});return function(se){return j.apply(this,arguments)}}()))).filter(j=>j);let h=c[0]||Sn(ur);const y=it(l,r.config.apiKey,r.name);let M=null;for(const j of i)try{const se=yield j._get(y);if(se){const ce=Wn._fromJSON(r,se);j!==h&&(M=ce),h=j;break}}catch(se){}const L=c.filter(j=>j._shouldAllowMigration);return h._shouldAllowMigration&&L.length?(h=L[0],M&&(yield h._set(y,M.toJSON())),yield Promise.all(i.map(function(){var j=(0,le.Z)(function*(se){if(se!==h)try{yield se._remove(y)}catch(ce){}});return function(se){return j.apply(this,arguments)}}())),new or(h,r,l)):new or(h,r,l)})()}}function Wr(o){const r=o.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(function(o=(0,H.z$)()){return/iemobile/i.test(o)}(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(function(o=(0,H.z$)()){return/firefox\//i.test(o)}(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(function(o=(0,H.z$)()){return/blackberry/i.test(o)}(r))return"Blackberry";if(function(o=(0,H.z$)()){return/webos/i.test(o)}(r))return"Webos";if(function(o=(0,H.z$)()){const r=o.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}(r))return"Safari";if((r.includes("chrome/")||function(o=(0,H.z$)()){return/crios\//i.test(o)}(r))&&!r.includes("edge/"))return"Chrome";if(function(o=(0,H.z$)()){return/android/i.test(o)}(r))return"Android";{const l=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==l?void 0:l.length))return l[1]}return"Other"}function hn(o,r=[]){let i;switch(o){case"Browser":i=Wr((0,H.z$)());break;case"Worker":i=`${Wr((0,H.z$)())}-${o}`;break;default:i=o}const l=r.length?r.join(","):"FirebaseCore-web";return`${i}/JsCore/${Le.Jn}/${l}`}class Nn{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,i){const l=h=>new Promise((y,M)=>{try{y(r(h))}catch(L){M(L)}});l.onAbort=i,this.queue.push(l);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(r){var i=this;return(0,le.Z)(function*(){var l;if(i.auth.currentUser===r)return;const c=[];try{for(const h of i.queue)yield h(r),h.onAbort&&c.push(h.onAbort)}catch(h){c.reverse();for(const y of c)try{y()}catch(M){}throw i.auth._errorFactory.create("login-blocked",{originalMessage:null===(l=h)||void 0===l?void 0:l.message})}})()}}class ei{constructor(r,i,l){this.app=r,this.heartbeatServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qt(this),this.idTokenSubscription=new qt(this),this.beforeStateQueue=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(r,i){var l=this;return i&&(this._popupRedirectResolver=Sn(i)),this._initializationPromise=this.queue((0,le.Z)(function*(){var c,h;if(!l._deleted&&(l.persistenceManager=yield or.create(l,r),!l._deleted)){if(null===(c=l._popupRedirectResolver)||void 0===c?void 0:c._shouldInitProactively)try{yield l._popupRedirectResolver._initialize(l)}catch(y){}yield l.initializeCurrentUser(i),l.lastNotifiedUid=(null===(h=l.currentUser)||void 0===h?void 0:h.uid)||null,!l._deleted&&(l._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var r=this;return(0,le.Z)(function*(){if(r._deleted)return;const i=yield r.assertedPersistence.getCurrentUser();if(r.currentUser||i){if(r.currentUser&&i&&r.currentUser.uid===i.uid)return r._currentUser._assign(i),void(yield r.currentUser.getIdToken());yield r._updateCurrentUser(i,!0)}})()}initializeCurrentUser(r){var i=this;return(0,le.Z)(function*(){var l;const c=yield i.assertedPersistence.getCurrentUser();let h=c,y=!1;if(r&&i.config.authDomain){yield i.getOrInitRedirectPersistenceManager();const M=null===(l=i.redirectUser)||void 0===l?void 0:l._redirectEventId,L=null==h?void 0:h._redirectEventId,j=yield i.tryRedirectSignIn(r);(!M||M===L)&&(null==j?void 0:j.user)&&(h=j.user,y=!0)}if(!h)return i.directlySetCurrentUser(null);if(!h._redirectEventId){if(y)try{yield i.beforeStateQueue.runMiddleware(h)}catch(M){h=c,i._popupRedirectResolver._overrideRedirectResult(i,()=>Promise.reject(M))}return h?i.reloadAndSetCurrentUserOrClear(h):i.directlySetCurrentUser(null)}return Ne(i._popupRedirectResolver,i,"argument-error"),yield i.getOrInitRedirectPersistenceManager(),i.redirectUser&&i.redirectUser._redirectEventId===h._redirectEventId?i.directlySetCurrentUser(h):i.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(r){var i=this;return(0,le.Z)(function*(){let l=null;try{l=yield i._popupRedirectResolver._completeRedirectFn(i,r,!0)}catch(c){yield i._setRedirectUser(null)}return l})()}reloadAndSetCurrentUserOrClear(r){var i=this;return(0,le.Z)(function*(){var l;try{yield Mt(r)}catch(c){if("auth/network-request-failed"!==(null===(l=c)||void 0===l?void 0:l.code))return i.directlySetCurrentUser(null)}return i.directlySetCurrentUser(r)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const o=navigator;return o.languages&&o.languages[0]||o.language||null}()}_delete(){var r=this;return(0,le.Z)(function*(){r._deleted=!0})()}updateCurrentUser(r){var i=this;return(0,le.Z)(function*(){const l=r?(0,H.m9)(r):null;return l&&Ne(l.auth.config.apiKey===i.config.apiKey,i,"invalid-user-token"),i._updateCurrentUser(l&&l._clone(i))})()}_updateCurrentUser(r,i=!1){var l=this;return(0,le.Z)(function*(){if(!l._deleted)return r&&Ne(l.tenantId===r.tenantId,l,"tenant-id-mismatch"),i||(yield l.beforeStateQueue.runMiddleware(r)),l.queue((0,le.Z)(function*(){yield l.directlySetCurrentUser(r),l.notifyAuthListeners()}))})()}signOut(){var r=this;return(0,le.Z)(function*(){return yield r.beforeStateQueue.runMiddleware(null),(r.redirectPersistenceManager||r._popupRedirectResolver)&&(yield r._setRedirectUser(null)),r._updateCurrentUser(null,!0)})()}setPersistence(r){var i=this;return this.queue((0,le.Z)(function*(){yield i.assertedPersistence.setPersistence(Sn(r))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(r){this._errorFactory=new H.LL("auth","Firebase",r())}onAuthStateChanged(r,i,l){return this.registerStateListener(this.authStateSubscription,r,i,l)}beforeAuthStateChanged(r,i){return this.beforeStateQueue.pushCallback(r,i)}onIdTokenChanged(r,i,l){return this.registerStateListener(this.idTokenSubscription,r,i,l)}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(r=this._currentUser)||void 0===r?void 0:r.toJSON()}}_setRedirectUser(r,i){var l=this;return(0,le.Z)(function*(){const c=yield l.getOrInitRedirectPersistenceManager(i);return null===r?c.removeCurrentUser():c.setCurrentUser(r)})()}getOrInitRedirectPersistenceManager(r){var i=this;return(0,le.Z)(function*(){if(!i.redirectPersistenceManager){const l=r&&Sn(r)||i._popupRedirectResolver;Ne(l,i,"argument-error"),i.redirectPersistenceManager=yield or.create(i,[Sn(l._redirectPersistence)],"redirectUser"),i.redirectUser=yield i.redirectPersistenceManager.getCurrentUser()}return i.redirectPersistenceManager})()}_redirectUserForId(r){var i=this;return(0,le.Z)(function*(){var l,c;return i._isInitialized&&(yield i.queue((0,le.Z)(function*(){}))),(null===(l=i._currentUser)||void 0===l?void 0:l._redirectEventId)===r?i._currentUser:(null===(c=i.redirectUser)||void 0===c?void 0:c._redirectEventId)===r?i.redirectUser:null})()}_persistUserIfCurrent(r){var i=this;return(0,le.Z)(function*(){if(r===i.currentUser)return i.queue((0,le.Z)(function*(){return i.directlySetCurrentUser(r)}))})()}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=null!==(i=null===(r=this.currentUser)||void 0===r?void 0:r.uid)&&void 0!==i?i:null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,i,l,c){if(this._deleted)return()=>{};const h="function"==typeof i?i:i.next.bind(i),y=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(y,this,"internal-error"),y.then(()=>h(this.currentUser)),"function"==typeof i?r.addObserver(i,l,c):r.addObserver(i)}directlySetCurrentUser(r){var i=this;return(0,le.Z)(function*(){i.currentUser&&i.currentUser!==r&&i._currentUser._stopProactiveRefresh(),r&&i.isProactiveRefreshEnabled&&r._startProactiveRefresh(),i.currentUser=r,r?yield i.assertedPersistence.setCurrentUser(r):yield i.assertedPersistence.removeCurrentUser()})()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var r=this;return(0,le.Z)(function*(){var i;const l={"X-Client-Version":r.clientVersion};r.app.options.appId&&(l["X-Firebase-gmpid"]=r.app.options.appId);const c=yield null===(i=r.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===i?void 0:i.getHeartbeatsHeader();return c&&(l["X-Firebase-Client"]=c),l})()}}class qt{constructor(r){this.auth=r,this.observer=null,this.addObserver=(0,H.ne)(i=>this.observer=i)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new Gn(3e4,6e4),new Gn(2e3,1e4),new Map,new Gn(3e4,6e4),new Gn(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var o,sf="@firebase/auth",of="0.20.10";class yb{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),(null===(r=this.auth.currentUser)||void 0===r?void 0:r.uid)||null}getToken(r){var i=this;return(0,le.Z)(function*(){return i.assertAuthConfigured(),yield i.auth._initializationPromise,i.auth.currentUser?{accessToken:yield i.auth.currentUser.getIdToken(r)}:null})()}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const i=this.auth.onIdTokenChanged(l=>{var c;r((null===(c=l)||void 0===c?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,i),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const i=this.internalListeners.get(r);!i||(this.internalListeners.delete(r),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),o="Browser",(0,Le.Xd)(new Ut.wA("auth",(r,{options:i})=>{const l=r.getProvider("app").getImmediate(),c=r.getProvider("heartbeat"),{apiKey:h,authDomain:y}=l.options;return((M,L)=>{Ne(h&&!h.includes(":"),"invalid-api-key",{appName:M.name}),Ne(!(null==y?void 0:y.includes(":")),"argument-error",{appName:M.name});const j={apiKey:h,authDomain:y,clientPlatform:o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hn(o)},se=new ei(M,L,j);return function(o,r){const i=(null==r?void 0:r.persistence)||[],l=(Array.isArray(i)?i:[i]).map(Sn);(null==r?void 0:r.errorMap)&&o._updateErrorMap(r.errorMap),o._initializeWithPersistence(l,null==r?void 0:r.popupRedirectResolver)}(se,i),se})(l,c)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,i,l)=>{r.getProvider("auth-internal").initialize()})),(0,Le.Xd)(new Ut.wA("auth-internal",r=>{const i=function(o){return(0,H.m9)(o)}(r.getProvider("auth").getImmediate());return new yb(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.KN)(sf,of,void 0),(0,Le.KN)(sf,of,"esm2017");class Pg{constructor(){return(0,T.vb)("auth")}}const Vg=new Map,gu={activated:!1,tokenObservers:[]},po={initialized:!1,enabled:!1};function ni(o){return Vg.get(o)||gu}function Ws(o,r){Vg.set(o,r)}function dc(){return po}class hc{constructor(r,i,l,c,h){if(this.operation=r,this.retryPolicy=i,this.getWaitDuration=l,this.lowerBound=c,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=c,c>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var i=this;return(0,le.Z)(function*(){i.stop();try{i.pending=new H.BH,yield function(o){return new Promise(r=>{setTimeout(r,o)})}(i.getNextRun(r)),i.pending.resolve(),yield i.pending.promise,i.pending=new H.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(l){i.retryPolicy(l)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const ri=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mf(o){if(!ni(o).activated)throw ri.create("use-before-activation",{appName:o.name})}function fc(o,r){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,le.Z)(function*({url:o,body:r},i){var l,c;const h={"Content-Type":"application/json"},y=i.getImmediate({optional:!0});if(y){const Ue=yield y.getHeartbeatsHeader();Ue&&(h["X-Firebase-Client"]=Ue)}const M={method:"POST",body:JSON.stringify(r),headers:h};let L,j;try{L=yield fetch(o,M)}catch(Ue){throw ri.create("fetch-network-error",{originalErrorMessage:null===(l=Ue)||void 0===l?void 0:l.message})}if(200!==L.status)throw ri.create("fetch-status-error",{httpStatus:L.status});try{j=yield L.json()}catch(Ue){throw ri.create("fetch-parse-error",{originalErrorMessage:null===(c=Ue)||void 0===c?void 0:c.message})}const se=j.ttl.match(/^([\d.]+)(s)$/);if(!se||!se[2]||isNaN(Number(se[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${j.ttl}`});const ce=1e3*Number(se[1]),ge=Date.now();return{token:j.token,expireTimeMillis:ge+ce,issuedAtTimeMillis:ge}}),Nd.apply(this,arguments)}function iv(o,r){const{projectId:i,appId:l,apiKey:c}=o.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${i}/apps/${l}:exchangeDebugToken?key=${c}`,body:{debug_token:r}}}const pc="firebase-app-check-store";let xd=null;function yf(){return xd||(xd=new Promise((o,r)=>{var i;try{const l=indexedDB.open("firebase-app-check-database",1);l.onsuccess=c=>{o(c.target.result)},l.onerror=c=>{var h;r(ri.create("storage-open",{originalErrorMessage:null===(h=c.target.error)||void 0===h?void 0:h.message}))},l.onupgradeneeded=c=>{0===c.oldVersion&&c.target.result.createObjectStore(pc,{keyPath:"compositeKey"})}}catch(l){r(ri.create("storage-open",{originalErrorMessage:null===(i=l)||void 0===i?void 0:i.message}))}}),xd)}function Od(){return Od=(0,le.Z)(function*(o,r){const l=(yield yf()).transaction(pc,"readwrite"),h=l.objectStore(pc).put({compositeKey:o,value:r});return new Promise((y,M)=>{h.onsuccess=L=>{y()},l.onerror=L=>{var j;M(ri.create("storage-set",{originalErrorMessage:null===(j=L.target.error)||void 0===j?void 0:j.message}))}})}),Od.apply(this,arguments)}const _u=new Se.Yd("@firebase/app-check");function If(o,r){return(0,H.hl)()?function(o,r){return function(o,r){return Od.apply(this,arguments)}(function(o){return`${o.options.appId}-${o.name}`}(o),r)}(o,r).catch(i=>{_u.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function wf(){return dc().enabled}function Fd(){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,le.Z)(function*(){const o=dc();if(o.enabled&&o.token)return o.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ld.apply(this,arguments)}const Ud={error:"UNKNOWN_ERROR"};function Yg(o){return H.US.encodeString(JSON.stringify(o),!1)}function vu(o){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,le.Z)(function*(o,r=!1){const i=o.app;mf(i);const l=ni(i);let h,c=l.token;if(c&&!Eu(c)&&(Ws(i,Object.assign(Object.assign({},l),{token:void 0})),c=void 0),!c){const L=yield l.cachedTokenPromise;L&&(Eu(L)?c=L:yield If(i,void 0))}if(!r&&c&&Eu(c))return{token:c.token};let M,y=!1;if(wf()){l.exchangeTokenPromise||(l.exchangeTokenPromise=fc(iv(i,yield Fd()),o.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),y=!0);const L=yield l.exchangeTokenPromise;return yield If(i,L),Ws(i,Object.assign(Object.assign({},l),{token:L})),{token:L.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),y=!0),c=yield l.exchangeTokenPromise}catch(L){"appCheck/throttled"===L.code?_u.warn(L.message):_u.error(L),h=L}return c?h?M=Eu(c)?{token:c.token,internalError:h}:Df(h):(M={token:c.token},Ws(i,Object.assign(Object.assign({},l),{token:c})),yield If(i,c)):M=Df(h),y&&Jg(i,M),M}),Bd.apply(this,arguments)}function Ml(o,r){const i=ni(o),l=i.tokenObservers.filter(c=>c.next!==r);0===l.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),Ws(o,Object.assign(Object.assign({},i),{tokenObservers:l}))}function Qg(o){const{app:r}=o,i=ni(r);let l=i.tokenRefresher;l||(l=function(o){const{app:r}=o;return new hc((0,le.Z)(function*(){let l;if(l=ni(r).token?yield vu(o,!0):yield vu(o),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const i=ni(r);if(i.token){let l=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,i.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},3e4,96e4)}(o),Ws(r,Object.assign(Object.assign({},i),{tokenRefresher:l}))),!l.isRunning()&&i.isTokenAutoRefreshEnabled&&l.start()}function Jg(o,r){const i=ni(o).tokenObservers;for(const l of i)try{"EXTERNAL"===l.type&&null!=r.error?l.error(r.error):l.next(r)}catch(c){}}function Eu(o){return o.expireTimeMillis-Date.now()>0}function Df(o){return{token:Yg(Ud),error:o}}class Tf{constructor(r,i){this.app=r,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:r}=ni(this.app);for(const i of r)Ml(this.app,i.next);return Promise.resolve()}}const Hd="app-check-internal";(0,Le.Xd)(new Ut.wA("app-check",o=>function(o,r){return new Tf(o,r)}(o.getProvider("app").getImmediate(),o.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,r,i)=>{o.getProvider(Hd).initialize()})),(0,Le.Xd)(new Ut.wA(Hd,o=>function(o){return{getToken:r=>vu(o,r),addTokenListener:r=>function(o,r,i,l){const{app:c}=o,h=ni(c),y={next:i,error:l,type:r};if(Ws(c,Object.assign(Object.assign({},h),{tokenObservers:[...h.tokenObservers,y]})),h.token&&Eu(h.token)){const M=h.token;Promise.resolve().then(()=>{i({token:M.token}),Qg(o)}).catch(()=>{})}h.cachedTokenPromise.then(()=>Qg(o))}(o,"INTERNAL",r),removeTokenListener:r=>Ml(o.app,r)}}(o.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.KN)("@firebase/app-check","0.5.15");class Pf{constructor(){return(0,T.vb)("app-check")}}"undefined"!=typeof window&&window;const Cv="@firebase/database";let hm="";class Xb{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,H.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,H.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class eI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,H.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Iv=function(o){try{if("undefined"!=typeof window&&void 0!==window[o]){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Xb(r)}}catch(r){}return new eI},Cu=Iv("localStorage"),fm=Iv("sessionStorage"),mc=new Se.Yd("@firebase/database"),wv=function(){let o=1;return function(){return o++}}(),oa=function(o){const r=(0,H.dS)(o),i=new H.gQ;i.update(r);const l=i.digest();return H.US.encodeByteArray(l)},Pl=function(...o){let r="";for(let i=0;i<o.length;i++){const l=o[i];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=Pl.apply(null,l):r+="object"==typeof l?(0,H.Wl)(l):l,r+=" "}return r};let Nl=null,xf=!0;const Br=function(...o){if(!0===xf&&(xf=!1,null===Nl&&!0===fm.get("logging_enabled")&&function(o,r){(0,H.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(mc.logLevel=Se.in.VERBOSE,Nl=mc.log.bind(mc),r&&fm.set("logging_enabled",!0)):"function"==typeof o?Nl=o:(Nl=null,fm.remove("logging_enabled"))}(!0)),Nl){const r=Pl.apply(null,o);Nl(r)}},xl=function(o){return function(...r){Br(o,...r)}},Of=function(...o){const r="FIREBASE INTERNAL ERROR: "+Pl(...o);mc.error(r)},ii=function(...o){const r=`FIREBASE FATAL ERROR: ${Pl(...o)}`;throw mc.error(r),new Error(r)},si=function(...o){const r="FIREBASE WARNING: "+Pl(...o);mc.warn(r)},kf=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},aa="[MIN_NAME]",Ks="[MAX_NAME]",Ol=function(o,r){if(o===r)return 0;if(o===aa||r===Ks)return-1;if(r===aa||o===Ks)return 1;{const i=yc(o),l=yc(r);return null!==i?null!==l?i-l==0?o.length-r.length:i-l:-1:null!==l?1:o<r?-1:1}},Tv=function(o,r){return o===r?0:o<r?-1:1},la=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,H.Wl)(r))},Ba=function(o){if("object"!=typeof o||null===o)return(0,H.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let i="{";for(let l=0;l<r.length;l++)0!==l&&(i+=","),i+=(0,H.Wl)(r[l]),i+=":",i+=Ba(o[r[l]]);return i+="}",i},qd=function(o,r){const i=o.length;if(i<=r)return[o];const l=[];for(let c=0;c<i;c+=r)l.push(o.substring(c,c+r>i?i:c+r));return l};function lr(o,r){for(const i in o)o.hasOwnProperty(i)&&r(i,o[i])}const bu=function(o){(0,H.hu)(!kf(o),"Invalid JSON number");const l=1023;let c,h,y,M,L;0===o?(h=0,y=0,c=1/o==-1/0?1:0):(c=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?(M=Math.min(Math.floor(Math.log(o)/Math.LN2),l),h=M+l,y=Math.round(o*Math.pow(2,52-M)-Math.pow(2,52))):(h=0,y=Math.round(o/Math.pow(2,-1074))));const j=[];for(L=52;L;L-=1)j.push(y%2?1:0),y=Math.floor(y/2);for(L=11;L;L-=1)j.push(h%2?1:0),h=Math.floor(h/2);j.push(c?1:0),j.reverse();const se=j.join("");let ce="";for(L=0;L<64;L+=8){let ge=parseInt(se.substr(L,8),2).toString(16);1===ge.length&&(ge="0"+ge),ce+=ge}return ce.toLowerCase()},gm=new RegExp("^-?(0*)\\d{1,10}$"),yc=function(o){if(gm.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},ua=function(o){try{o()}catch(r){setTimeout(()=>{throw si("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},wu=function(o,r){const i=setTimeout(o,r);return"number"==typeof i&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class tI{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=null==i?void 0:i.getImmediate({optional:!0}),this.appCheck||null==i||i.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){si(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mm{constructor(r,i,l){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(c=>this.auth_=c)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',si(r)}}let Du=(()=>{class o{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const vm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vf="websocket",Mv="long_polling";class Uf{constructor(r,i,l,c,h=!1,y="",M=!1){this.secure=i,this.namespace=l,this.webSocketOnly=c,this.nodeAdmin=h,this.persistenceKey=y,this.includeNamespaceInQueryParams=M,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cu.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Cu.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jf(o,r,i){let l;if((0,H.hu)("string"==typeof r,"typeof type must == string"),(0,H.hu)("object"==typeof i,"typeof params must == object"),r===Vf)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==Mv)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(i.ns=o.namespace);const c=[];return lr(i,(h,y)=>{c.push(h+"="+y)}),l+c.join("&")}class Pv{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,H.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,H.p$)(this.counters_)}}const $f={},Hf={};function Qd(o){const r=o.toString();return $f[r]||($f[r]=new Pv),$f[r]}class bm{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<l.length;++c)l[c]&&ua(()=>{this.onMessage_(l[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qs{constructor(r,i,l,c,h,y,M){this.connId=r,this.repoInfo=i,this.applicationId=l,this.appCheckToken=c,this.authToken=h,this.transportSessionId=y,this.lastSessionId=M,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(r),this.stats_=Qd(i),this.urlFn=L=>(this.appCheckToken&&(L.ac=this.appCheckToken),jf(i,Mv,L))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new bm(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,H.Yr)()||"complete"===document.readyState)o();else{let r=!1;const i=function(){document.body?r||(r=!0,o()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vc((...h)=>{const[y,M,L,j,se]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=M,this.password=L;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);M?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(M,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[y,M]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(y,M)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&vm.test(location.hostname)&&(l.r="f");const c=this.urlFn(l);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!Qs.forceAllow_&&(Qs.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,H.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=(0,H.h$)(i),c=qd(l,1840);for(let h=0;h<c.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[h]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,H.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class vc{constructor(r,i,l,c){if(this.onDisconnect=l,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=wv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=vc.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(M){Br("frame writing exception"),M.stack&&Br(M.stack),Br(M)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Br("No IE domain setting required")}catch(i){const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),l="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const y=this.pendingSegs.shift();l=l+"&seg"+c+"="+y.seg+"&ts"+c+"="+y.ts+"&d"+c+"="+y.d,c++}return i+=l,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,l){this.pendingSegs.push({seg:r,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(c),l()})}addTag(r,i){(0,H.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const c=l.readyState;(!c||"loaded"===c||"complete"===c)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{Br("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch(l){}},Math.floor(1))}}let Tu=null;"undefined"!=typeof MozWebSocket?Tu=MozWebSocket:"undefined"!=typeof WebSocket&&(Tu=WebSocket);let kl=(()=>{class o{constructor(i,l,c,h,y,M,L){this.connId=i,this.applicationId=c,this.appCheckToken=h,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Qd(l),this.connURL=o.connectionURL_(l,M,L,h,c),this.nodeAdmin=l.nodeAdmin}static connectionURL_(i,l,c,h,y){const M={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&vm.test(location.hostname)&&(M.r="f"),l&&(M.s=l),c&&(M.ls=c),h&&(M.ac=h),y&&(M.p=y),jf(i,Vf,M)}open(i,l){this.onDisconnect=l,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cu.set("previous_websocket_failure",!0);try{let c;if((0,H.Yr)()){c={headers:{"User-Agent":`Firebase/5/${hm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,M=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;M&&(c.proxy={origin:M})}this.mySock=new Tu(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const h=c.message||c.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const h=c.message||c.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let i=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const c=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);c&&c.length>1&&parseFloat(c[1])<4.4&&(i=!0)}return!i&&null!==Tu&&!o.forceDisallow_}static previouslyFailed(){return Cu.isInMemoryStorage||!0===Cu.get("previous_websocket_failure")}markConnectionHealthy(){Cu.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const c=(0,H.cI)(l);this.onMessage(c)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const l=Number(i);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const l=i.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const c=this.extractFrameCount_(l);null!==c&&this.appendFrame_(c)}}send(i){this.resetKeepAlive();const l=(0,H.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=qd(l,16384);c.length>1&&this.sendString_(String(c.length));for(let h=0;h<c.length;h++)this.sendString_(c[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Mm=(()=>{class o{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[Qs,kl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const l=kl&&kl.isAvailable();let c=l&&!kl.previouslyFailed();if(i.webSocketOnly&&(l||si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[kl];else{const h=this.transports_=[];for(const y of o.ALL_TRANSPORTS)y&&y.isAvailable()&&h.push(y);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class Fl{constructor(r,i,l,c,h,y,M,L,j,se){this.id=r,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=c,this.authToken_=h,this.onMessage_=y,this.onReady_=M,this.onDisconnect_=L,this.onKill_=j,this.lastSessionId=se,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new Mm(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const c=r.healthyTimeout||0;c>0&&(this.healthyTimeout_=wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=la("t",r),l=la("d",r);if("c"===i)this.onSecondaryControl_(l);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=la("t",r),l=la("d",r);"c"===i?this.onControl_(l):"d"===i&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=la("t",r);if("d"in r){const l=r.d;if("h"===i)this.onHandshake_(l);else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(l):"r"===i?this.onReset_(l):"e"===i?Of("Server Error: "+l):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Of("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,l=r.v,c=r.h;this.sessionId=r.s,this.repoInfo_.host=c,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==l&&si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Yf{put(r,i,l,c){}merge(r,i,l,c){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,l){}onDisconnectMerge(r,i,l){}onDisconnectCancel(r,i){}reportStats(r){}}class Au{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,H.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let c=0;c<l.length;c++)l[c].callback.apply(l[c].context,i)}}on(r,i,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:l});const c=this.getInitialEvent(r);c&&i.apply(l,c)}off(r,i,l){this.validateEventType_(r);const c=this.listeners_[r]||[];for(let h=0;h<c.length;h++)if(c[h].callback===i&&(!l||l===c[h].context))return void c.splice(h,1)}validateEventType_(r){(0,H.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class ja extends Au{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ja}getInitialEvent(r){return(0,H.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class _n{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let l=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[l]=this.pieces_[c],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function fn(){return new _n("")}function Wt(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function $a(o){return o.pieces_.length-o.pieceNum_}function An(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new _n(o.pieces_,r)}function Qf(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Su(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function Ll(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let i=o.pieceNum_;i<o.pieces_.length-1;i++)r.push(o.pieces_[i]);return new _n(r,0)}function qn(o,r){const i=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)i.push(o.pieces_[l]);if(r instanceof _n)for(let l=r.pieceNum_;l<r.pieces_.length;l++)i.push(r.pieces_[l]);else{const l=r.split("/");for(let c=0;c<l.length;c++)l[c].length>0&&i.push(l[c])}return new _n(i,0)}function Kt(o){return o.pieceNum_>=o.pieces_.length}function Ti(o,r){const i=Wt(o),l=Wt(r);if(null===i)return r;if(i===l)return Ti(An(o),An(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function Zf(o,r){if($a(o)!==$a(r))return!1;for(let i=o.pieceNum_,l=r.pieceNum_;i<=o.pieces_.length;i++,l++)if(o.pieces_[i]!==r.pieces_[l])return!1;return!0}function Cs(o,r){let i=o.pieceNum_,l=r.pieceNum_;if($a(o)>$a(r))return!1;for(;i<o.pieces_.length;){if(o.pieces_[i]!==r.pieces_[l])return!1;++i,++l}return!0}class Hv{constructor(r,i){this.errorPrefix_=i,this.parts_=Su(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,H.ug)(this.parts_[l]);Fm(this)}}function Fm(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ha(o))}function Ha(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Bn extends Au{constructor(){let r,i;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(i="visibilitychange",r="hidden"):void 0!==document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(i="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Bn}getInitialEvent(r){return(0,H.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Vl=1e3;let bc,Ul=(()=>{class o extends Yf{constructor(i,l,c,h,y,M,L,j){if(super(),this.repoInfo_=i,this.applicationId_=l,this.onDataUpdate_=c,this.onConnectStatus_=h,this.onServerInfoUpdate_=y,this.authTokenProvider_=M,this.appCheckTokenProvider_=L,this.authOverride_=j,this.id=o.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,j&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bn.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&ja.getInstance().on("online",this.onOnline_,this)}sendRequest(i,l,c){const h=++this.requestNumber_,y={r:h,a:i,b:l};this.log_((0,H.Wl)(y)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),c&&(this.requestCBHash_[h]=c)}get(i){this.initConnection_();const l=new H.BH,c={p:i._path.toString(),q:i._queryObject};return this.outstandingGets_.push({action:"g",request:c,onComplete:M=>{const L=M.d;"ok"===M.s?l.resolve(L):l.reject(L)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(i,l,c,h){this.initConnection_();const y=i._queryIdentifier,M=i._path.toString();this.log_("Listen called for "+M+" "+y),this.listens.has(M)||this.listens.set(M,new Map),(0,H.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(M).has(y),"listen() called twice for same path/queryId.");const L={onComplete:h,hashFn:l,query:i,tag:c};this.listens.get(M).set(y,L),this.connected_&&this.sendListen_(L)}sendGet_(i){const l=this.outstandingGets_[i];this.sendRequest("g",l.request,c=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(c)})}sendListen_(i){const l=i.query,c=l._path.toString(),h=l._queryIdentifier;this.log_("Listen on "+c+" for "+h);const y={p:c};i.tag&&(y.q=l._queryObject,y.t=i.tag),y.h=i.hashFn(),this.sendRequest("q",y,L=>{const j=L.d,se=L.s;o.warnOnListenWarnings_(j,l),(this.listens.get(c)&&this.listens.get(c).get(h))===i&&(this.log_("listen response",L),"ok"!==se&&this.removeListen_(c,h),i.onComplete&&i.onComplete(se,j))})}static warnOnListenWarnings_(i,l){if(i&&"object"==typeof i&&(0,H.r3)(i,"w")){const c=(0,H.DV)(i,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const h='".indexOn": "'+l._queryParams.getIndex().toString()+'"',y=l._path.toString();si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,H.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,l=(0,H.w9)(i)?"auth":"gauth",c={cred:i};null===this.authOverride_?c.noauth=!0:"object"==typeof this.authOverride_&&(c.authvar=this.authOverride_),this.sendRequest(l,c,h=>{const y=h.s,M=h.d||"error";this.authToken_===i&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,M))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const l=i.s,c=i.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,c)})}unlisten(i,l){const c=i._path.toString(),h=i._queryIdentifier;this.log_("Unlisten called for "+c+" "+h),(0,H.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,h)&&this.connected_&&this.sendUnlisten_(c,h,i._queryObject,l)}sendUnlisten_(i,l,c,h){this.log_("Unlisten on "+i+" for "+l);const y={p:i};h&&(y.q=c,y.t=h),this.sendRequest("n",y)}onDisconnectPut(i,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,l,c):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:l,onComplete:c})}onDisconnectMerge(i,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,l,c):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:l,onComplete:c})}onDisconnectCancel(i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,l):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(i,l,c,h){const y={p:l,d:c};this.log_("onDisconnect "+i,y),this.sendRequest(i,y,M=>{h&&setTimeout(()=>{h(M.s,M.d)},Math.floor(0))})}put(i,l,c,h){this.putInternal("p",i,l,c,h)}merge(i,l,c,h){this.putInternal("m",i,l,c,h)}putInternal(i,l,c,h,y){this.initConnection_();const M={p:l,d:c};void 0!==y&&(M.h=y),this.outstandingPuts_.push({action:i,request:M,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(i){const l=this.outstandingPuts_[i].action,c=this.outstandingPuts_[i].request,h=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(l,c,y=>{this.log_(l+" response",y),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(y.s,y.d)})}reportStats(i){if(this.connected_){const l={c:i};this.log_("reportStats",l),this.sendRequest("s",l,c=>{"ok"!==c.s&&this.log_("reportStats","Error sending stats: "+c.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,H.Wl)(i));const l=i.r,c=this.requestCBHash_[l];c&&(delete this.requestCBHash_[l],c(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,l){this.log_("handleServerMessage",i,l),"d"===i?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===i?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===i?this.onListenRevoked_(l.p,l.q):"ac"===i?this.onAuthRevoked_(l.s,l.d):"apc"===i?this.onAppCheckRevoked_(l.s,l.d):"sd"===i?this.onSecurityDebugPacket_(l):Of("Unrecognized action received from server: "+(0,H.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-i);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,le.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const l=i.onDataMessage_.bind(i),c=i.onReady_.bind(i),h=i.onRealtimeDisconnect_.bind(i),y=i.id+":"+o.nextConnectionId_++,M=i.lastSessionId;let L=!1,j=null;const se=function(){j?j.close():(L=!0,h())};i.realtime_={close:se,sendRequest:function(Ue){(0,H.hu)(j,"sendRequest call when we're not connected not allowed."),j.sendRequest(Ue)}};const ge=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[Ue,lt]=yield Promise.all([i.authTokenProvider_.getToken(ge),i.appCheckTokenProvider_.getToken(ge)]);L?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),i.authToken_=Ue&&Ue.accessToken,i.appCheckToken_=lt&&lt.token,j=new Fl(y,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,l,c,h,en=>{si(en+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},M))}catch(Ue){i.log_("Failed to get token: "+Ue),L||(i.repoInfo_.nodeAdmin&&si(Ue),se())}}})()}interrupt(i){Br("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){Br("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const l=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const l=this.outstandingPuts_[i];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,l){let c;c=l?l.map(y=>Ba(y)).join("$"):"default";const h=this.removeListen_(i,c);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(i,l){const c=new _n(i).toString();let h;if(this.listens.has(c)){const y=this.listens.get(c);h=y.get(l),y.delete(l),0===y.size&&this.listens.delete(c)}else h=void 0;return h}onAuthRevoked_(i,l){Br("Auth token revoked: "+i+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,l){Br("App check token revoked: "+i+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const l of i.values())this.sendListen_(l);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let l="js";(0,H.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+l+"."+hm.replace(/\./g,"-")]=1,(0,H.uI)()?i["framework.cordova"]=1:(0,H.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=ja.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&i}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class Yt{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new Yt(r,i)}}class Cc{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const l=new Yt(aa,r),c=new Yt(aa,i);return 0!==this.compare(l,c)}minPost(){return Yt.MIN}}class ep extends Cc{static get __EMPTY_NODE(){return bc}static set __EMPTY_NODE(r){bc=r}compare(r,i){return Ol(r.name,i.name)}isDefinedOn(r){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return Yt.MIN}maxPost(){return new Yt(Ks,bc)}makePost(r,i){return(0,H.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new Yt(r,bc)}toString(){return".key"}}const vo=new ep;class eh{constructor(r,i,l,c,h=null){this.isReverse_=c,this.resultGenerator_=h,this.nodeStack_=[];let y=1;for(;!r.isEmpty();)if(y=i?l(r.key,i):1,c&&(y*=-1),y<0)r=this.isReverse_?r.left:r.right;else{if(0===y){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let nh,Ai=(()=>{class o{constructor(i,l,c,h,y){this.key=i,this.value=l,this.color=null!=c?c:o.RED,this.left=null!=h?h:Si.EMPTY_NODE,this.right=null!=y?y:Si.EMPTY_NODE}copy(i,l,c,h,y){return new o(null!=i?i:this.key,null!=l?l:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=y?y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,c){let h=this;const y=c(i,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(i,l,c),null):0===y?h.copy(null,l,null,null,null):h.copy(null,null,null,null,h.right.insert(i,l,c)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return Si.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,l){let c,h;if(c=this,l(i,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(i,l),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),0===l(i,c.key)){if(c.right.isEmpty())return Si.EMPTY_NODE;h=c.right.min_(),c=c.copy(h.key,h.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(i,l))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class Si{constructor(r,i=Si.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new Si(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,Ai.BLACK,null,null))}remove(r){return new Si(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Ai.BLACK,null,null))}get(r){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(r){let i,l=this.root_,c=null;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i){if(l.left.isEmpty())return c?c.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}i<0?l=l.left:i>0&&(c=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new eh(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new eh(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new eh(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new eh(this.root_,null,this.comparator_,!0,r)}}function Vm(o,r){return Ol(o.name,r.name)}function th(o,r){return Ol(o,r)}Si.EMPTY_NODE=new class{copy(r,i,l,c,h){return this}insert(r,i,l){return new Ai(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Um=function(o){return"number"==typeof o?"number:"+bu(o):"string:"+o},Bm=function(o){if(o.isLeafNode()){const r=o.val();(0,H.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,H.r3)(r,".sv"),"Priority must be a string or number.")}else(0,H.hu)(o===nh||o.isEmpty(),"priority of unexpected type.");(0,H.hu)(o===nh||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jm,zv,np,Bl=(()=>{class o{constructor(i,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=l,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Bm(this.priorityNode_)}static set __childrenNodeConstructor(i){jm=i}static get __childrenNodeConstructor(){return jm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new o(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return Kt(i)?this:".priority"===Wt(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,l){return null}updateImmediateChild(i,l){return".priority"===i?this.updatePriority(l):l.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,l).updatePriority(this.priorityNode_)}updateChild(i,l){const c=Wt(i);return null===c?l:l.isEmpty()&&".priority"!==c?this:((0,H.hu)(".priority"!==c||1===$a(i),".priority must be the last token in a path"),this.updateImmediateChild(c,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(An(i),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,l){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Um(this.priorityNode_.val())+":");const l=typeof this.value_;i+=l+":",i+="number"===l?bu(this.value_):this.value_,this.lazyHash_=oa(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,H.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const l=typeof i.value_,c=typeof this.value_,h=o.VALUE_TYPE_ORDER.indexOf(l),y=o.VALUE_TYPE_ORDER.indexOf(c);return(0,H.hu)(h>=0,"Unknown leaf type: "+l),(0,H.hu)(y>=0,"Unknown leaf type: "+c),h===y?"object"===c?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:y-h}withIndex(){return this}isIndexed(){return!0}equals(i){if(i===this)return!0;if(i.isLeafNode()){const l=i;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}return!1}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const Kn=new class extends Cc{compare(r,i){const l=r.node.getPriority(),c=i.node.getPriority(),h=l.compareTo(c);return 0===h?Ol(r.name,i.name):h}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return Yt.MIN}maxPost(){return new Yt(Ks,new Bl("[PRIORITY-POST]",np))}makePost(r,i){const l=zv(r);return new Yt(i,new Bl("[PRIORITY-POST]",l))}toString(){return".priority"}},rp=Math.log(2);class Yv{constructor(r){this.count=parseInt(Math.log(r+1)/rp,10),this.current_=this.count-1;const c=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&c}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Ic=function(o,r,i,l){o.sort(r);const c=function(L,j){const se=j-L;let ce,ge;if(0===se)return null;if(1===se)return ce=o[L],ge=i?i(ce):ce,new Ai(ge,ce.node,Ai.BLACK,null,null);{const Ue=parseInt(se/2,10)+L,lt=c(L,Ue),en=c(Ue+1,j);return ce=o[Ue],ge=i?i(ce):ce,new Ai(ge,ce.node,Ai.BLACK,lt,en)}},M=function(L){let j=null,se=null,ce=o.length;const ge=function(lt,en){const br=ce-lt,Ea=ce;ce-=lt;const tl=c(br+1,Ea),Ql=o[br],rd=i?i(Ql):Ql;Ue(new Ai(rd,Ql.node,en,null,tl))},Ue=function(lt){j?(j.left=lt,j=lt):(se=lt,j=lt)};for(let lt=0;lt<L.count;++lt){const en=L.nextBitIsOne(),br=Math.pow(2,L.count-(lt+1));en?ge(br,Ai.BLACK):(ge(br,Ai.BLACK),ge(br,Ai.RED))}return se}(new Yv(o.length));return new Si(l||r,M)};let rh;const wc={};class jr{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,H.hu)(wc&&Kn,"ChildrenNode.ts has not been loaded"),rh=rh||new jr({".priority":wc},{".priority":Kn}),rh}get(r){const i=(0,H.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof Si?i:null}hasIndex(r){return(0,H.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,H.hu)(r!==vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let c=!1;const h=i.getIterator(Yt.Wrap);let M,y=h.getNext();for(;y;)c=c||r.isDefinedOn(y.node),l.push(y),y=h.getNext();M=c?Ic(l,r.getCompare()):wc;const L=r.toString(),j=Object.assign({},this.indexSet_);j[L]=r;const se=Object.assign({},this.indexes_);return se[L]=M,new jr(se,j)}addToIndexes(r,i){const l=(0,H.UI)(this.indexes_,(c,h)=>{const y=(0,H.DV)(this.indexSet_,h);if((0,H.hu)(y,"Missing index implementation for "+h),c===wc){if(y.isDefinedOn(r.node)){const M=[],L=i.getIterator(Yt.Wrap);let j=L.getNext();for(;j;)j.name!==r.name&&M.push(j),j=L.getNext();return M.push(r),Ic(M,y.getCompare())}return wc}{const M=i.get(r.name);let L=c;return M&&(L=L.remove(new Yt(r.name,M))),L.insert(r,r.node)}});return new jr(l,this.indexSet_)}removeFromIndexes(r,i){const l=(0,H.UI)(this.indexes_,c=>{if(c===wc)return c;{const h=i.get(r.name);return h?c.remove(new Yt(r.name,h)):c}});return new jr(l,this.indexSet_)}}let ih,Ht=(()=>{class o{constructor(i,l,c){this.children_=i,this.priorityNode_=l,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&Bm(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ih||(ih=new o(new Si(th),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ih}updatePriority(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const l=this.children_.get(i);return null===l?ih:l}}getChild(i){const l=Wt(i);return null===l?this:this.getImmediateChild(l).getChild(An(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,l){if((0,H.hu)(l,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(l);{const c=new Yt(i,l);let h,y;l.isEmpty()?(h=this.children_.remove(i),y=this.indexMap_.removeFromIndexes(c,this.children_)):(h=this.children_.insert(i,l),y=this.indexMap_.addToIndexes(c,this.children_));const M=h.isEmpty()?ih:this.priorityNode_;return new o(h,M,y)}}updateChild(i,l){const c=Wt(i);if(null===c)return l;{(0,H.hu)(".priority"!==Wt(i)||1===$a(i),".priority must be the last token in a path");const h=this.getImmediateChild(c).updateChild(An(i),l);return this.updateImmediateChild(c,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const l={};let c=0,h=0,y=!0;if(this.forEachChild(Kn,(M,L)=>{l[M]=L.val(i),c++,y&&o.INTEGER_REGEXP_.test(M)?h=Math.max(h,Number(M)):y=!1}),!i&&y&&h<2*c){const M=[];for(const L in l)M[L]=l[L];return M}return i&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Um(this.getPriority().val())+":"),this.forEachChild(Kn,(l,c)=>{const h=c.hash();""!==h&&(i+=":"+l+":"+h)}),this.lazyHash_=""===i?"":oa(i)}return this.lazyHash_}getPredecessorChildName(i,l,c){const h=this.resolveIndex_(c);if(h){const y=h.getPredecessorKey(new Yt(i,l));return y?y.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const l=this.resolveIndex_(i);if(l){const c=l.minKey();return c&&c.name}return this.children_.minKey()}getFirstChild(i){const l=this.getFirstChildName(i);return l?new Yt(l,this.children_.get(l)):null}getLastChildName(i){const l=this.resolveIndex_(i);if(l){const c=l.maxKey();return c&&c.name}return this.children_.maxKey()}getLastChild(i){const l=this.getLastChildName(i);return l?new Yt(l,this.children_.get(l)):null}forEachChild(i,l){const c=this.resolveIndex_(i);return c?c.inorderTraversal(h=>l(h.name,h.node)):this.children_.inorderTraversal(l)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,l){const c=this.resolveIndex_(l);if(c)return c.getIteratorFrom(i,h=>h);{const h=this.children_.getIteratorFrom(i.name,Yt.Wrap);let y=h.peek();for(;null!=y&&l.compare(y,i)<0;)h.getNext(),y=h.peek();return h}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,l){const c=this.resolveIndex_(l);if(c)return c.getReverseIteratorFrom(i,h=>h);{const h=this.children_.getReverseIteratorFrom(i.name,Yt.Wrap);let y=h.peek();for(;null!=y&&l.compare(y,i)>0;)h.getNext(),y=h.peek();return h}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===Mu?-1:0}withIndex(i){if(i===vo||this.indexMap_.hasIndex(i))return this;{const l=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(i){return i===vo||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const l=i;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const c=this.getIterator(Kn),h=l.getIterator(Kn);let y=c.getNext(),M=h.getNext();for(;y&&M;){if(y.name!==M.name||!y.node.equals(M.node))return!1;y=c.getNext(),M=h.getNext()}return null===y&&null===M}return!1}return!1}}resolveIndex_(i){return i===vo?null:this.indexMap_.get(i.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const Mu=new class extends Ht{constructor(){super(new Si(th),Ht.EMPTY_NODE,jr.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Ht.EMPTY_NODE}isEmpty(){return!1}};function ir(o,r=null){if(null===o)return Ht.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,H.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Bl(o,ir(r));if(o instanceof Array){let i=Ht.EMPTY_NODE;return lr(o,(l,c)=>{if((0,H.r3)(o,l)&&"."!==l.substring(0,1)){const h=ir(c);(h.isLeafNode()||!h.isEmpty())&&(i=i.updateImmediateChild(l,h))}}),i.updatePriority(ir(r))}{const i=[];let l=!1;if(lr(o,(y,M)=>{if("."!==y.substring(0,1)){const L=ir(M);L.isEmpty()||(l=l||!L.getPriority().isEmpty(),i.push(new Yt(y,L)))}}),0===i.length)return Ht.EMPTY_NODE;const h=Ic(i,Vm,y=>y.name,th);if(l){const y=Ic(i,Kn.getCompare());return new Ht(h,ir(r),new jr({".priority":y},{".priority":Kn}))}return new Ht(h,ir(r),jr.Default)}}Object.defineProperties(Yt,{MIN:{value:new Yt(aa,Ht.EMPTY_NODE)},MAX:{value:new Yt(Ks,Mu)}}),ep.__EMPTY_NODE=Ht.EMPTY_NODE,Bl.__childrenNodeConstructor=Ht,function(o){nh=o}(Mu),function(o){np=o}(Mu),function(o){zv=o}(ir);class ip extends Cc{constructor(r){super(),this.indexPath_=r,(0,H.hu)(!Kt(r)&&".priority"!==Wt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const l=this.extractChild(r.node),c=this.extractChild(i.node),h=l.compareTo(c);return 0===h?Ol(r.name,i.name):h}makePost(r,i){const l=ir(r),c=Ht.EMPTY_NODE.updateChild(this.indexPath_,l);return new Yt(i,c)}maxPost(){const r=Ht.EMPTY_NODE.updateChild(this.indexPath_,Mu);return new Yt(Ks,r)}toString(){return Su(this.indexPath_,0).join("/")}}const sh=new class extends Cc{compare(r,i){const l=r.node.compareTo(i.node);return 0===l?Ol(r.name,i.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return Yt.MIN}maxPost(){return Yt.MAX}makePost(r,i){const l=ir(r);return new Yt(i,l)}toString(){return".value"}};function zm(o){return{type:"value",snapshotNode:o}}function Pu(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function Wa(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function Eo(o,r,i){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:i}}class rs{constructor(r){this.index_=r}updateChild(r,i,l,c,h,y){(0,H.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const M=r.getImmediateChild(i);return M.getChild(c).equals(l.getChild(c))&&M.isEmpty()===l.isEmpty()||(null!=y&&(l.isEmpty()?r.hasChild(i)?y.trackChildChange(Wa(i,M)):(0,H.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):M.isEmpty()?y.trackChildChange(Pu(i,l)):y.trackChildChange(Eo(i,l,M))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(r,i,l){return null!=l&&(r.isLeafNode()||r.forEachChild(Kn,(c,h)=>{i.hasChild(c)||l.trackChildChange(Wa(c,h))}),i.isLeafNode()||i.forEachChild(Kn,(c,h)=>{if(r.hasChild(c)){const y=r.getImmediateChild(c);y.equals(h)||l.trackChildChange(Eo(c,h,y))}else l.trackChildChange(Pu(c,h))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?Ht.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ca{constructor(r){this.indexedFilter_=new rs(r.getIndex()),this.index_=r.getIndex(),this.startPost_=ca.getStartPost_(r),this.endPost_=ca.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,i,l,c,h,y){return this.matches(new Yt(i,l))||(l=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,l,c,h,y)}updateFullNode(r,i,l){i.isLeafNode()&&(i=Ht.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(Ht.EMPTY_NODE);const h=this;return i.forEachChild(Kn,(y,M)=>{h.matches(new Yt(y,M))||(c=c.updateImmediateChild(y,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,c,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class Zv{constructor(r){this.rangedFilter_=new ca(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,i,l,c,h,y){return this.rangedFilter_.matches(new Yt(i,l))||(l=Ht.EMPTY_NODE),r.getImmediateChild(i).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,l,c,h,y):this.fullLimitUpdateChild_(r,i,l,h,y)}updateFullNode(r,i,l){let c;if(i.isLeafNode()||i.isEmpty())c=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let h;c=Ht.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;h.hasNext()&&y<this.limit_;){const M=h.getNext();let L;if(L=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),M)<=0:this.index_.compare(M,this.rangedFilter_.getEndPost())<=0,!L)break;c=c.updateImmediateChild(M.name,M.node),y++}}else{let h,y,M,L;if(c=i.withIndex(this.index_),c=c.updatePriority(Ht.EMPTY_NODE),this.reverse_){L=c.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),y=this.rangedFilter_.getStartPost();const ce=this.index_.getCompare();M=(ge,Ue)=>ce(Ue,ge)}else L=c.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),y=this.rangedFilter_.getEndPost(),M=this.index_.getCompare();let j=0,se=!1;for(;L.hasNext();){const ce=L.getNext();!se&&M(h,ce)<=0&&(se=!0),se&&j<this.limit_&&M(ce,y)<=0?j++:c=c.updateImmediateChild(ce.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,c,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,l,c,h){let y;if(this.reverse_){const ce=this.index_.getCompare();y=(ge,Ue)=>ce(Ue,ge)}else y=this.index_.getCompare();const M=r;(0,H.hu)(M.numChildren()===this.limit_,"");const L=new Yt(i,l),j=this.reverse_?M.getFirstChild(this.index_):M.getLastChild(this.index_),se=this.rangedFilter_.matches(L);if(M.hasChild(i)){const ce=M.getImmediateChild(i);let ge=c.getChildAfterChild(this.index_,j,this.reverse_);for(;null!=ge&&(ge.name===i||M.hasChild(ge.name));)ge=c.getChildAfterChild(this.index_,ge,this.reverse_);const Ue=null==ge?1:y(ge,L);if(se&&!l.isEmpty()&&Ue>=0)return null!=h&&h.trackChildChange(Eo(i,l,ce)),M.updateImmediateChild(i,l);{null!=h&&h.trackChildChange(Wa(i,ce));const en=M.updateImmediateChild(i,Ht.EMPTY_NODE);return null!=ge&&this.rangedFilter_.matches(ge)?(null!=h&&h.trackChildChange(Pu(ge.name,ge.node)),en.updateImmediateChild(ge.name,ge.node)):en}}return l.isEmpty()?r:se&&y(j,L)>=0?(null!=h&&(h.trackChildChange(Wa(j.name,j.node)),h.trackChildChange(Pu(i,l))),M.updateImmediateChild(i,l).updateImmediateChild(j.name,Ht.EMPTY_NODE)):r}}class op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const r=new op;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function $l(o){const r={};if(o.isDefault())return r;let i;return o.index_===Kn?i="$priority":o.index_===sh?i="$value":o.index_===vo?i="$key":((0,H.hu)(o.index_ instanceof ip,"Unrecognized index type!"),i=o.index_.toString()),r.orderBy=(0,H.Wl)(i),o.startSet_&&(r.startAt=(0,H.Wl)(o.indexStartValue_),o.startNameSet_&&(r.startAt+=","+(0,H.Wl)(o.indexStartName_))),o.endSet_&&(r.endAt=(0,H.Wl)(o.indexEndValue_),o.endNameSet_&&(r.endAt+=","+(0,H.Wl)(o.indexEndName_))),o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function Hl(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_)),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_)),o.limitSet_){r.l=o.limit_;let i=o.viewFrom_;""===i&&(i=o.isViewFromLeft()?"l":"r"),r.vf=i}return o.index_!==Kn&&(r.i=o.index_.toString()),r}class da extends Yf{constructor(r,i,l,c){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.log_=xl("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,H.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,l,c){const h=r._path.toString();this.log_("Listen called for "+h+" "+r._queryIdentifier);const y=da.getListenId_(r,l),M={};this.listens_[y]=M;const L=$l(r._queryParams);this.restRequest_(h+".json",L,(j,se)=>{let ce=se;if(404===j&&(ce=null,j=null),null===j&&this.onDataUpdate_(h,ce,!1,l),(0,H.DV)(this.listens_,y)===M){let ge;ge=j?401===j?"permission_denied":"rest_error:"+j:"ok",c(ge,null)}})}unlisten(r,i){const l=da.getListenId_(r,i);delete this.listens_[l]}get(r){const i=$l(r._queryParams),l=r._path.toString(),c=new H.BH;return this.restRequest_(l+".json",i,(h,y)=>{let M=y;404===h&&(M=null,h=null),null===h?(this.onDataUpdate_(l,M,!1,null),c.resolve(M)):c.reject(new Error(M))}),c.promise}refreshAuthToken(r){}restRequest_(r,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,h])=>{c&&c.accessToken&&(i.auth=c.accessToken),h&&h.token&&(i.ac=h.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,H.xO)(i);this.log_("Sending REST request for "+y);const M=new XMLHttpRequest;M.onreadystatechange=()=>{if(l&&4===M.readyState){this.log_("REST Response for "+y+" received. status:",M.status,"response:",M.responseText);let L=null;if(M.status>=200&&M.status<300){try{L=(0,H.cI)(M.responseText)}catch(j){si("Failed to parse JSON response for "+y+": "+M.responseText)}l(null,L)}else 401!==M.status&&404!==M.status&&si("Got unsuccessful REST response for "+y+" Status: "+M.status),l(M.status);l=null}},M.open("GET",y,!0),M.send()})}}class Ou{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function ha(){return{value:null,children:new Map}}function Zs(o,r,i){if(Kt(r))o.value=i,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,i);else{const l=Wt(r);o.children.has(l)||o.children.set(l,ha()),Zs(o.children.get(l),r=An(r),i)}}function qa(o,r,i){null!==o.value?i(r,o.value):function(o,r){o.children.forEach((i,l)=>{r(l,i)})}(o,(l,c)=>{qa(c,new _n(r.toString()+"/"+l),i)})}class Km{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&lr(this.last_,(l,c)=>{i[l]=i[l]-c}),this.last_=r,i}}class Zm{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Km(r);const l=1e4+2e4*Math.random();wu(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),i={};let l=!1;lr(r,(c,h)=>{h>0&&(0,H.r3)(this.statsToReport_,c)&&(i[c]=h,l=!0)}),l&&this.server_.reportStats(i),wu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var is=(()=>(function(o){o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(is||(is={})),is))();function uh(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class ch{constructor(r,i,l){this.path=r,this.affectedTree=i,this.revert=l,this.type=is.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Kt(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new _n(r));return new ch(fn(),i,this.revert)}}return(0,H.hu)(Wt(this.path)===r,"operationForChild called for unrelated child."),new ch(An(this.path),this.affectedTree,this.revert)}}class Fu{constructor(r,i){this.source=r,this.path=i,this.type=is.LISTEN_COMPLETE}operationForChild(r){return Kt(this.path)?new Fu(this.source,fn()):new Fu(this.source,An(this.path))}}class Gl{constructor(r,i,l){this.source=r,this.path=i,this.snap=l,this.type=is.OVERWRITE}operationForChild(r){return Kt(this.path)?new Gl(this.source,fn(),this.snap.getImmediateChild(r)):new Gl(this.source,An(this.path),this.snap)}}class Lu{constructor(r,i,l){this.source=r,this.path=i,this.children=l,this.type=is.MERGE}operationForChild(r){if(Kt(this.path)){const i=this.children.subtree(new _n(r));return i.isEmpty()?null:i.value?new Gl(this.source,fn(),i.value):new Lu(this.source,fn(),i)}return(0,H.hu)(Wt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Lu(this.source,An(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fa{constructor(r,i,l){this.node_=r,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Kt(r))return this.isFullyInitialized()&&!this.filtered_;const i=Wt(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Jv{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Tc(o,r,i,l,c,h){const y=l.filter(M=>M.type===i);y.sort((M,L)=>function(o,r,i){if(null==r.childName||null==i.childName)throw(0,H.g5)("Should only compare child_ events.");const l=new Yt(r.childName,r.snapshotNode),c=new Yt(i.childName,i.snapshotNode);return o.index_.compare(l,c)}(o,M,L)),y.forEach(M=>{const L=function(o,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,M,h);c.forEach(j=>{j.respondsTo(M.type)&&r.push(j.createEvent(L,o.query_))})})}function Ac(o,r){return{eventCache:o,serverCache:r}}function Sc(o,r,i,l){return Ac(new fa(r,i,l),o.serverCache)}function Xm(o,r,i,l){return Ac(o.eventCache,new fa(r,i,l))}function up(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function Wl(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let dh;class Yn{constructor(r,i=(()=>(dh||(dh=new Si(Tv)),dh))()){this.value=r,this.children=i}static fromObject(r){let i=new Yn(null);return lr(r,(l,c)=>{i=i.set(new _n(l),c)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:fn(),value:this.value};if(Kt(r))return null;{const l=Wt(r),c=this.children.get(l);if(null!==c){const h=c.findRootMostMatchingPathAndValue(An(r),i);return null!=h?{path:qn(new _n(l),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Kt(r))return this;{const i=Wt(r),l=this.children.get(i);return null!==l?l.subtree(An(r)):new Yn(null)}}set(r,i){if(Kt(r))return new Yn(i,this.children);{const l=Wt(r),h=(this.children.get(l)||new Yn(null)).set(An(r),i),y=this.children.insert(l,h);return new Yn(this.value,y)}}remove(r){if(Kt(r))return this.children.isEmpty()?new Yn(null):new Yn(null,this.children);{const i=Wt(r),l=this.children.get(i);if(l){const c=l.remove(An(r));let h;return h=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),null===this.value&&h.isEmpty()?new Yn(null):new Yn(this.value,h)}return this}}get(r){if(Kt(r))return this.value;{const i=Wt(r),l=this.children.get(i);return l?l.get(An(r)):null}}setTree(r,i){if(Kt(r))return i;{const l=Wt(r),h=(this.children.get(l)||new Yn(null)).setTree(An(r),i);let y;return y=h.isEmpty()?this.children.remove(l):this.children.insert(l,h),new Yn(this.value,y)}}fold(r){return this.fold_(fn(),r)}fold_(r,i){const l={};return this.children.inorderTraversal((c,h)=>{l[c]=h.fold_(qn(r,c),i)}),i(r,this.value,l)}findOnPath(r,i){return this.findOnPath_(r,fn(),i)}findOnPath_(r,i,l){const c=!!this.value&&l(i,this.value);if(c)return c;if(Kt(r))return null;{const h=Wt(r),y=this.children.get(h);return y?y.findOnPath_(An(r),qn(i,h),l):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,fn(),i)}foreachOnPath_(r,i,l){if(Kt(r))return this;{this.value&&l(i,this.value);const c=Wt(r),h=this.children.get(c);return h?h.foreachOnPath_(An(r),qn(i,c),l):new Yn(null)}}foreach(r){this.foreach_(fn(),r)}foreach_(r,i){this.children.inorderTraversal((l,c)=>{c.foreach_(qn(r,l),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,l)=>{l.value&&r(i,l.value)})}}class bo{constructor(r){this.writeTree_=r}static empty(){return new bo(new Yn(null))}}function Rc(o,r,i){if(Kt(r))return new bo(new Yn(i));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const c=l.path;let h=l.value;const y=Ti(c,r);return h=h.updateChild(y,i),new bo(o.writeTree_.set(c,h))}{const c=new Yn(i),h=o.writeTree_.setTree(r,c);return new bo(h)}}}function e_(o,r,i){let l=o;return lr(i,(c,h)=>{l=Rc(l,qn(r,c),h)}),l}function t_(o,r){if(Kt(r))return bo.empty();{const i=o.writeTree_.setTree(r,new Yn(null));return new bo(i)}}function cp(o,r){return null!=pa(o,r)}function pa(o,r){const i=o.writeTree_.findRootMostValueAndPath(r);return null!=i?o.writeTree_.get(i.path).getChild(Ti(i.path,r)):null}function hh(o){const r=[],i=o.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(Kn,(l,c)=>{r.push(new Yt(l,c))}):o.writeTree_.children.inorderTraversal((l,c)=>{null!=c.value&&r.push(new Yt(l,c.value))}),r}function Ka(o,r){if(Kt(r))return o;{const i=pa(o,r);return new bo(null!=i?new Yn(i):o.writeTree_.subtree(r))}}function n_(o){return o.writeTree_.isEmpty()}function Mc(o,r){return eE(fn(),o.writeTree_,r)}function eE(o,r,i){if(null!=r.value)return i.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((c,h)=>{".priority"===c?((0,H.hu)(null!==h.value,"Priority writes must always be leaf nodes"),l=h.value):i=eE(qn(o,c),h,i)}),!i.getChild(o).isEmpty()&&null!==l&&(i=i.updateChild(qn(o,".priority"),l)),i}}function fh(o,r){return mh(r,o)}function nE(o,r){if(o.snap)return Cs(o.path,r);for(const i in o.children)if(o.children.hasOwnProperty(i)&&Cs(qn(o.path,i),r))return!0;return!1}function rE(o){return o.visible}function dp(o,r,i){let l=bo.empty();for(let c=0;c<o.length;++c){const h=o[c];if(r(h)){const y=h.path;let M;if(h.snap)Cs(i,y)?(M=Ti(i,y),l=Rc(l,M,h.snap)):Cs(y,i)&&(M=Ti(y,i),l=Rc(l,fn(),h.snap.getChild(M)));else{if(!h.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Cs(i,y))M=Ti(i,y),l=e_(l,M,h.children);else if(Cs(y,i))if(M=Ti(y,i),Kt(M))l=e_(l,fn(),h.children);else{const L=(0,H.DV)(h.children,Wt(M));if(L){const j=L.getChild(An(M));l=Rc(l,fn(),j)}}}}}return l}function Pc(o,r,i,l,c){if(l||c){const h=Ka(o.visibleWrites,r);return!c&&n_(h)?i:c||null!=i||cp(h,fn())?Mc(dp(o.allWrites,function(j){return(j.visible||c)&&(!l||!~l.indexOf(j.writeId))&&(Cs(j.path,r)||Cs(r,j.path))},r),i||Ht.EMPTY_NODE):null}{const h=pa(o.visibleWrites,r);if(null!=h)return h;{const y=Ka(o.visibleWrites,r);return n_(y)?i:null!=i||cp(y,fn())?Mc(y,i||Ht.EMPTY_NODE):null}}}function ph(o,r,i,l){return Pc(o.writeTree,o.treePath,r,i,l)}function gh(o,r){return function(o,r,i){let l=Ht.EMPTY_NODE;const c=pa(o.visibleWrites,r);if(c)return c.isLeafNode()||c.forEachChild(Kn,(h,y)=>{l=l.updateImmediateChild(h,y)}),l;if(i){const h=Ka(o.visibleWrites,r);return i.forEachChild(Kn,(y,M)=>{const L=Mc(Ka(h,new _n(y)),M);l=l.updateImmediateChild(y,L)}),hh(h).forEach(y=>{l=l.updateImmediateChild(y.name,y.node)}),l}return hh(Ka(o.visibleWrites,r)).forEach(y=>{l=l.updateImmediateChild(y.name,y.node)}),l}(o.writeTree,o.treePath,r)}function o_(o,r,i,l){return function(o,r,i,l,c){(0,H.hu)(l||c,"Either existingEventSnap or existingServerSnap must exist");const h=qn(r,i);if(cp(o.visibleWrites,h))return null;{const y=Ka(o.visibleWrites,h);return n_(y)?c.getChild(i):Mc(y,c.getChild(i))}}(o.writeTree,o.treePath,r,i,l)}function Nc(o,r){return function(o,r){return pa(o.visibleWrites,r)}(o.writeTree,qn(o.treePath,r))}function xc(o,r,i){return function(o,r,i,l){const c=qn(r,i),h=pa(o.visibleWrites,c);return null!=h?h:l.isCompleteForChild(i)?Mc(Ka(o.visibleWrites,c),l.getNode().getImmediateChild(i)):null}(o.writeTree,o.treePath,r,i)}function uE(o,r){return mh(qn(o.treePath,r),o.writeTree)}function mh(o,r){return{treePath:o,writeTree:r}}class cE{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,l=r.childName;(0,H.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const c=this.changeMap.get(l);if(c){const h=c.type;if("child_added"===i&&"child_removed"===h)this.changeMap.set(l,Eo(l,r.snapshotNode,c.snapshotNode));else if("child_removed"===i&&"child_added"===h)this.changeMap.delete(l);else if("child_removed"===i&&"child_changed"===h)this.changeMap.set(l,Wa(l,c.oldSnap));else if("child_changed"===i&&"child_added"===h)this.changeMap.set(l,Pu(l,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==h)throw(0,H.g5)("Illegal combination of changes: "+r+" occurred after "+c);this.changeMap.set(l,Eo(l,r.snapshotNode,c.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const Uu=new class{getCompleteChild(r){return null}getChildAfterChild(r,i,l){return null}};class hp{constructor(r,i,l=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xc(this.writes_,r,l)}}getChildAfterChild(r,i,l){const c=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wl(this.viewCache_),h=function(o,r,i,l,c,h){return function(o,r,i,l,c,h,y){let M;const L=Ka(o.visibleWrites,r),j=pa(L,fn());if(null!=j)M=j;else{if(null==i)return[];M=Mc(L,i)}if(M=M.withIndex(y),M.isEmpty()||M.isLeafNode())return[];{const se=[],ce=y.getCompare(),ge=h?M.getReverseIteratorFrom(l,y):M.getIteratorFrom(l,y);let Ue=ge.getNext();for(;Ue&&se.length<c;)0!==ce(Ue,l)&&se.push(Ue),Ue=ge.getNext();return se}}(o.writeTree,o.treePath,r,i,l,c,h)}(this.writes_,c,i,1,l,r);return 0===h.length?null:h[0]}}function _h(o,r,i,l,c,h){const y=r.eventCache;if(null!=Nc(l,i))return r;{let M,L;if(Kt(i))if((0,H.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const j=Wl(r),ce=gh(l,j instanceof Ht?j:Ht.EMPTY_NODE);M=o.filter.updateFullNode(r.eventCache.getNode(),ce,h)}else{const j=ph(l,Wl(r));M=o.filter.updateFullNode(r.eventCache.getNode(),j,h)}else{const j=Wt(i);if(".priority"===j){(0,H.hu)(1===$a(i),"Can't have a priority with additional path components");const se=y.getNode();L=r.serverCache.getNode();const ce=o_(l,i,se,L);M=null!=ce?o.filter.updatePriority(se,ce):y.getNode()}else{const se=An(i);let ce;if(y.isCompleteForChild(j)){L=r.serverCache.getNode();const ge=o_(l,i,y.getNode(),L);ce=null!=ge?y.getNode().getImmediateChild(j).updateChild(se,ge):y.getNode().getImmediateChild(j)}else ce=xc(l,j,r.serverCache);M=null!=ce?o.filter.updateChild(y.getNode(),j,ce,se,c,h):y.getNode()}}return Sc(r,M,y.isFullyInitialized()||Kt(i),o.filter.filtersNodes())}}function Oc(o,r,i,l,c,h,y,M){const L=r.serverCache;let j;const se=y?o.filter:o.filter.getIndexedFilter();if(Kt(i))j=se.updateFullNode(L.getNode(),l,null);else if(se.filtersNodes()&&!L.isFiltered()){const Ue=L.getNode().updateChild(i,l);j=se.updateFullNode(L.getNode(),Ue,null)}else{const Ue=Wt(i);if(!L.isCompleteForPath(i)&&$a(i)>1)return r;const lt=An(i),br=L.getNode().getImmediateChild(Ue).updateChild(lt,l);j=".priority"===Ue?se.updatePriority(L.getNode(),br):se.updateChild(L.getNode(),Ue,br,lt,Uu,null)}const ce=Xm(r,j,L.isFullyInitialized()||Kt(i),se.filtersNodes());return _h(o,ce,i,c,new hp(c,ce,h),M)}function l_(o,r,i,l,c,h,y){const M=r.eventCache;let L,j;const se=new hp(c,r,h);if(Kt(i))j=o.filter.updateFullNode(r.eventCache.getNode(),l,y),L=Sc(r,j,!0,o.filter.filtersNodes());else{const ce=Wt(i);if(".priority"===ce)j=o.filter.updatePriority(r.eventCache.getNode(),l),L=Sc(r,j,M.isFullyInitialized(),M.isFiltered());else{const ge=An(i),Ue=M.getNode().getImmediateChild(ce);let lt;if(Kt(ge))lt=l;else{const en=se.getCompleteChild(ce);lt=null!=en?".priority"===Qf(ge)&&en.getChild(Ll(ge)).isEmpty()?en:en.updateChild(ge,l):Ht.EMPTY_NODE}L=Ue.equals(lt)?r:Sc(r,o.filter.updateChild(M.getNode(),ce,lt,ge,se,y),M.isFullyInitialized(),o.filter.filtersNodes())}}return L}function u_(o,r){return o.eventCache.isCompleteForChild(r)}function mp(o,r,i){return i.foreach((l,c)=>{r=r.updateChild(l,c)}),r}function _p(o,r,i,l,c,h,y,M){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let j,L=r;j=Kt(i)?l:new Yn(null).setTree(i,l);const se=r.serverCache.getNode();return j.children.inorderTraversal((ce,ge)=>{if(se.hasChild(ce)){const lt=mp(0,r.serverCache.getNode().getImmediateChild(ce),ge);L=Oc(o,L,new _n(ce),lt,c,h,y,M)}}),j.children.inorderTraversal((ce,ge)=>{const Ue=!r.serverCache.isCompleteForChild(ce)&&null===ge.value;if(!se.hasChild(ce)&&!Ue){const en=mp(0,r.serverCache.getNode().getImmediateChild(ce),ge);L=Oc(o,L,new _n(ce),en,c,h,y,M)}}),L}class vp{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,c=new rs(l.getIndex()),h=function(o){return o.loadsAllData()?new rs(o.getIndex()):o.hasLimit()?new Zv(o):new ca(o)}(l);this.processor_=function(o){return{filter:o}}(h);const y=i.serverCache,M=i.eventCache,L=c.updateFullNode(Ht.EMPTY_NODE,y.getNode(),null),j=h.updateFullNode(Ht.EMPTY_NODE,M.getNode(),null),se=new fa(L,y.isFullyInitialized(),c.filtersNodes()),ce=new fa(j,M.isFullyInitialized(),h.filtersNodes());this.viewCache_=Ac(ce,se),this.eventGenerator_=new Jv(this.query_)}get query(){return this.query_}}function fE(o,r){const i=Wl(o.viewCache_);return i&&(o.query._queryParams.loadsAllData()||!Kt(r)&&!i.getImmediateChild(Wt(r)).isEmpty())?i.getChild(r):null}function Cp(o){return 0===o.eventRegistrations_.length}function yh(o,r,i){const l=[];if(i){(0,H.hu)(null==r,"A cancel should cancel all event registrations.");const c=o.query._path;o.eventRegistrations_.forEach(h=>{const y=h.createCancelEvent(i,c);y&&l.push(y)})}if(r){let c=[];for(let h=0;h<o.eventRegistrations_.length;++h){const y=o.eventRegistrations_[h];if(y.matches(r)){if(r.hasAnyCallback()){c=c.concat(o.eventRegistrations_.slice(h+1));break}}else c.push(y)}o.eventRegistrations_=c}else o.eventRegistrations_=[];return l}function p_(o,r,i,l){r.type===is.MERGE&&null!==r.source.queryId&&((0,H.hu)(Wl(o.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(up(o.viewCache_),"Missing event cache, even though we have a server cache"));const c=o.viewCache_,h=function(o,r,i,l,c){const h=new cE;let y,M;if(i.type===is.OVERWRITE){const j=i;j.source.fromUser?y=l_(o,r,j.path,j.snap,l,c,h):((0,H.hu)(j.source.fromServer,"Unknown source."),M=j.source.tagged||r.serverCache.isFiltered()&&!Kt(j.path),y=Oc(o,r,j.path,j.snap,l,c,M,h))}else if(i.type===is.MERGE){const j=i;j.source.fromUser?y=function(o,r,i,l,c,h,y){let M=r;return l.foreach((L,j)=>{const se=qn(i,L);u_(r,Wt(se))&&(M=l_(o,M,se,j,c,h,y))}),l.foreach((L,j)=>{const se=qn(i,L);u_(r,Wt(se))||(M=l_(o,M,se,j,c,h,y))}),M}(o,r,j.path,j.children,l,c,h):((0,H.hu)(j.source.fromServer,"Unknown source."),M=j.source.tagged||r.serverCache.isFiltered(),y=_p(o,r,j.path,j.children,l,c,M,h))}else if(i.type===is.ACK_USER_WRITE){const j=i;y=j.revert?function(o,r,i,l,c,h){let y;if(null!=Nc(l,i))return r;{const M=new hp(l,r,c),L=r.eventCache.getNode();let j;if(Kt(i)||".priority"===Wt(i)){let se;if(r.serverCache.isFullyInitialized())se=ph(l,Wl(r));else{const ce=r.serverCache.getNode();(0,H.hu)(ce instanceof Ht,"serverChildren would be complete if leaf node"),se=gh(l,ce)}j=o.filter.updateFullNode(L,se,h)}else{const se=Wt(i);let ce=xc(l,se,r.serverCache);null==ce&&r.serverCache.isCompleteForChild(se)&&(ce=L.getImmediateChild(se)),j=null!=ce?o.filter.updateChild(L,se,ce,An(i),M,h):r.eventCache.getNode().hasChild(se)?o.filter.updateChild(L,se,Ht.EMPTY_NODE,An(i),M,h):L,j.isEmpty()&&r.serverCache.isFullyInitialized()&&(y=ph(l,Wl(r)),y.isLeafNode()&&(j=o.filter.updateFullNode(j,y,h)))}return y=r.serverCache.isFullyInitialized()||null!=Nc(l,fn()),Sc(r,j,y,o.filter.filtersNodes())}}(o,r,j.path,l,c,h):function(o,r,i,l,c,h,y){if(null!=Nc(c,i))return r;const M=r.serverCache.isFiltered(),L=r.serverCache;if(null!=l.value){if(Kt(i)&&L.isFullyInitialized()||L.isCompleteForPath(i))return Oc(o,r,i,L.getNode().getChild(i),c,h,M,y);if(Kt(i)){let j=new Yn(null);return L.getNode().forEachChild(vo,(se,ce)=>{j=j.set(new _n(se),ce)}),_p(o,r,i,j,c,h,M,y)}return r}{let j=new Yn(null);return l.foreach((se,ce)=>{const ge=qn(i,se);L.isCompleteForPath(ge)&&(j=j.set(se,L.getNode().getChild(ge)))}),_p(o,r,i,j,c,h,M,y)}}(o,r,j.path,j.affectedTree,l,c,h)}else{if(i.type!==is.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+i.type);y=function(o,r,i,l,c){const h=r.serverCache;return _h(o,Xm(r,h.getNode(),h.isFullyInitialized()||Kt(i),h.isFiltered()),i,l,Uu,c)}(o,r,i.path,l,h)}const L=h.getChanges();return function(o,r,i){const l=r.eventCache;if(l.isFullyInitialized()){const c=l.getNode().isLeafNode()||l.getNode().isEmpty(),h=up(o);(i.length>0||!o.eventCache.isFullyInitialized()||c&&!l.getNode().equals(h)||!l.getNode().getPriority().equals(h.getPriority()))&&i.push(zm(up(r)))}}(r,y,L),{viewCache:y,changes:L}}(o.processor_,c,r,i,l);return function(o,r){(0,H.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,h.viewCache),(0,H.hu)(h.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=h.viewCache,g_(o,h.changes,h.viewCache.eventCache.getNode(),null)}function g_(o,r,i,l){return function(o,r,i,l){const c=[],h=[];return r.forEach(y=>{"child_changed"===y.type&&o.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&h.push(function(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(y.childName,y.snapshotNode))}),Tc(o,c,"child_removed",r,l,i),Tc(o,c,"child_added",r,l,i),Tc(o,c,"child_moved",h,l,i),Tc(o,c,"child_changed",r,l,i),Tc(o,c,"value",r,l,i),c}(o.eventGenerator_,r,i,l?[l]:o.eventRegistrations_)}let vh,Ch;class bp{constructor(){this.views=new Map}}function Eh(o,r,i,l){const c=r.source.queryId;if(null!==c){const h=o.views.get(c);return(0,H.hu)(null!=h,"SyncTree gave us an op for an invalid query."),p_(h,r,i,l)}{let h=[];for(const y of o.views.values())h=h.concat(p_(y,r,i,l));return h}}function y_(o,r,i,l,c,h){const y=function(o,r,i,l,c){const y=o.views.get(r._queryIdentifier);if(!y){let M=ph(i,c?l:null),L=!1;M?L=!0:l instanceof Ht?(M=gh(i,l),L=!1):(M=Ht.EMPTY_NODE,L=!1);const j=Ac(new fa(M,L,!1),new fa(l,c,!1));return new vp(r,j)}return y}(o,r,l,c,h);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,y),function(o,r){o.eventRegistrations_.push(r)}(y,i),function(o,r){const i=o.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Kn,(h,y)=>{l.push(Pu(h,y))}),i.isFullyInitialized()&&l.push(zm(i.getNode())),g_(o,l,i.getNode(),r)}(y,i)}function Dp(o){const r=[];for(const i of o.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function ga(o,r){let i=null;for(const l of o.views.values())i=i||fE(l,r);return i}function gE(o,r){return r._queryParams.loadsAllData()?kc(o):o.views.get(r._queryIdentifier)}function E_(o,r){return null!=gE(o,r)}function Ya(o){return null!=kc(o)}function kc(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let mE=1;class b_{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Yn(null),this.pendingWriteTree_={visibleWrites:bo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bh(o,r,i,l,c){return function(o,r,i,l,c){(0,H.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===c&&(c=!0),o.allWrites.push({path:r,snap:i,writeId:l,visible:c}),c&&(o.visibleWrites=Rc(o.visibleWrites,r,i)),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l,c),c?Ri(o,new Gl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function ma(o,r,i=!1){const l=function(o,r){for(let i=0;i<o.allWrites.length;i++){const l=o.allWrites[i];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function(o,r){const i=o.allWrites.findIndex(M=>M.writeId===r);(0,H.hu)(i>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[i];o.allWrites.splice(i,1);let c=l.visible,h=!1,y=o.allWrites.length-1;for(;c&&y>=0;){const M=o.allWrites[y];M.visible&&(y>=i&&nE(M,l.path)?c=!1:Cs(l.path,M.path)&&(h=!0)),y--}return!!c&&(h?(function(o){o.visibleWrites=dp(o.allWrites,rE,fn()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=t_(o.visibleWrites,l.path):lr(l.children,L=>{o.visibleWrites=t_(o.visibleWrites,qn(l.path,L))}),!0))}(o.pendingWriteTree_,r)){let h=new Yn(null);return null!=l.snap?h=h.set(fn(),!0):lr(l.children,y=>{h=h.set(new _n(y),!0)}),Ri(o,new ch(l.path,h,i))}return[]}function Bu(o,r,i){return Ri(o,new Gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function Fc(o,r,i,l,c=!1){const h=r._path,y=o.syncPointTree_.get(h);let M=[];if(y&&("default"===r._queryIdentifier||E_(y,r))){const L=function(o,r,i,l){const c=r._queryIdentifier,h=[];let y=[];const M=Ya(o);if("default"===c)for(const[L,j]of o.views.entries())y=y.concat(yh(j,i,l)),Cp(j)&&(o.views.delete(L),j.query._queryParams.loadsAllData()||h.push(j.query));else{const L=o.views.get(c);L&&(y=y.concat(yh(L,i,l)),Cp(L)&&(o.views.delete(c),L.query._queryParams.loadsAllData()||h.push(L.query)))}return M&&!Ya(o)&&h.push(new((0,H.hu)(vh,"Reference.ts has not been loaded"),vh)(r._repo,r._path)),{removed:h,events:y}}(y,r,i,l);(function(o){return 0===o.views.size})(y)&&(o.syncPointTree_=o.syncPointTree_.remove(h));const j=L.removed;if(M=L.events,!c){const se=-1!==j.findIndex(ge=>ge._queryParams.loadsAllData()),ce=o.syncPointTree_.findOnPath(h,(ge,Ue)=>Ya(Ue));if(se&&!ce){const ge=o.syncPointTree_.subtree(h);if(!ge.isEmpty()){const Ue=function(o){return o.fold((r,i,l)=>{if(i&&Ya(i))return[kc(i)];{let c=[];return i&&(c=Dp(i)),lr(l,(h,y)=>{c=c.concat(y)}),c}})}(ge);for(let lt=0;lt<Ue.length;++lt){const en=Ue[lt],br=en.query,Ea=Js(o,en);o.listenProvider_.startListening(Vc(br),Mi(o,br),Ea.hashFn,Ea.onComplete)}}}if(!ce&&j.length>0&&!l)if(se){const ge=null;o.listenProvider_.stopListening(Vc(r),ge)}else j.forEach(ge=>{const Ue=o.queryToTagMap.get(ji(ge));o.listenProvider_.stopListening(Vc(ge),Ue)})}!function(o,r){for(let i=0;i<r.length;++i){const l=r[i];if(!l._queryParams.loadsAllData()){const c=ji(l),h=o.queryToTagMap.get(c);o.queryToTagMap.delete(c),o.tagToQueryMap.delete(h)}}}(o,j)}return M}function D_(o,r,i,l=!1){const c=r._path;let h=null,y=!1;o.syncPointTree_.foreachOnPath(c,(ge,Ue)=>{const lt=Ti(ge,c);h=h||ga(Ue,lt),y=y||Ya(Ue)});let L,M=o.syncPointTree_.get(c);M?(y=y||Ya(M),h=h||ga(M,fn())):(M=new bp,o.syncPointTree_=o.syncPointTree_.set(c,M)),null!=h?L=!0:(L=!1,h=Ht.EMPTY_NODE,o.syncPointTree_.subtree(c).foreachChild((Ue,lt)=>{const en=ga(lt,fn());en&&(h=h.updateImmediateChild(Ue,en))}));const j=E_(M,r);if(!j&&!r._queryParams.loadsAllData()){const ge=ji(r);(0,H.hu)(!o.queryToTagMap.has(ge),"View does not exist, but we have a tag");const Ue=mE++;o.queryToTagMap.set(ge,Ue),o.tagToQueryMap.set(Ue,ge)}let ce=y_(M,r,i,fh(o.pendingWriteTree_,c),h,L);if(!j&&!y&&!l){const ge=gE(M,r);ce=ce.concat(function(o,r,i){const l=r._path,c=Mi(o,r),h=Js(o,i),y=o.listenProvider_.startListening(Vc(r),c,h.hashFn,h.onComplete),M=o.syncPointTree_.subtree(l);if(c)(0,H.hu)(!Ya(M.value),"If we're adding a query, it shouldn't be shadowed");else{const L=M.fold((j,se,ce)=>{if(!Kt(j)&&se&&Ya(se))return[kc(se).query];{let ge=[];return se&&(ge=ge.concat(Dp(se).map(Ue=>Ue.query))),lr(ce,(Ue,lt)=>{ge=ge.concat(lt)}),ge}});for(let j=0;j<L.length;++j){const se=L[j];o.listenProvider_.stopListening(Vc(se),Mi(o,se))}}return y}(o,r,ge))}return ce}function Lc(o,r,i){const c=o.pendingWriteTree_,h=o.syncPointTree_.findOnPath(r,(y,M)=>{const j=ga(M,Ti(y,r));if(j)return j});return Pc(c,r,h,i,!0)}function Ri(o,r){return T_(r,o.syncPointTree_,null,fh(o.pendingWriteTree_,fn()))}function T_(o,r,i,l){if(Kt(o.path))return A_(o,r,i,l);{const c=r.get(fn());null==i&&null!=c&&(i=ga(c,fn()));let h=[];const y=Wt(o.path),M=o.operationForChild(y),L=r.children.get(y);if(L&&M){const j=i?i.getImmediateChild(y):null,se=uE(l,y);h=h.concat(T_(M,L,j,se))}return c&&(h=h.concat(Eh(c,o,l,i))),h}}function A_(o,r,i,l){const c=r.get(fn());null==i&&null!=c&&(i=ga(c,fn()));let h=[];return r.children.inorderTraversal((y,M)=>{const L=i?i.getImmediateChild(y):null,j=uE(l,y),se=o.operationForChild(y);se&&(h=h.concat(A_(se,M,L,j)))}),c&&(h=h.concat(Eh(c,o,l,i))),h}function Js(o,r){const i=r.query,l=Mi(o,i);return{hashFn:()=>(function(o){return o.viewCache_.serverCache.getNode()}(r)||Ht.EMPTY_NODE).hash(),onComplete:c=>{if("ok"===c)return l?function(o,r,i){const l=Ih(o,i);if(l){const c=wh(l),h=c.path,y=c.queryId,M=Ti(h,r);return Ap(o,h,new Fu(uh(y),M))}return[]}(o,i._path,l):function(o,r){return Ri(o,new Fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,i._path);{const h=function(o,r){let i="Unknown Error";"too_big"===o?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?i="Client doesn't have permission to access the desired data.":"unavailable"===o&&(i="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+i);return l.code=o.toUpperCase(),l}(c,i);return Fc(o,i,null,h)}}}}function Mi(o,r){const i=ji(r);return o.queryToTagMap.get(i)}function ji(o){return o._path.toString()+"$"+o._queryIdentifier}function Ih(o,r){return o.tagToQueryMap.get(r)}function wh(o){const r=o.indexOf("$");return(0,H.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new _n(o.substr(0,r))}}function Ap(o,r,i){const l=o.syncPointTree_.get(r);return(0,H.hu)(l,"Missing sync point for query tag that we're tracking"),Eh(l,i,fh(o.pendingWriteTree_,r),null)}function Vc(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new((0,H.hu)(Ch,"Reference.ts has not been loaded"),Ch)(o._repo,o._path):o}class Rp{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new Rp(i)}node(){return this.node_}}class Dh{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=qn(this.path_,r);return new Dh(this.syncTree_,i)}node(){return Lc(this.syncTree_,this.path_)}}const Mp=function(o,r,i){return o&&"object"==typeof o?((0,H.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?S_(o[".sv"],r,i):"object"==typeof o[".sv"]?Th(o[".sv"],r):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},S_=function(o,r,i){if("timestamp"===o)return i.timestamp;(0,H.hu)(!1,"Unexpected server value: "+o)},Th=function(o,r,i){o.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,H.hu)(!1,"Unexpected increment value: "+l);const c=r.node();if((0,H.hu)(null!=c,"Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return l;const y=c.getValue();return"number"!=typeof y?l:y+l},Ah=function(o,r,i){return Sh(o,new Rp(r),i)};function Sh(o,r,i){const l=o.getPriority().val(),c=Mp(l,r.getImmediateChild(".priority"),i);let h;if(o.isLeafNode()){const y=o,M=Mp(y.getValue(),r,i);return M!==y.getValue()||c!==y.getPriority().val()?new Bl(M,ir(c)):o}{const y=o;return h=y,c!==y.getPriority().val()&&(h=h.updatePriority(new Bl(c))),y.forEachChild(Kn,(M,L)=>{const j=Sh(L,r.getImmediateChild(M),i);j!==L&&(h=h.updateImmediateChild(M,j))}),h}}class Bc{constructor(r="",i=null,l={children:{},childCount:0}){this.name=r,this.parent=i,this.node=l}}function zl(o,r){let i=r instanceof _n?r:new _n(r),l=o,c=Wt(i);for(;null!==c;){const h=(0,H.DV)(l.node.children,c)||{children:{},childCount:0};l=new Bc(c,l,h),i=An(i),c=Wt(i)}return l}function Qa(o){return o.node.value}function Rh(o,r){o.node.value=r,xp(o)}function Pp(o){return o.node.childCount>0}function jc(o,r){lr(o.node.children,(i,l)=>{r(new Bc(i,o,l))})}function Np(o,r,i,l){i&&!l&&r(o),jc(o,c=>{Np(c,r,!0,l)}),i&&l&&r(o)}function $u(o){return new _n(null===o.parent?o.name:$u(o.parent)+"/"+o.name)}function xp(o){null!==o.parent&&function(o,r,i){const l=function(o){return void 0===Qa(o)&&!Pp(o)}(i),c=(0,H.r3)(o.node.children,r);l&&c?(delete o.node.children[r],o.node.childCount--,xp(o)):!l&&!c&&(o.node.children[r]=i.node,o.node.childCount++,xp(o))}(o.parent,o.name,o)}const wE=/[\[\].#$\/\u0000-\u001F\u007F]/,DE=/[\[\].#$\u0000-\u001F\u007F]/,Op=10485760,Mh=function(o){return"string"==typeof o&&0!==o.length&&!wE.test(o)},N_=function(o){return"string"==typeof o&&0!==o.length&&!DE.test(o)},Hc=function(o,r,i){const l=i instanceof _n?new Hv(i,o):i;if(void 0===r)throw new Error(o+"contains undefined "+Ha(l));if("function"==typeof r)throw new Error(o+"contains a function "+Ha(l)+" with contents = "+r.toString());if(kf(r))throw new Error(o+"contains "+r.toString()+" "+Ha(l));if("string"==typeof r&&r.length>Op/3&&(0,H.ug)(r)>Op)throw new Error(o+"contains a string greater than "+Op+" utf8 bytes "+Ha(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let c=!1,h=!1;if(lr(r,(y,M)=>{if(".value"===y)c=!0;else if(".priority"!==y&&".sv"!==y&&(h=!0,!Mh(y)))throw new Error(o+" contains an invalid key ("+y+") "+Ha(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,H.ug)(r),Fm(o)})(l,y),Hc(o,M,l),function(o){const r=o.parts_.pop();o.byteLength_-=(0,H.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),c&&h)throw new Error(o+' contains ".value" child '+Ha(l)+" in addition to actual children.")}},Fp=function(o,r,i,l){if(!(l&&void 0===i||N_(i)))throw new Error((0,H.gK)(o,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class O_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wc(o,r){let i=null;for(let l=0;l<r.length;l++){const c=r[l],h=c.getPath();null!==i&&!Zf(h,i.path)&&(o.eventLists_.push(i),i=null),null===i&&(i={events:[],path:h}),i.events.push(c)}i&&o.eventLists_.push(i)}function Vp(o,r,i){Wc(o,i),Up(o,l=>Zf(l,r))}function $i(o,r,i){Wc(o,i),Up(o,l=>Cs(l,r)||Cs(r,l))}function Up(o,r){o.recursionDepth_++;let i=!0;for(let l=0;l<o.eventLists_.length;l++){const c=o.eventLists_[l];c&&(r(c.path)?(k_(o.eventLists_[l]),o.eventLists_[l]=null):i=!1)}i&&(o.eventLists_=[]),o.recursionDepth_--}function k_(o){for(let r=0;r<o.events.length;r++){const i=o.events[r];if(null!==i){o.events[r]=null;const l=i.getEventRunner();Nl&&Br("event: "+i.toString()),ua(l)}}}class jp{constructor(r,i,l,c){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ha(),this.transactionQueueTree_=new Bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Za(o){const i=o.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function zc(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:Za(o)})}function V_(o,r,i,l,c){o.dataUpdateCount++;const h=new _n(r);i=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,i):i;let y=[];if(c)if(l){const L=(0,H.UI)(i,j=>ir(j));y=function(o,r,i,l){const c=Ih(o,l);if(c){const h=wh(c),y=h.path,M=h.queryId,L=Ti(y,r),j=Yn.fromObject(i);return Ap(o,y,new Lu(uh(M),L,j))}return[]}(o.serverSyncTree_,h,L,c)}else{const L=ir(i);y=function(o,r,i,l){const c=Ih(o,l);if(null!=c){const h=wh(c),y=h.path,M=h.queryId,L=Ti(y,r);return Ap(o,y,new Gl(uh(M),L,i))}return[]}(o.serverSyncTree_,h,L,c)}else if(l){const L=(0,H.UI)(i,j=>ir(j));y=function(o,r,i){const l=Yn.fromObject(i);return Ri(o,new Lu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,h,L)}else{const L=ir(i);y=Bu(o.serverSyncTree_,h,L)}let M=h;y.length>0&&(M=Kl(o,h)),$i(o.eventQueue_,M,y)}function ql(o,r){qc(o,"connected",r),!1===r&&function(o){Yc(o,"onDisconnectEvents");const r=zc(o),i=ha();qa(o.onDisconnect_,fn(),(c,h)=>{const y=function(o,r,i,l){return Sh(r,new Dh(i,o),l)}(c,h,o.serverSyncTree_,r);Zs(i,c,y)});let l=[];qa(i,fn(),(c,h)=>{l=l.concat(Bu(o.serverSyncTree_,c,h));const y=Wp(o,c);Kl(o,y)}),o.onDisconnect_=ha(),$i(o.eventQueue_,fn(),l)}(o)}function qc(o,r,i){const l=new _n("/.info/"+r),c=ir(i);o.infoData_.updateSnapshot(l,c);const h=Bu(o.infoSyncTree_,l,c);$i(o.eventQueue_,l,h)}function $p(o){return o.nextWriteId_++}function Ph(o,r,i,l,c){Yc(o,"set",{path:r.toString(),value:i,priority:l});const h=zc(o),y=ir(i,l),M=Lc(o.serverSyncTree_,r),L=Ah(y,M,h),j=$p(o),se=bh(o.serverSyncTree_,r,L,j,!0);Wc(o.eventQueue_,se),o.server_.put(r.toString(),y.val(!0),(ge,Ue)=>{const lt="ok"===ge;lt||si("set at "+r+" failed: "+ge);const en=ma(o.serverSyncTree_,j,!lt);$i(o.eventQueue_,r,en),function(o,r,i,l){r&&ua(()=>{if("ok"===i)r(null);else{const c=(i||"error").toUpperCase();let h=c;l&&(h+=": "+l);const y=new Error(h);y.code=c,r(y)}})}(0,c,ge,Ue)});const ce=Wp(o,r);Kl(o,ce),$i(o.eventQueue_,ce,[])}function Hu(o,r,i){let l;l=".info"===Wt(r._path)?Fc(o.infoSyncTree_,r,i):Fc(o.serverSyncTree_,r,i),Vp(o.eventQueue_,r._path,l)}function Yc(o,...r){let i="";o.persistentConnection_&&(i=o.persistentConnection_.id+":"),Br(i,...r)}function Gp(o,r,i){return Lc(o.serverSyncTree_,r,i)||Ht.EMPTY_NODE}function Qc(o,r=o.transactionQueueTree_){if(r||Ja(o,r),Qa(r)){const i=G_(o,r);(0,H.hu)(i.length>0,"Sending zero length transaction queue"),i.every(c=>0===c.status)&&function(o,r,i){const l=i.map(j=>j.currentWriteId),c=Gp(o,r,l);let h=c;const y=c.hash();for(let j=0;j<i.length;j++){const se=i[j];(0,H.hu)(0===se.status,"tryToSendTransactionQueue_: items in queue should all be run."),se.status=1,se.retryCount++;const ce=Ti(r,se.path);h=h.updateChild(ce,se.currentOutputSnapshotRaw)}const M=h.val(!0),L=r;o.server_.put(L.toString(),M,j=>{Yc(o,"transaction put response",{path:L.toString(),status:j});let se=[];if("ok"===j){const ce=[];for(let ge=0;ge<i.length;ge++)i[ge].status=2,se=se.concat(ma(o.serverSyncTree_,i[ge].currentWriteId)),i[ge].onComplete&&ce.push(()=>i[ge].onComplete(null,!0,i[ge].currentOutputSnapshotResolved)),i[ge].unwatcher();Ja(o,zl(o.transactionQueueTree_,r)),Qc(o,o.transactionQueueTree_),$i(o.eventQueue_,r,se);for(let ge=0;ge<ce.length;ge++)ua(ce[ge])}else{if("datastale"===j)for(let ce=0;ce<i.length;ce++)i[ce].status=3===i[ce].status?4:0;else{si("transaction at "+L.toString()+" failed: "+j);for(let ce=0;ce<i.length;ce++)i[ce].status=4,i[ce].abortReason=j}Kl(o,r)}},y)}(o,$u(r),i)}else Pp(r)&&jc(r,i=>{Qc(o,i)})}function Kl(o,r){const i=H_(o,r),l=$u(i);return function(o,r,i){if(0===r.length)return;const l=[];let c=[];const y=r.filter(M=>0===M.status).map(M=>M.currentWriteId);for(let M=0;M<r.length;M++){const L=r[M],j=Ti(i,L.path);let ce,se=!1;if((0,H.hu)(null!==j,"rerunTransactionsUnderNode_: relativePath should not be null."),4===L.status)se=!0,ce=L.abortReason,c=c.concat(ma(o.serverSyncTree_,L.currentWriteId,!0));else if(0===L.status)if(L.retryCount>=25)se=!0,ce="maxretry",c=c.concat(ma(o.serverSyncTree_,L.currentWriteId,!0));else{const ge=Gp(o,L.path,y);L.currentInputSnapshot=ge;const Ue=r[M].update(ge.val());if(void 0!==Ue){Hc("transaction failed: Data returned ",Ue,L.path);let lt=ir(Ue);"object"==typeof Ue&&null!=Ue&&(0,H.r3)(Ue,".priority")||(lt=lt.updatePriority(ge.getPriority()));const br=L.currentWriteId,Ea=zc(o),tl=Ah(lt,ge,Ea);L.currentOutputSnapshotRaw=lt,L.currentOutputSnapshotResolved=tl,L.currentWriteId=$p(o),y.splice(y.indexOf(br),1),c=c.concat(bh(o.serverSyncTree_,L.path,tl,L.currentWriteId,L.applyLocally)),c=c.concat(ma(o.serverSyncTree_,br,!0))}else se=!0,ce="nodata",c=c.concat(ma(o.serverSyncTree_,L.currentWriteId,!0))}$i(o.eventQueue_,i,c),c=[],se&&(r[M].status=2,setTimeout(r[M].unwatcher,Math.floor(0)),r[M].onComplete&&l.push("nodata"===ce?()=>r[M].onComplete(null,!1,r[M].currentInputSnapshot):()=>r[M].onComplete(new Error(ce),!1,null)))}Ja(o,o.transactionQueueTree_);for(let M=0;M<l.length;M++)ua(l[M]);Qc(o,o.transactionQueueTree_)}(o,G_(o,i),l),l}function H_(o,r){let i,l=o.transactionQueueTree_;for(i=Wt(r);null!==i&&void 0===Qa(l);)l=zl(l,i),i=Wt(r=An(r));return l}function G_(o,r){const i=[];return W_(o,r,i),i.sort((l,c)=>l.order-c.order),i}function W_(o,r,i){const l=Qa(r);if(l)for(let c=0;c<l.length;c++)i.push(l[c]);jc(r,c=>{W_(o,c,i)})}function Ja(o,r){const i=Qa(r);if(i){let l=0;for(let c=0;c<i.length;c++)2!==i[c].status&&(i[l]=i[c],l++);i.length=l,Rh(r,i.length>0?i:void 0)}jc(r,l=>{Ja(o,l)})}function Wp(o,r){const i=$u(H_(o,r)),l=zl(o.transactionQueueTree_,r);return function(o,r,i){let l=o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,c=>{zp(o,c)}),zp(o,l),Np(l,c=>{zp(o,c)}),i}function zp(o,r){const i=Qa(r);if(i){const l=[];let c=[],h=-1;for(let y=0;y<i.length;y++)3===i[y].status||(1===i[y].status?((0,H.hu)(h===y-1,"All SENT items should be at beginning of queue."),h=y,i[y].status=3,i[y].abortReason="set"):((0,H.hu)(0===i[y].status,"Unexpected transaction status in abort"),i[y].unwatcher(),c=c.concat(ma(o.serverSyncTree_,i[y].currentWriteId,!0)),i[y].onComplete&&l.push(i[y].onComplete.bind(null,new Error("set"),!1,null))));-1===h?Rh(r,void 0):i.length=h+1,$i(o.eventQueue_,$u(r),c);for(let y=0;y<l.length;y++)ua(l[y])}}const Oh=function(o,r){const i=z_(o),l=i.namespace;return"firebase.com"===i.domain&&ii(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==i.domain&&ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Uf(i.host,i.secure,l,"ws"===i.scheme||"wss"===i.scheme,r,"",l!==i.subdomain),path:new _n(i.pathString)}},z_=function(o){let r="",i="",l="",c="",h="",y=!0,M="https",L=443;if("string"==typeof o){let j=o.indexOf("//");j>=0&&(M=o.substring(0,j-1),o=o.substring(j+2));let se=o.indexOf("/");-1===se&&(se=o.length);let ce=o.indexOf("?");-1===ce&&(ce=o.length),r=o.substring(0,Math.min(se,ce)),se<ce&&(c=function(o){let r="";const i=o.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let c=i[l];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(h){}r+="/"+c}return r}(o.substring(se,ce)));const ge=function(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const i of o.split("&")){if(0===i.length)continue;const l=i.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):si(`Invalid query segment '${i}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,ce)));j=r.indexOf(":"),j>=0?(y="https"===M||"wss"===M,L=parseInt(r.substring(j+1),10)):j=r.length;const Ue=r.slice(0,j);if("localhost"===Ue.toLowerCase())i="localhost";else if(Ue.split(".").length<=2)i=Ue;else{const lt=r.indexOf(".");l=r.substring(0,lt).toLowerCase(),i=r.substring(lt+1),h=l}"ns"in ge&&(h=ge.ns)}return{host:r,port:L,domain:i,subdomain:l,secure:y,scheme:M,pathString:c,namespace:h}};class qp{constructor(r,i,l,c){this.eventType=r,this.eventRegistration=i,this.snapshot=l,this.prevName=c}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class q_{constructor(r,i,l){this.eventRegistration=r,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Yl{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class ss{constructor(r,i,l,c){this._repo=r,this._path=i,this._queryParams=l,this._orderByCalled=c}get key(){return Kt(this._path)?null:Qf(this._path)}get ref(){return new Is(this._repo,this._path)}get _queryIdentifier(){const r=Hl(this._queryParams),i=Ba(r);return"{}"===i?"default":i}get _queryObject(){return Hl(this._queryParams)}isEqual(r){if(!((r=(0,H.m9)(r))instanceof ss))return!1;const i=this._repo===r._repo,l=Zf(this._path,r._path);return i&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(o){let r="";for(let i=o.pieceNum_;i<o.pieces_.length;i++)""!==o.pieces_[i]&&(r+="/"+encodeURIComponent(String(o.pieces_[i])));return r||"/"}(this._path)}}class Is extends ss{constructor(r,i){super(r,i,new op,!1)}get parent(){const r=Ll(this._path);return null===r?null:new Is(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class el{constructor(r,i,l){this._node=r,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new _n(r),l=Gu(this.ref,r);return new el(this._node.getChild(i),l,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,c)=>r(new el(c,Gu(this.ref,l),Kn)))}hasChild(r){const i=new _n(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K_(o,r){return(o=(0,H.m9)(o))._checkNotDeleted("ref"),void 0!==r?Gu(o._root,r):o._root}function Gu(o,r){return null===Wt((o=(0,H.m9)(o))._path)?(i=r,i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Fp("child","path",i,!1)):Fp("child","path",r,!1),new Is(o._repo,qn(o._path,r));var i}function Y_(o,r){(function(o,r){if(".info"===Wt(r))throw new Error(o+" failed = Can't modify data under /.info/")})("set",(o=(0,H.m9)(o))._path),function(o,r,i,l){l&&void 0===r||Hc((0,H.gK)(o,"value"),r,i)}("set",r,o._path,!1);const i=new H.BH;return Ph(o._repo,o._path,r,null,i.wrapCallback(()=>{})),i.promise}class Xc{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const l=i._queryParams.getIndex();return new qp("value",this,new el(r.snapshotNode,new Is(i._repo,i._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new q_(this,r,i):null}matches(r){return r instanceof Xc&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ed{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new q_(this,r,i):null}createEvent(r,i){(0,H.hu)(null!=r.childName,"Child events should have a childName.");const l=Gu(new Is(i._repo,i._path),r.childName),c=i._queryParams.getIndex();return new qp(r.type,this,new el(r.snapshotNode,l,c),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof ed&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Q_(o,r,i,l){return function(o,r,i,l,c){let h;if("object"==typeof l&&(h=void 0,c=l),"function"==typeof l&&(h=l),c&&c.onlyOnce){const L=i,j=(se,ce)=>{Hu(o._repo,o,M),L(se,ce)};j.userCallback=i.userCallback,j.context=i.context,i=j}const y=new Yl(i,h||void 0),M="value"===r?new Xc(y):new ed(r,y);return function(o,r,i){let l;l=".info"===Wt(r._path)?D_(o.infoSyncTree_,r,i):D_(o.serverSyncTree_,r,i),Vp(o.eventQueue_,r._path,l)}(o._repo,o,M),()=>Hu(o._repo,o,M)}(o,"value",r,i,l)}(function(o){(0,H.hu)(!vh,"__referenceConstructor has already been defined"),vh=o})(Is),function(o){(0,H.hu)(!Ch,"__referenceConstructor has already been defined"),Ch=o}(Is);const Qp={};function ry(o,r,i,l,c){let h=l||o.options.databaseURL;void 0===h&&(o.options.projectId||ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",o.options.projectId),h=`${o.options.projectId}-default-rtdb.firebaseio.com`);let L,j,y=Oh(h,c),M=y.repoInfo;"undefined"!=typeof process&&process.env&&(j=process.env.FIREBASE_DATABASE_EMULATOR_HOST),j?(L=!0,h=`http://${j}?ns=${M.namespace}`,y=Oh(h,c),M=y.repoInfo):L=!y.repoInfo.secure;const se=c&&L?new Du(Du.OWNER):new mm(o.name,o.options,r);(function(o,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Mh(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),N_(o)}(i))throw new Error((0,H.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",y),Kt(y.path)||ii("Database URL must point to the root of a Firebase Database (not including a child path).");const ce=function(o,r,i,l){let c=Qp[r.name];c||(c={},Qp[r.name]=c);let h=c[o.toURLString()];return h&&ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new jp(o,false,i,l),c[o.toURLString()]=h,h}(M,o,se,new tI(o.name,i));return new sy(ce,o)}class sy{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(o,r,i){if(o.stats_=Qd(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new da(o.repoInfo_,(l,c,h,y)=>{V_(o,l,c,h,y)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>ql(o,!0),0);else{if(null!=i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new Ul(o.repoInfo_,r,(l,c,h,y)=>{V_(o,l,c,h,y)},l=>{ql(o,l)},l=>{!function(o,r){lr(r,(i,l)=>{qc(o,i,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,i),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function(o,r){const i=o.toString();return Hf[i]||(Hf[i]=r()),Hf[i]}(o.repoInfo_,()=>new Zm(o.stats_,o.server_)),o.infoData_=new Ou,o.infoSyncTree_=new b_({startListening:(l,c,h,y)=>{let M=[];const L=o.infoData_.getNode(l._path);return L.isEmpty()||(M=Bu(o.infoSyncTree_,l._path,L),setTimeout(()=>{y("ok")},0)),M},stopListening:()=>{}}),qc(o,"connected",!1),o.serverSyncTree_=new b_({startListening:(l,c,h,y)=>(o.server_.listen(l,h,c,(M,L)=>{const j=y(M,L);$i(o.eventQueue_,l._path,j)}),[]),stopListening:(l,c)=>{o.server_.unlisten(l,c)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Is(this._repo,fn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(o,r){const i=Qp[r];(!i||i[o.key]!==o)&&ii(`Database ${r}(${o.repoInfo_}) has already been deleted.`),function(o){o.persistentConnection_&&o.persistentConnection_.interrupt("repo_interrupt")}(o),delete i[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&ii("Cannot call "+r+" on a deleted database.")}}function Zp(o=(0,Le.Mq)(),r){const i=(0,Le.qX)(o,"database").getImmediate({identifier:r}),l=(0,H.P0)("database");return l&&function(o,r,i,l={}){(o=(0,H.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&ii("Cannot call useEmulator() after instance has already been initialized.");const c=o._repoInternal;let h;if(c.repoInfo_.nodeAdmin)l.mockUserToken&&ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Du(Du.OWNER);else if(l.mockUserToken){const y="string"==typeof l.mockUserToken?l.mockUserToken:(0,H.Sg)(l.mockUserToken,o.app.options.projectId);h=new Du(y)}!function(o,r,i,l){o.repoInfo_=new Uf(`${r}:${i}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),l&&(o.authTokenProvider_=l)}(c,r,i,h)}(i,...l),i}Ul.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},Ul.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function(o){hm=o}(Le.Jn),(0,Le.Xd)(new Ut.wA("database",(r,{instanceIdentifier:i})=>ry(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,Le.KN)(Cv,"0.13.9",void 0),(0,Le.KN)(Cv,"0.13.9","esm2017");class eg{constructor(r){return r}}const ly="database",nd=new x.OlP("angularfire2.database-instances");function rC(o){return(r,i)=>{const l=r.runOutsideAngular(()=>o(i));return new eg(l)}}const zu={provide:class{constructor(){return(0,T.vb)(ly)}},deps:[[new x.FiY,nd]]},iC={provide:eg,useFactory:function(o,r){const i=(0,T.JM)(ly,o,r);return i&&new eg(i)},deps:[[new x.FiY,nd],fe.Ot]};let OI=(()=>{class o{constructor(){(0,Re.KN)("angularfire",T.q4.full,"rtdb")}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=x.oAB({type:o}),o.\u0275inj=x.cJS({providers:[iC,zu]}),o})();function sC(o,...r){return{ngModule:OI,providers:[{provide:nd,useFactory:rC(o),multi:!0,deps:[x.R0b,x.zs3,T.HU,fe.z6,[new x.FiY,Pg],[new x.FiY,Pf],...r]}]}}const uC=(0,T.u3)(Zp,!0),Lh=(0,T.u3)(Q_,!0),gC=(0,T.u3)(K_,!0),mC=(0,T.u3)(Y_,!0)},5953:(ct,Pe,z)=>{"use strict";z.d(Pe,{q4:()=>oc,HU:()=>Id,vb:()=>Xo,JM:()=>Tl,u3:()=>$s});var T=z(639),x=z(2329),fe=z(8239),Re=z(8026),le=z(3854),H=z(3910),Le=z(5422),Se=z(1320);const ye="@firebase/installations",W="0.5.15",oe=`w:${W}`,ve="FIS_v2",Je=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(C){return C instanceof le.ZR&&C.code.includes("request-failed")}function Ve({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Qt(C){return{token:C.token,requestStatus:2,expiresIn:Qe(C.expiresIn),creationTime:Date.now()}}function rn(C,E){return sr.apply(this,arguments)}function sr(){return(sr=(0,fe.Z)(function*(C,E){const B=(yield E.json()).error;return Je.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function zt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ce(C,{refreshToken:E}){const N=zt(C);return N.append("Authorization",function(C){return`${ve} ${C}`}(E)),N}function Be(C){return nt.apply(this,arguments)}function nt(){return(nt=(0,fe.Z)(function*(C){const E=yield C();return E.status>=500&&E.status<600?C():E})).apply(this,arguments)}function Qe(C){return Number(C.replace("s","000"))}function ut(C,E){return je.apply(this,arguments)}function je(){return(je=(0,fe.Z)(function*({appConfig:C,heartbeatServiceProvider:E},{fid:N}){const B=Ve(C),ne=zt(C),pe=E.getImmediate({optional:!0});if(pe){const Rt=yield pe.getHeartbeatsHeader();Rt&&ne.append("x-firebase-client",Rt)}const Ye={method:"POST",headers:ne,body:JSON.stringify({fid:N,authVersion:ve,appId:C.appId,sdkVersion:oe})},Et=yield Be(()=>fetch(B,Ye));if(Et.ok){const Rt=yield Et.json();return{fid:Rt.fid||N,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:Qt(Rt.authToken)}}throw yield rn("Create Installation",Et)})).apply(this,arguments)}function yn(C){return new Promise(E=>{setTimeout(E,C)})}const wr=/^[cdef][\w-]{21}$/;function gi(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const N=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return wr.test(N)?N:""}catch(C){return""}}function Qn(C){return`${C.appName}!${C.appId}`}const Tr=new Map;function Or(C,E){const N=Qn(C);kn(N,E),function(C,E){const N=(!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=C=>{kn(C.data.key,C.data.fid)}),It);N&&N.postMessage({key:C,fid:E}),0===Tr.size&&It&&(It.close(),It=null)}(N,E)}function kn(C,E){const N=Tr.get(C);if(N)for(const B of N)B(E)}let It=null;const ln="firebase-installations-store";let tn=null;function nn(){return tn||(tn=(0,Se.X3)("firebase-installations-database",1,{upgrade:(C,E)=>{0===E&&C.createObjectStore(ln)}})),tn}function $n(C,E){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,fe.Z)(function*(C,E){const N=Qn(C),ne=(yield nn()).transaction(ln,"readwrite"),pe=ne.objectStore(ln),ke=yield pe.get(N);return yield pe.put(E,N),yield ne.done,(!ke||ke.fid!==E.fid)&&Or(C,E.fid),E})).apply(this,arguments)}function Fn(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,fe.Z)(function*(C){const E=Qn(C),B=(yield nn()).transaction(ln,"readwrite");yield B.objectStore(ln).delete(E),yield B.done})).apply(this,arguments)}function Jn(C,E){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,fe.Z)(function*(C,E){const N=Qn(C),ne=(yield nn()).transaction(ln,"readwrite"),pe=ne.objectStore(ln),ke=yield pe.get(N),Ye=E(ke);return void 0===Ye?yield pe.delete(N):yield pe.put(Ye,N),yield ne.done,Ye&&(!ke||ke.fid!==Ye.fid)&&Or(C,Ye.fid),Ye})).apply(this,arguments)}function Xn(C){return er.apply(this,arguments)}function er(){return(er=(0,fe.Z)(function*(C){let E;const N=yield Jn(C.appConfig,B=>{const ne=rt(B),pe=Bt(C,ne);return E=pe.registrationPromise,pe.installationEntry});return""===N.fid?{installationEntry:yield E}:{installationEntry:N,registrationPromise:E}})).apply(this,arguments)}function rt(C){return Rn(C||{fid:gi(),registrationStatus:0})}function Bt(C,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(Je.create("app-offline"))};const N={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},B=function(C,E){return ot.apply(this,arguments)}(C,N);return{installationEntry:N,registrationPromise:B}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Qr(C)}:{installationEntry:E}}function ot(){return(ot=(0,fe.Z)(function*(C,E){try{const N=yield ut(C,E);return $n(C.appConfig,N)}catch(N){throw He(N)&&409===N.customData.serverCode?yield Fn(C.appConfig):yield $n(C.appConfig,{fid:E.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Qr(C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,fe.Z)(function*(C){let E=yield jt(C.appConfig);for(;1===E.registrationStatus;)yield yn(100),E=yield jt(C.appConfig);if(0===E.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield Xn(C);return B||N}return E})).apply(this,arguments)}function jt(C){return Jn(C,E=>{if(!E)throw Je.create("installation-not-found");return Rn(E)})}function Rn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Sr(C,E){return qe.apply(this,arguments)}function qe(){return(qe=(0,fe.Z)(function*({appConfig:C,heartbeatServiceProvider:E},N){const B=sn(C,N),ne=Ce(C,N),pe=E.getImmediate({optional:!0});if(pe){const Rt=yield pe.getHeartbeatsHeader();Rt&&ne.append("x-firebase-client",Rt)}const Ye={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:oe,appId:C.appId}})},Et=yield Be(()=>fetch(B,Ye));if(Et.ok)return Qt(yield Et.json());throw yield rn("Generate Auth Token",Et)})).apply(this,arguments)}function sn(C,{fid:E}){return`${Ve(C)}/${E}/authTokens:generate`}function St(C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,fe.Z)(function*(C,E=!1){let N;const B=yield Jn(C.appConfig,pe=>{if(!Xe(pe))throw Je.create("not-registered");const ke=pe.authToken;if(!E&&J(ke))return pe;if(1===ke.requestStatus)return N=ze(C,E),pe;{if(!navigator.onLine)throw Je.create("app-offline");const Ye=ie(pe);return N=wt(C,Ye),Ye}});return N?yield N:B.authToken})).apply(this,arguments)}function ze(C,E){return me.apply(this,arguments)}function me(){return(me=(0,fe.Z)(function*(C,E){let N=yield Ke(C.appConfig);for(;1===N.authToken.requestStatus;)yield yn(100),N=yield Ke(C.appConfig);const B=N.authToken;return 0===B.requestStatus?St(C,E):B})).apply(this,arguments)}function Ke(C){return Jn(C,E=>{if(!Xe(E))throw Je.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function wt(C,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,fe.Z)(function*(C,E){try{const N=yield Sr(C,E),B=Object.assign(Object.assign({},E),{authToken:N});return yield $n(C.appConfig,B),N}catch(N){if(!He(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield $n(C.appConfig,B)}else yield Fn(C.appConfig);throw N}})).apply(this,arguments)}function Xe(C){return void 0!==C&&2===C.registrationStatus}function J(C){return 2===C.requestStatus&&!function(C){const E=Date.now();return E<C.creationTime||C.creationTime+C.expiresIn<E+36e5}(C)}function ie(C){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:E})}function Te(){return(Te=(0,fe.Z)(function*(C){const E=C,{installationEntry:N,registrationPromise:B}=yield Xn(E);return B?B.catch(console.error):St(E).catch(console.error),N.fid})).apply(this,arguments)}function Gt(){return(Gt=(0,fe.Z)(function*(C,E=!1){const N=C;return yield Cn(N),(yield St(N,E)).token})).apply(this,arguments)}function Cn(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,fe.Z)(function*(C){const{registrationPromise:E}=yield Xn(C);E&&(yield E)})).apply(this,arguments)}function Mt(C){return Je.create("missing-app-config-values",{valueName:C})}const dn="installations";(0,Re.Xd)(new H.wA(dn,C=>{const E=C.getProvider("app").getImmediate(),N=function(C){if(!C||!C.options)throw Mt("App Configuration");if(!C.name)throw Mt("App Name");const E=["projectId","apiKey","appId"];for(const N of E)if(!C.options[N])throw Mt(N);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(E);return{app:E,appConfig:N,heartbeatServiceProvider:(0,Re.qX)(E,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Re.Xd)(new H.wA("installations-internal",C=>{const E=C.getProvider("app").getImmediate(),N=(0,Re.qX)(E,dn).getImmediate();return{getId:()=>function(C){return Te.apply(this,arguments)}(N),getToken:ne=>function(C){return Gt.apply(this,arguments)}(N,ne)}},"PRIVATE")),(0,Re.KN)(ye,W),(0,Re.KN)(ye,W,"esm2017");const We="@firebase/remote-config",$t=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ei{constructor(E,N,B,ne){this.client=E,this.storage=N,this.storageCache=B,this.logger=ne}isCachedDataFresh(E,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,ne=B<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${ne}.`),ne}fetch(E){var N=this;return(0,fe.Z)(function*(){const[B,ne]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(ne&&N.isCachedDataFresh(E.cacheMaxAgeMillis,B))return ne;E.eTag=ne&&ne.eTag;const pe=yield N.client.fetch(E),ke=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&ke.push(N.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(ke),pe})()}}function xn(C=navigator){return C.languages&&C.languages[0]||C.language}class qt{constructor(E,N,B,ne,pe,ke){this.firebaseInstallations=E,this.sdkVersion=N,this.namespace=B,this.projectId=ne,this.apiKey=pe,this.appId=ke}fetch(E){var N=this;return(0,fe.Z)(function*(){var B,ne,pe;const[ke,Ye]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},bt={sdk_version:N.sdkVersion,app_instance_id:ke,app_instance_id_token:Ye,app_id:N.appId,language_code:xn()},Ur={method:"POST",headers:Pt,body:JSON.stringify(bt)},hi=fetch(Rt,Ur),fu=new Promise((Hs,ns)=>{E.signal.addEventListener(()=>{const wd=new Error("The operation was aborted.");wd.name="AbortError",ns(wd)})});let Sl;try{yield Promise.race([hi,fu]),Sl=yield hi}catch(Hs){let ns="fetch-client-network";throw"AbortError"===(null===(B=Hs)||void 0===B?void 0:B.name)&&(ns="fetch-timeout"),$t.create(ns,{originalErrorMessage:null===(ne=Hs)||void 0===ne?void 0:ne.message})}let ea=Sl.status;const tf=Sl.headers.get("ETag")||void 0;let lc,Es;if(200===Sl.status){let Hs;try{Hs=yield Sl.json()}catch(ns){throw $t.create("fetch-client-parse",{originalErrorMessage:null===(pe=ns)||void 0===pe?void 0:pe.message})}lc=Hs.entries,Es=Hs.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?ea=500:"NO_CHANGE"===Es?ea=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(lc={}),304!==ea&&200!==ea)throw $t.create("fetch-status",{httpStatus:ea});return{status:ea,eTag:tf,config:lc}})()}}class Fr{constructor(E,N){this.client=E,this.storage=N}fetch(E){var N=this;return(0,fe.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(E,B)})()}attemptFetch(E,{throttleEndTimeMillis:N,backoffCount:B}){var ne=this;return(0,fe.Z)(function*(){yield function(C,E){return new Promise((N,B)=>{const ne=Math.max(E-Date.now(),0),pe=setTimeout(N,ne);C.addEventListener(()=>{clearTimeout(pe),B($t.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,N);try{const pe=yield ne.client.fetch(E);return yield ne.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(C){if(!(C instanceof le.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}(pe))throw pe;const ke={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield ne.storage.setThrottleMetadata(ke),ne.attemptFetch(E,ke)}})()}}class Ni{constructor(E,N,B,ne,pe){this.app=E,this._client=N,this._storageCache=B,this._storage=ne,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ln(C,E){var N;const B=C.target.error||void 0;return $t.create(E,{originalErrorMessage:B&&(null===(N=B)||void 0===N?void 0:N.message)})}const Lr="app_namespace_store";class Ds{constructor(E,N,B,ne=function(){return new Promise((C,E)=>{var N;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ne=>{E(Ln(ne,"storage-open"))},B.onsuccess=ne=>{C(ne.target.result)},B.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Lr,{keyPath:"compositeKey"})}}catch(B){E($t.create("storage-open",{originalErrorMessage:null===(N=B)||void 0===N?void 0:N.message}))}})}()){this.appId=E,this.appName=N,this.namespace=B,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var N=this;return(0,fe.Z)(function*(){const B=yield N.openDbPromise;return new Promise((ne,pe)=>{var ke;const Et=B.transaction([Lr],"readonly").objectStore(Lr),Rt=N.createCompositeKey(E);try{const Pt=Et.get(Rt);Pt.onerror=bt=>{pe(Ln(bt,"storage-get"))},Pt.onsuccess=bt=>{const Ur=bt.target.result;ne(Ur?Ur.value:void 0)}}catch(Pt){pe($t.create("storage-get",{originalErrorMessage:null===(ke=Pt)||void 0===ke?void 0:ke.message}))}})})()}set(E,N){var B=this;return(0,fe.Z)(function*(){const ne=yield B.openDbPromise;return new Promise((pe,ke)=>{var Ye;const Rt=ne.transaction([Lr],"readwrite").objectStore(Lr),Pt=B.createCompositeKey(E);try{const bt=Rt.put({compositeKey:Pt,value:N});bt.onerror=Ur=>{ke(Ln(Ur,"storage-set"))},bt.onsuccess=()=>{pe()}}catch(bt){ke($t.create("storage-set",{originalErrorMessage:null===(Ye=bt)||void 0===Ye?void 0:Ye.message}))}})})()}delete(E){var N=this;return(0,fe.Z)(function*(){const B=yield N.openDbPromise;return new Promise((ne,pe)=>{var ke;const Et=B.transaction([Lr],"readwrite").objectStore(Lr),Rt=N.createCompositeKey(E);try{const Pt=Et.delete(Rt);Pt.onerror=bt=>{pe(Ln(bt,"storage-delete"))},Pt.onsuccess=()=>{ne()}}catch(Pt){pe($t.create("storage-delete",{originalErrorMessage:null===(ke=Pt)||void 0===ke?void 0:ke.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ts{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,fe.Z)(function*(){const N=E.storage.getLastFetchStatus(),B=E.storage.getLastSuccessfulFetchTimestampMillis(),ne=E.storage.getActiveConfig(),pe=yield N;pe&&(E.lastFetchStatus=pe);const ke=yield B;ke&&(E.lastSuccessfulFetchTimestampMillis=ke);const Ye=yield ne;Ye&&(E.activeConfig=Ye)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function us(){return cs.apply(this,arguments)}function cs(){return(cs=(0,fe.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,Re.Xd)(new H.wA("remote-config",function(E,{instanceIdentifier:N}){const B=E.getProvider("app").getImmediate(),ne=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $t.create("registration-window");if(!(0,le.hl)())throw $t.create("indexed-db-unavailable");const{projectId:pe,apiKey:ke,appId:Ye}=B.options;if(!pe)throw $t.create("registration-project-id");if(!ke)throw $t.create("registration-api-key");if(!Ye)throw $t.create("registration-app-id");const Et=new Ds(Ye,B.name,N=N||"firebase"),Rt=new Ts(Et),Pt=new Le.Yd(We);Pt.logLevel=Le.in.ERROR;const bt=new qt(ne,Re.Jn,N,pe,ke,Ye),Ur=new Fr(bt,Et),hi=new ei(Ur,Et,Rt,Pt),fu=new Ni(B,hi,Rt,Et,Pt);return function(C){const E=(0,le.m9)(C);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(fu),fu},"PUBLIC").setMultipleInstances(!0)),(0,Re.KN)(We,"0.3.14"),(0,Re.KN)(We,"0.3.14","esm2017");const ds="/firebase-messaging-sw.js",hs="/firebase-cloud-messaging-push-scope",xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",Ki="google.c.a.c_l",Mo="google.c.a.ts",Oi="google.c.a.e";var yi=(()=>{return(C=yi||(yi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",yi;var C})();function ar(C){const E=new Uint8Array(C);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mr(C){const N=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),ne=new Uint8Array(B.length);for(let pe=0;pe<B.length;++pe)ne[pe]=B.charCodeAt(pe);return ne}const Pr="fcm_token_details_db",li="fcm_token_object_Store";function to(C){return vi.apply(this,arguments)}function vi(){return vi=(0,fe.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Pr))return null;let E=null;return(yield(0,Se.X3)(Pr,5,{upgrade:(B=(0,fe.Z)(function*(ne,pe,ke,Ye){var Et;if(pe<2||!ne.objectStoreNames.contains(li))return;const Rt=Ye.objectStore(li),Pt=yield Rt.index("fcmSenderId").get(C);if(yield Rt.clear(),Pt)if(2===pe){const bt=Pt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;E={token:bt.fcmToken,createTime:null!==(Et=bt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:ar(bt.vapidKey)}}}else if(3===pe){const bt=Pt;E={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:ar(bt.auth),p256dh:ar(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:ar(bt.vapidKey)}}}else if(4===pe){const bt=Pt;E={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:ar(bt.auth),p256dh:ar(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:ar(bt.vapidKey)}}}}),function(pe,ke,Ye,Et){return B.apply(this,arguments)})})).close(),yield(0,Se.Lj)(Pr),yield(0,Se.Lj)("fcm_vapid_details_db"),yield(0,Se.Lj)("undefined"),Rs(E)?E:null;var B}),vi.apply(this,arguments)}function Rs(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:E}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const ui="firebase-messaging-store";let Ei=null;function A(){return Ei||(Ei=(0,Se.X3)("firebase-messaging-database",1,{upgrade:(C,E)=>{0===E&&C.createObjectStore(ui)}})),Ei}function k(C){return S.apply(this,arguments)}function S(){return(S=(0,fe.Z)(function*(C){const E=D(C),B=yield(yield A()).transaction(ui).objectStore(ui).get(E);if(B)return B;{const ne=yield to(C.appConfig.senderId);if(ne)return yield V(C,ne),ne}})).apply(this,arguments)}function V(C,E){return ee.apply(this,arguments)}function ee(){return(ee=(0,fe.Z)(function*(C,E){const N=D(C),ne=(yield A()).transaction(ui,"readwrite");return yield ne.objectStore(ui).put(E,N),yield ne.done,E})).apply(this,arguments)}function Ee(C){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,fe.Z)(function*(C){const E=D(C),B=(yield A()).transaction(ui,"readwrite");yield B.objectStore(ui).delete(E),yield B.done})).apply(this,arguments)}function D({appConfig:C}){return C.appId}const v=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function O(C,E){return ue.apply(this,arguments)}function ue(){return(ue=(0,fe.Z)(function*(C,E){var N;const B=yield zn(C),ne=zr(E),pe={method:"POST",headers:B,body:JSON.stringify(ne)};let ke;try{ke=yield(yield fetch(En(C.appConfig),pe)).json()}catch(Ye){throw v.create("token-subscribe-failed",{errorInfo:null===(N=Ye)||void 0===N?void 0:N.toString()})}if(ke.error)throw v.create("token-subscribe-failed",{errorInfo:ke.error.message});if(!ke.token)throw v.create("token-subscribe-no-token");return ke.token})).apply(this,arguments)}function Oe(C,E){return yt.apply(this,arguments)}function yt(){return(yt=(0,fe.Z)(function*(C,E){var N;const B=yield zn(C),ne=zr(E.subscriptionOptions),pe={method:"PATCH",headers:B,body:JSON.stringify(ne)};let ke;try{ke=yield(yield fetch(`${En(C.appConfig)}/${E.token}`,pe)).json()}catch(Ye){throw v.create("token-update-failed",{errorInfo:null===(N=Ye)||void 0===N?void 0:N.toString()})}if(ke.error)throw v.create("token-update-failed",{errorInfo:ke.error.message});if(!ke.token)throw v.create("token-update-no-token");return ke.token})).apply(this,arguments)}function an(C,E){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,fe.Z)(function*(C,E){var N;const ne={method:"DELETE",headers:yield zn(C)};try{const ke=yield(yield fetch(`${En(C.appConfig)}/${E}`,ne)).json();if(ke.error)throw v.create("token-unsubscribe-failed",{errorInfo:ke.error.message})}catch(pe){throw v.create("token-unsubscribe-failed",{errorInfo:null===(N=pe)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function En({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function zn(C){return _r.apply(this,arguments)}function _r(){return(_r=(0,fe.Z)(function*({appConfig:C,installations:E}){const N=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function zr({p256dh:C,auth:E,endpoint:N,vapidKey:B}){const ne={web:{endpoint:N,auth:E,p256dh:C}};return B!==xi&&(ne.web.applicationPubKey=B),ne}const nr=6048e5;function Nr(C){return no.apply(this,arguments)}function no(){return(no=(0,fe.Z)(function*(C){const E=yield sl(C.swRegistration,C.vapidKey),N={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:E.endpoint,auth:ar(E.getKey("auth")),p256dh:ar(E.getKey("p256dh"))},B=yield k(C.firebaseDependencies);if(B){if(ol(B.subscriptionOptions,N))return Date.now()>=B.createTime+nr?ro(C,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield an(C.firebaseDependencies,B.token)}catch(ne){console.warn(ne)}return vt(C.firebaseDependencies,N)}return vt(C.firebaseDependencies,N)})).apply(this,arguments)}function il(C){return On.apply(this,arguments)}function On(){return(On=(0,fe.Z)(function*(C){const E=yield k(C.firebaseDependencies);E&&(yield an(C.firebaseDependencies,E.token),yield Ee(C.firebaseDependencies));const N=yield C.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function ro(C,E){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,fe.Z)(function*(C,E){try{const N=yield Oe(C.firebaseDependencies,E),B=Object.assign(Object.assign({},E),{token:N,createTime:Date.now()});return yield V(C.firebaseDependencies,B),N}catch(N){throw yield il(C),N}})).apply(this,arguments)}function vt(C,E){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,fe.Z)(function*(C,E){const B={token:yield O(C,E),createTime:Date.now(),subscriptionOptions:E};return yield V(C,B),B.token})).apply(this,arguments)}function sl(C,E){return Po.apply(this,arguments)}function Po(){return(Po=(0,fe.Z)(function*(C,E){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mr(E)})})).apply(this,arguments)}function ol(C,E){return E.vapidKey===C.vapidKey&&E.endpoint===C.endpoint&&E.auth===C.auth&&E.p256dh===C.p256dh}function io(C){const E={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function(C,E){if(!E.notification)return;C.notification={};const N=E.notification.title;N&&(C.notification.title=N);const B=E.notification.body;B&&(C.notification.body=B);const ne=E.notification.image;ne&&(C.notification.image=ne)}(E,C),function(C,E){!E.data||(C.data=E.data)}(E,C),function(C,E){var N,B,ne,pe,ke;if(!E.fcmOptions&&!(null===(N=E.notification)||void 0===N?void 0:N.click_action))return;C.fcmOptions={};const Ye=null!==(ne=null===(B=E.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==ne?ne:null===(pe=E.notification)||void 0===pe?void 0:pe.click_action;Ye&&(C.fcmOptions.link=Ye);const Et=null===(ke=E.fcmOptions)||void 0===ke?void 0:ke.analytics_label;Et&&(C.fcmOptions.analyticsLabel=Et)}(E,C),E}function Lt(C){return"object"==typeof C&&!!C&&Ro in C}function No(C,E){const N=[];for(let B=0;B<C.length;B++)N.push(C.charAt(B)),B<E.length&&N.push(E.charAt(B));return N.join("")}function Ns(C){return v.create("missing-app-config-values",{valueName:C})}No("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),No("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xo{constructor(E,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function(C){if(!C||!C.options)throw Ns("App Configuration Object");if(!C.name)throw Ns("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:N}=C;for(const B of E)if(!N[B])throw Ns(B);return{appName:C.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:ne,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function ti(C){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,fe.Z)(function*(C){var E;try{C.swRegistration=yield navigator.serviceWorker.register(ds,{scope:hs}),C.swRegistration.update().catch(()=>{})}catch(N){throw v.create("failed-service-worker-registration",{browserErrorMessage:null===(E=N)||void 0===E?void 0:E.message})}})).apply(this,arguments)}function ko(C,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,fe.Z)(function*(C,E){if(!E&&!C.swRegistration&&(yield ti(C)),E||!C.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw v.create("invalid-sw-registration");C.swRegistration=E}})).apply(this,arguments)}function Fo(C,E){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,fe.Z)(function*(C,E){E?C.vapidKey=E:C.vapidKey||(C.vapidKey=xi)})).apply(this,arguments)}function Un(){return(Un=(0,fe.Z)(function*(C,E){if(!navigator)throw v.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw v.create("permission-blocked");return yield Fo(C,null==E?void 0:E.vapidKey),yield ko(C,null==E?void 0:E.serviceWorkerRegistration),Nr(C)})).apply(this,arguments)}function ci(C,E,N){return xs.apply(this,arguments)}function xs(){return(xs=(0,fe.Z)(function*(C,E,N){const B=ps(E);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[Ro],message_name:N[Ki],message_time:N[Mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ps(C){switch(C){case yi.NOTIFICATION_CLICKED:return"notification_open";case yi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oo(){return(oo=(0,fe.Z)(function*(C,E){const N=E.data;if(!N.isFirebaseMessaging)return;C.onMessageHandler&&N.messageType===yi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(io(N)):C.onMessageHandler.next(io(N)));const B=N.data;Lt(B)&&"1"===B[Oi]&&(yield ci(C,N.messageType,B))})).apply(this,arguments)}const Vo="@firebase/messaging";function Xl(){return ks.apply(this,arguments)}function ks(){return(ks=(0,fe.Z)(function*(){try{yield(0,le.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Re.Xd)(new H.wA("messaging",C=>{const E=new xo(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(C,E){return oo.apply(this,arguments)}(E,N)),E},"PUBLIC")),(0,Re.Xd)(new H.wA("messaging-internal",C=>{const E=C.getProvider("messaging").getImmediate();return{getToken:B=>function(C,E){return Un.apply(this,arguments)}(E,B)}},"PRIVATE")),(0,Re.KN)(Vo,"0.9.19"),(0,Re.KN)(Vo,"0.9.19","esm2017");const Sa="analytics",dl="firebase_id",rr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",yr=new Le.Yd("@firebase/analytics");function $o(C){return Promise.all(C.map(E=>E.catch(N=>N)))}function eu(C,E){const N=document.createElement("script");N.src=`${jo}?l=${C}&id=${E}`,N.async=!0,document.head.appendChild(N)}function fd(C,E,N,B,ne,pe){return gs.apply(this,arguments)}function gs(){return(gs=(0,fe.Z)(function*(C,E,N,B,ne,pe){const ke=B[ne];try{if(ke)yield E[ke];else{const Et=(yield $o(N)).find(Rt=>Rt.measurementId===ne);Et&&(yield E[Et.appId])}}catch(Ye){yr.error(Ye)}C("config",ne,pe)})).apply(this,arguments)}function fl(C,E,N,B,ne){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,fe.Z)(function*(C,E,N,B,ne){try{let pe=[];if(ne&&ne.send_to){let ke=ne.send_to;Array.isArray(ke)||(ke=[ke]);const Ye=yield $o(N);for(const Et of ke){const Rt=Ye.find(bt=>bt.measurementId===Et),Pt=Rt&&E[Rt.appId];if(!Pt){pe=[];break}pe.push(Pt)}}0===pe.length&&(pe=Object.values(E)),yield Promise.all(pe),C("event",B,ne||{})}catch(pe){yr.error(pe)}})).apply(this,arguments)}function Qu(C){const E=window.document.getElementsByTagName("script");for(const N of Object.values(E))if(N.src&&N.src.includes(jo)&&N.src.includes(C))return N;return null}const dr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ma=new class{constructor(E={},N=1e3){this.throttleMetadata=E,this.intervalMillis=N}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,N){this.throttleMetadata[E]=N}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function pd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function gd(C){return nu.apply(this,arguments)}function nu(){return(nu=(0,fe.Z)(function*(C){var E;const{appId:N,apiKey:B}=C,ne={method:"GET",headers:pd(B)},pe=rr.replace("{app-id}",N),ke=yield fetch(pe,ne);if(200!==ke.status&&304!==ke.status){let Ye="";try{const Et=yield ke.json();(null===(E=Et.error)||void 0===E?void 0:E.message)&&(Ye=Et.error.message)}catch(Et){}throw dr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Ye})}return ke.json()})).apply(this,arguments)}function Ju(C){return Go.apply(this,arguments)}function Go(){return(Go=(0,fe.Z)(function*(C,E=Ma,N){const{appId:B,apiKey:ne,measurementId:pe}=C.options;if(!B)throw dr.create("no-app-id");if(!ne){if(pe)return{measurementId:pe,appId:B};throw dr.create("no-api-key")}const ke=E.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new uo;return setTimeout((0,fe.Z)(function*(){Ye.abort()}),void 0!==N?N:6e4),ru({appId:B,apiKey:ne,measurementId:pe},ke,Ye,E)})).apply(this,arguments)}function ru(C,E,N){return vr.apply(this,arguments)}function vr(){return(vr=(0,fe.Z)(function*(C,{throttleEndTimeMillis:E,backoffCount:N},B,ne=Ma){var pe,ke;const{appId:Ye,measurementId:Et}=C;try{yield pl(B,E)}catch(Rt){if(Et)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(pe=Rt)||void 0===pe?void 0:pe.message}]`),{appId:Ye,measurementId:Et};throw Rt}try{const Rt=yield gd(C);return ne.deleteThrottleMetadata(Ye),Rt}catch(Rt){const Pt=Rt;if(!Pa(Pt)){if(ne.deleteThrottleMetadata(Ye),Et)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null==Pt?void 0:Pt.message}]`),{appId:Ye,measurementId:Et};throw Rt}const bt=503===Number(null===(ke=null==Pt?void 0:Pt.customData)||void 0===ke?void 0:ke.httpStatus)?(0,le.$s)(N,ne.intervalMillis,30):(0,le.$s)(N,ne.intervalMillis),Ur={throttleEndTimeMillis:Date.now()+bt,backoffCount:N+1};return ne.setThrottleMetadata(Ye,Ur),yr.debug(`Calling attemptFetch again in ${bt} millis`),ru(C,Ur,B,ne)}})).apply(this,arguments)}function pl(C,E){return new Promise((N,B)=>{const ne=Math.max(E-Date.now(),0),pe=setTimeout(N,ne);C.addEventListener(()=>{clearTimeout(pe),B(dr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function Pa(C){if(!(C instanceof le.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}class uo{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let xr,yl;function Fs(){return(Fs=(0,fe.Z)(function*(C,E,N,B,ne){if(ne&&ne.global)C("event",N,B);else{const pe=yield E;C("event",N,Object.assign(Object.assign({},B),{send_to:pe}))}})).apply(this,arguments)}function Qi(C){yl=C}function Wo(C){xr=C}function vl(){return El.apply(this,arguments)}function El(){return(El=(0,fe.Z)(function*(){var C;if(!(0,le.hl)())return yr.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(E){return yr.warn(dr.create("indexeddb-unavailable",{errorInfo:null===(C=E)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function zo(){return(zo=(0,fe.Z)(function*(C,E,N,B,ne,pe,ke){var Ye;const Et=Ju(C);Et.then(hi=>{N[hi.measurementId]=hi.appId,C.options.measurementId&&hi.measurementId!==C.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>yr.error(hi)),E.push(Et);const Rt=vl().then(hi=>{if(hi)return B.getId()}),[Pt,bt]=yield Promise.all([Et,Rt]);Qu(pe)||eu(pe,Pt.measurementId),yl&&(ne("consent","default",yl),Qi(void 0)),ne("js",new Date);const Ur=null!==(Ye=null==ke?void 0:ke.config)&&void 0!==Ye?Ye:{};return Ur.origin="firebase",Ur.update=!0,null!=bt&&(Ur[dl]=bt),ne("config",Pt.measurementId,Ur),xr&&(ne("set",xr),Wo(void 0)),Pt.measurementId})).apply(this,arguments)}class ec{constructor(E){this.app=E}_delete(){return delete Zi[this.app.options.appId],Promise.resolve()}}let Zi={},xa=[];const iu={};let Cl,Ii,Dn="dataLayer",ho=!1;function ka(C,E,N){!function(){const C=[];if((0,le.ru)()&&C.push("This is a browser extension environment."),(0,le.zI)()||C.push("Cookies are not available."),C.length>0){const E=C.map((B,ne)=>`(${ne+1}) ${B}`).join(" "),N=dr.create("invalid-analytics-context",{errorInfo:E});yr.warn(N.message)}}();const B=C.options.appId;if(!B)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zi[B])throw dr.create("already-exists",{id:B});if(!ho){!function(C){let E=[];Array.isArray(window[C])?E=window[C]:window[C]=E}(Dn);const{wrappedGtag:pe,gtagCore:ke}=function(C,E,N,B,ne){let pe=function(...ke){window[B].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(pe=window[ne]),window[ne]=function(C,E,N,B){function pe(){return(pe=(0,fe.Z)(function*(ke,Ye,Et){try{"event"===ke?yield fl(C,E,N,Ye,Et):"config"===ke?yield fd(C,E,N,B,Ye,Et):"consent"===ke?C("consent","update",Et):C("set",Ye)}catch(Rt){yr.error(Rt)}})).apply(this,arguments)}return function(ke,Ye,Et){return pe.apply(this,arguments)}}(pe,C,E,N),{gtagCore:pe,wrappedGtag:window[ne]}}(Zi,xa,iu,Dn,"gtag");Ii=pe,Cl=ke,ho=!0}return Zi[B]=function(C,E,N,B,ne,pe,ke){return zo.apply(this,arguments)}(C,xa,iu,E,Cl,Dn,N),new ec(C)}function g(){return p.apply(this,arguments)}function p(){return(p=(0,fe.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(C){return!1}})).apply(this,arguments)}const Xt="@firebase/analytics";(0,Re.Xd)(new H.wA(Sa,(E,{options:N})=>ka(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,Re.Xd)(new H.wA("analytics-internal",function(E){try{const N=E.getProvider(Sa).getImmediate();return{logEvent:(B,ne,pe)=>function(C,E,N,B){C=(0,le.m9)(C),function(C,E,N,B,ne){return Fs.apply(this,arguments)}(Ii,Zi[C.app.options.appId],E,N,B).catch(ne=>yr.error(ne))}(N,B,ne,pe)}}catch(N){throw dr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,Re.KN)(Xt,"0.8.3"),(0,Re.KN)(Xt,"0.8.3","esm2017");var Jt=z(5319);class Vs extends Jt.w{constructor(E,N){super()}schedule(E,N=0){return this}}class Li extends Vs{constructor(E,N){super(E,N),this.scheduler=E,this.work=N,this.pending=!1}schedule(E,N=0){if(this.closed)return this;this.state=E;const B=this.id,ne=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(ne,B,N)),this.pending=!0,this.delay=N,this.id=this.id||this.requestAsyncId(ne,this.id,N),this}requestAsyncId(E,N,B=0){return setInterval(E.flush.bind(E,this),B)}recycleAsyncId(E,N,B=0){if(null!==B&&this.delay===B&&!1===this.pending)return N;clearInterval(N)}execute(E,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const B=this._execute(E,N);if(B)return B;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,N){let ne,B=!1;try{this.work(E)}catch(pe){B=!0,ne=!!pe&&pe||new Error(pe)}if(B)return this.unsubscribe(),ne}_unsubscribe(){const E=this.id,N=this.scheduler,B=N.actions,ne=B.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&B.splice(ne,1),null!=E&&(this.id=this.recycleAsyncId(N,E,null)),this.delay=null}}let qo=(()=>{class C{constructor(N,B=C.now){this.SchedulerAction=N,this.now=B}schedule(N,B=0,ne){return new this.SchedulerAction(this,N).schedule(ne,B)}}return C.now=()=>Date.now(),C})();class hr extends qo{constructor(E,N=qo.now){super(E,()=>hr.delegate&&hr.delegate!==this?hr.delegate.now():N()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(E,N=0,B){return hr.delegate&&hr.delegate!==this?hr.delegate.schedule(E,N,B):super.schedule(E,N,B)}flush(E){const{actions:N}=this;if(this.active)return void N.push(E);let B;this.active=!0;do{if(B=E.execute(E.state,E.delay))break}while(E=N.shift());if(this.active=!1,B){for(;E=N.shift();)E.unsubscribe();throw B}}}const bl=new class extends hr{}(class extends Li{constructor(E,N){super(E,N),this.scheduler=E,this.work=N}schedule(E,N=0){return N>0?super.schedule(E,N):(this.delay=N,this.state=E,this.scheduler.flush(this),this)}execute(E,N){return N>0||this.closed?super.execute(E,N):this._execute(E,N)}requestAsyncId(E,N,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(E,N,B):E.flush(this)}}),bg=new hr(Li);var Ko=z(7574);let Er=1;const au=Promise.resolve(),Yo={};function nc(C){return C in Yo&&(delete Yo[C],!0)}const _d={setImmediate(C){const E=Er++;return Yo[E]=!0,au.then(()=>nc(E)&&C()),E},clearImmediate(C){nc(C)}},es=new class extends hr{flush(E){this.active=!0,this.scheduled=void 0;const{actions:N}=this;let B,ne=-1,pe=N.length;E=E||N.shift();do{if(B=E.execute(E.state,E.delay))break}while(++ne<pe&&(E=N.shift()));if(this.active=!1,B){for(;++ne<pe&&(E=N.shift());)E.unsubscribe();throw B}}}(class extends Li{constructor(E,N){super(E,N),this.scheduler=E,this.work=N}requestAsyncId(E,N,B=0){return null!==B&&B>0?super.requestAsyncId(E,N,B):(E.actions.push(this),E.scheduled||(E.scheduled=_d.setImmediate(E.flush.bind(E,null))))}recycleAsyncId(E,N,B=0){if(null!==B&&B>0||null===B&&this.delay>0)return super.recycleAsyncId(E,N,B);0===E.actions.length&&(_d.clearImmediate(N),E.scheduled=void 0)}});var yd=z(9796);class uu extends Ko.y{constructor(E,N=0,B=es){var C;super(),this.source=E,this.delayTime=N,this.scheduler=B,(!(!(0,yd.k)(C=N)&&C-parseFloat(C)+1>=0)||N<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=es)}static create(E,N=0,B=es){return new uu(E,N,B)}static dispatch(E){const{source:N,subscriber:B}=E;return this.add(N.subscribe(B))}_subscribe(E){return this.scheduler.schedule(uu.dispatch,this.delayTime,{source:this.source,subscriber:E})}}function rc(C,E=0){return function(B){return B.lift(new Ay(C,E))}}class Ay{constructor(E,N){this.scheduler=E,this.delay=N}call(E,N){return new uu(N,this.delay,this.scheduler).subscribe(E)}}var cu=z(7393),Vi=z(9193),Il=z(5917);class di{constructor(E,N,B){this.kind=E,this.value=N,this.error=B,this.hasValue="N"===E}observe(E){switch(this.kind){case"N":return E.next&&E.next(this.value);case"E":return E.error&&E.error(this.error);case"C":return E.complete&&E.complete()}}do(E,N,B){switch(this.kind){case"N":return E&&E(this.value);case"E":return N&&N(this.error);case"C":return B&&B()}}accept(E,N,B){return E&&"function"==typeof E.next?this.observe(E):this.do(E,N,B)}toObservable(){switch(this.kind){case"N":return(0,Il.of)(this.value);case"E":return C=this.error,new Ko.y(N=>N.error(C));case"C":return(0,Vi.c)()}var C;throw new Error("unexpected notification kind value")}static createNext(E){return void 0!==E?new di("N",E):di.undefinedValueNotification}static createError(E){return new di("E",void 0,E)}static createComplete(){return di.completeNotification}}function Jh(C,E=0){return function(B){return B.lift(new sc(C,E))}}di.completeNotification=new di("C"),di.undefinedValueNotification=new di("N",void 0);class sc{constructor(E,N=0){this.scheduler=E,this.delay=N}call(E,N){return N.subscribe(new Ed(E,this.scheduler,this.delay))}}class Ed extends cu.L{constructor(E,N,B=0){super(E),this.scheduler=N,this.delay=B}static dispatch(E){const{notification:N,destination:B}=E;N.observe(B),this.unsubscribe()}scheduleMessage(E){this.destination.add(this.scheduler.schedule(Ed.dispatch,this.delay,new Qo(E,this.destination)))}_next(E){this.scheduleMessage(di.createNext(E))}_error(E){this.scheduleMessage(di.createError(E)),this.unsubscribe()}_complete(){this.scheduleMessage(di.createComplete()),this.unsubscribe()}}class Qo{constructor(E,N){this.notification=E,this.destination=N}}var Zo=z(3342);const oc=new T.GfV("7.4.1"),La="__angularfire_symbol__analyticsIsSupportedValue",Cd="__angularfire_symbol__analyticsIsSupported",Bs="__angularfire_symbol__remoteConfigIsSupportedValue",du="__angularfire_symbol__remoteConfigIsSupported",Jo="__angularfire_symbol__messagingIsSupportedValue",bd="__angularfire_symbol__messagingIsSupported";function Tl(C,E,N){if(E){if(1===E.length)return E[0];const pe=E.filter(ke=>ke.app===N);if(1===pe.length)return pe[0]}return N.container.getProvider(C).getImmediate({optional:!0})}globalThis[Cd]||(globalThis[Cd]=g().then(C=>globalThis[La]=C).catch(()=>globalThis[La]=!1)),globalThis[bd]||(globalThis[bd]=Xl().then(C=>globalThis[Jo]=C).catch(()=>globalThis[Jo]=!1)),globalThis[du]||(globalThis[du]=us().then(C=>globalThis[Bs]=C).catch(()=>globalThis[Bs]=!1));const Xo=(C,E)=>{const N=E?[E]:(0,x.C6)(),B=[];return N.forEach(ne=>{ne.container.getProvider(C).instances.forEach(ke=>{B.includes(ke)||B.push(ke)})}),B};function ts(){}class Va{constructor(E,N=bl){this.zone=E,this.delegate=N}now(){return this.delegate.now()}schedule(E,N,B){const ne=this.zone;return this.delegate.schedule(function(ke){ne.runGuarded(()=>{E.apply(this,[ke])})},N,B)}}class fr{constructor(E){this.zone=E,this.task=null}call(E,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),N.pipe((0,Zo.b)({next:B,complete:B,error:B})).subscribe(E).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Id=(()=>{class C{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Va(Zone.current)),this.insideAngular=N.run(()=>new Va(Zone.current,bg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(N){return new(N||C)(T.LFG(T.R0b))},C.\u0275prov=T.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function fo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function js(C){return fo().ngZone.runOutsideAngular(()=>C())}function wi(C){return fo().ngZone.run(()=>C())}function ac(C){return fo(),function(C){return function(N){return(N=N.lift(new fr(C.ngZone))).pipe(rc(C.outsideAngular),Jh(C.insideAngular))}}(fo())(C)}const Al=(C,E)=>{const N=void 0;return function(){const B=arguments;return E&&setTimeout(()=>{"scheduled"===E.state&&E.invoke()},10),wi(()=>C.apply(N,B))}},$s=(C,E)=>function(){let N;const B=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof B[pe]&&(E&&(N||(N=wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)))),B[pe]=Al(B[pe],N));const ne=js(()=>C.apply(this,B));if(!E){if(ne instanceof Ko.y){const pe=fo();return ne.pipe(rc(pe.outsideAngular),Jh(pe.insideAngular))}return wi(()=>ne)}return ne instanceof Ko.y?ne.pipe(ac):ne instanceof Promise?wi(()=>new Promise((pe,ke)=>ne.then(Ye=>wi(()=>pe(Ye)),Ye=>wi(()=>ke(Ye))))):"function"==typeof ne&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),ne.apply(this,arguments)}:wi(()=>ne)}},665:(ct,Pe,z)=>{"use strict";z.d(Pe,{Fj:()=>st,qu:()=>Ee,u:()=>Vr,sg:()=>cr,u5:()=>S,nD:()=>Rs,JJ:()=>Hn,JL:()=>Jn,YN:()=>ai,UX:()=>V,EJ:()=>Ts,kI:()=>sr,_Y:()=>wn,Kr:()=>hs});var T=z(639),x=z(8583),fe=z(7574),Re=z(9796),le=z(8002),H=z(1555),Le=z(4402);function ye(D,I){return new fe.y(v=>{const O=D.length;if(0===O)return void v.complete();const ue=new Array(O);let Oe=0,yt=0;for(let an=0;an<O;an++){const Vn=(0,Le.D)(D[an]);let En=!1;v.add(Vn.subscribe({next:zn=>{En||(En=!0,yt++),ue[an]=zn},error:zn=>v.error(zn),complete:()=>{Oe++,(Oe===O||!En)&&(yt===O&&v.next(I?I.reduce((zn,_r,zr)=>(zn[_r]=ue[zr],zn),{}):ue),v.complete())}}))}})}let W=(()=>{class D{constructor(v,O){this._renderer=v,this._elementRef=O,this.onChange=ue=>{},this.onTouched=()=>{}}setProperty(v,O){this._renderer.setProperty(this._elementRef.nativeElement,v,O)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(T.Qsj),T.Y36(T.SBq))},D.\u0275dir=T.lG2({type:D}),D})(),Y=(()=>{class D extends W{}return D.\u0275fac=function(){let I;return function(O){return(I||(I=T.n5z(D)))(O||D)}}(),D.\u0275dir=T.lG2({type:D,features:[T.qOj]}),D})();const oe=new T.OlP("NgValueAccessor"),Ge={provide:oe,useExisting:(0,T.Gpc)(()=>st),multi:!0},pt=new T.OlP("CompositionEventMode");let st=(()=>{class D extends W{constructor(v,O,ue){super(v,O),this._compositionMode=ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const D=(0,x.q)()?(0,x.q)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(v){this.setProperty("value",null==v?"":v)}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(pt,8))},D.\u0275dir=T.lG2({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,O){1&v&&T.NdJ("input",function(Oe){return O._handleInput(Oe.target.value)})("blur",function(){return O.onTouched()})("compositionstart",function(){return O._compositionStart()})("compositionend",function(Oe){return O._compositionEnd(Oe.target.value)})},features:[T._Bn([Ge]),T.qOj]}),D})();function Je(D){return null==D||0===D.length}function He(D){return null!=D&&"number"==typeof D.length}const Ve=new T.OlP("NgValidators"),Qt=new T.OlP("NgAsyncValidators"),rn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sr{static min(I){return D=I,I=>{if(Je(I.value)||Je(D))return null;const v=parseFloat(I.value);return!isNaN(v)&&v<D?{min:{min:D,actual:I.value}}:null};var D}static max(I){return D=I,I=>{if(Je(I.value)||Je(D))return null;const v=parseFloat(I.value);return!isNaN(v)&&v>D?{max:{max:D,actual:I.value}}:null};var D}static required(I){return Je(I.value)?{required:!0}:null}static requiredTrue(I){return!0===I.value?null:{required:!0}}static email(I){return Je((D=I).value)||rn.test(D.value)?null:{email:!0};var D}static minLength(I){return D=I,I=>Je(I.value)||!He(I.value)?null:I.value.length<D?{minlength:{requiredLength:D,actualLength:I.value.length}}:null;var D}static maxLength(I){return ut(I)}static pattern(I){return function(D){if(!D)return yn;let I,v;return"string"==typeof D?(v="","^"!==D.charAt(0)&&(v+="^"),v+=D,"$"!==D.charAt(D.length-1)&&(v+="$"),I=new RegExp(v)):(v=D.toString(),I=D),O=>{if(Je(O.value))return null;const ue=O.value;return I.test(ue)?null:{pattern:{requiredPattern:v,actualValue:ue}}}}(I)}static nullValidator(I){return null}static compose(I){return Tr(I)}static composeAsync(I){return Ar(I)}}function ut(D){return I=>He(I.value)&&I.value.length>D?{maxlength:{requiredLength:D,actualLength:I.value.length}}:null}function yn(D){return null}function jn(D){return null!=D}function wr(D){const I=(0,T.QGY)(D)?(0,Le.D)(D):D;return(0,T.CqO)(I),I}function Ut(D){let I={};return D.forEach(v=>{I=null!=v?Object.assign(Object.assign({},I),v):I}),0===Object.keys(I).length?null:I}function gi(D,I){return I.map(v=>v(D))}function Qn(D){return D.map(I=>function(D){return!D.validate}(I)?I:v=>I.validate(v))}function Tr(D){if(!D)return null;const I=D.filter(jn);return 0==I.length?null:function(v){return Ut(gi(v,I))}}function Or(D){return null!=D?Tr(Qn(D)):null}function Ar(D){if(!D)return null;const I=D.filter(jn);return 0==I.length?null:function(v){return function(...D){if(1===D.length){const I=D[0];if((0,Re.k)(I))return ye(I,null);if((0,H.K)(I)&&Object.getPrototypeOf(I)===Object.prototype){const v=Object.keys(I);return ye(v.map(O=>I[O]),v)}}if("function"==typeof D[D.length-1]){const I=D.pop();return ye(D=1===D.length&&(0,Re.k)(D[0])?D[0]:D,null).pipe((0,le.U)(v=>I(...v)))}return ye(D,null)}(gi(v,I).map(wr)).pipe((0,le.U)(Ut))}}function un(D){return null!=D?Ar(Qn(D)):null}function kn(D,I){return null===D?[I]:Array.isArray(D)?[...D,I]:[D,I]}function gn(D){return D._rawValidators}function It(D){return D._rawAsyncValidators}function Zn(D){return D?Array.isArray(D)?D:[D]:[]}function Yr(D,I){return Array.isArray(D)?D.includes(I):D===I}function cn(D,I){const v=Zn(I);return Zn(D).forEach(ue=>{Yr(v,ue)||v.push(ue)}),v}function Tt(D,I){return Zn(I).filter(v=>!Yr(D,v))}let ln=(()=>{class D{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(v){this._rawValidators=v||[],this._composedValidatorFn=Or(this._rawValidators)}_setAsyncValidators(v){this._rawAsyncValidators=v||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(v){this._onDestroyCallbacks.push(v)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(v=>v()),this._onDestroyCallbacks=[]}reset(v){this.control&&this.control.reset(v)}hasError(v,O){return!!this.control&&this.control.hasError(v,O)}getError(v,O){return this.control?this.control.getError(v,O):null}}return D.\u0275fac=function(v){return new(v||D)},D.\u0275dir=T.lG2({type:D}),D})(),tn=(()=>{class D extends ln{get formDirective(){return null}get path(){return null}}return D.\u0275fac=function(){let I;return function(O){return(I||(I=T.n5z(D)))(O||D)}}(),D.\u0275dir=T.lG2({type:D,features:[T.qOj]}),D})();class nn extends ln{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $n{constructor(I){this._cd=I}is(I){var v,O,ue;return"submitted"===I?!!(null===(v=this._cd)||void 0===v?void 0:v.submitted):!!(null===(ue=null===(O=this._cd)||void 0===O?void 0:O.control)||void 0===ue?void 0:ue[I])}}let Hn=(()=>{class D extends $n{constructor(v){super(v)}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(nn,2))},D.\u0275dir=T.lG2({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,O){2&v&&T.ekj("ng-untouched",O.is("untouched"))("ng-touched",O.is("touched"))("ng-pristine",O.is("pristine"))("ng-dirty",O.is("dirty"))("ng-valid",O.is("valid"))("ng-invalid",O.is("invalid"))("ng-pending",O.is("pending"))},features:[T.qOj]}),D})(),Jn=(()=>{class D extends $n{constructor(v){super(v)}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(tn,10))},D.\u0275dir=T.lG2({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,O){2&v&&T.ekj("ng-untouched",O.is("untouched"))("ng-touched",O.is("touched"))("ng-pristine",O.is("pristine"))("ng-dirty",O.is("dirty"))("ng-valid",O.is("valid"))("ng-invalid",O.is("invalid"))("ng-pending",O.is("pending"))("ng-submitted",O.is("submitted"))},features:[T.qOj]}),D})();function qe(D,I){ze(D,I),I.valueAccessor.writeValue(D.value),function(D,I){I.valueAccessor.registerOnChange(v=>{D._pendingValue=v,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&mt(D,I)})}(D,I),function(D,I){const v=(O,ue)=>{I.valueAccessor.writeValue(O),ue&&I.viewToModelUpdate(O)};D.registerOnChange(v),I._registerOnDestroy(()=>{D._unregisterOnChange(v)})}(D,I),function(D,I){I.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&mt(D,I),"submit"!==D.updateOn&&D.markAsTouched()})}(D,I),function(D,I){if(I.valueAccessor.setDisabledState){const v=O=>{I.valueAccessor.setDisabledState(O)};D.registerOnDisabledChange(v),I._registerOnDestroy(()=>{D._unregisterOnDisabledChange(v)})}}(D,I)}function sn(D,I,v=!0){const O=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(O),I.valueAccessor.registerOnTouched(O)),me(D,I),D&&(I._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function St(D,I){D.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(I)})}function ze(D,I){const v=gn(D);null!==I.validator?D.setValidators(kn(v,I.validator)):"function"==typeof v&&D.setValidators([v]);const O=It(D);null!==I.asyncValidator?D.setAsyncValidators(kn(O,I.asyncValidator)):"function"==typeof O&&D.setAsyncValidators([O]);const ue=()=>D.updateValueAndValidity();St(I._rawValidators,ue),St(I._rawAsyncValidators,ue)}function me(D,I){let v=!1;if(null!==D){if(null!==I.validator){const ue=gn(D);if(Array.isArray(ue)&&ue.length>0){const Oe=ue.filter(yt=>yt!==I.validator);Oe.length!==ue.length&&(v=!0,D.setValidators(Oe))}}if(null!==I.asyncValidator){const ue=It(D);if(Array.isArray(ue)&&ue.length>0){const Oe=ue.filter(yt=>yt!==I.asyncValidator);Oe.length!==ue.length&&(v=!0,D.setAsyncValidators(Oe))}}}const O=()=>{};return St(I._rawValidators,O),St(I._rawAsyncValidators,O),v}function mt(D,I){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function Cn(D,I){const v=D.indexOf(I);v>-1&&D.splice(v,1)}const Mn="VALID",ht="INVALID",mn="PENDING",Zt="DISABLED";function Zr(D){return(dn(D)?D.validators:D)||null}function Wi(D){return Array.isArray(D)?Or(D):D||null}function zi(D,I){return(dn(I)?I.asyncValidators:D)||null}function Mt(D){return Array.isArray(D)?un(D):D||null}function dn(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}class Gr{constructor(I,v){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=I,this._rawAsyncValidators=v,this._composedValidatorFn=Wi(this._rawValidators),this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===Mn}get invalid(){return this.status===ht}get pending(){return this.status==mn}get disabled(){return this.status===Zt}get enabled(){return this.status!==Zt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._rawValidators=I,this._composedValidatorFn=Wi(I)}setAsyncValidators(I){this._rawAsyncValidators=I,this._composedAsyncValidatorFn=Mt(I)}addValidators(I){this.setValidators(cn(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(cn(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(Tt(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(Tt(I,this._rawAsyncValidators))}hasValidator(I){return Yr(this._rawValidators,I)}hasAsyncValidator(I){return Yr(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=mn,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const v=this._parentMarkedDirty(I.onlySelf);this.status=Zt,this.errors=null,this._forEachChild(O=>{O.disable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:v})),this._onDisabledChange.forEach(O=>O(!0))}enable(I={}){const v=this._parentMarkedDirty(I.onlySelf);this.status=Mn,this._forEachChild(O=>{O.enable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:v})),this._onDisabledChange.forEach(O=>O(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mn||this.status===mn)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zt:Mn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const v=wr(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(O=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(O,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,v={}){this.errors=I,this._updateControlsErrors(!1!==v.emitEvent)}get(I){return function(D,I,v){if(null==I||(Array.isArray(I)||(I=I.split(".")),Array.isArray(I)&&0===I.length))return null;let O=D;return I.forEach(ue=>{O=O instanceof Jr?O.controls.hasOwnProperty(ue)?O.controls[ue]:null:O instanceof tr&&O.at(ue)||null}),O}(this,I)}getError(I,v){const O=v?this.get(v):this;return O&&O.errors?O.errors[I]:null}hasError(I,v){return!!this.getError(I,v)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new T.vpe,this.statusChanges=new T.vpe}_calculateStatus(){return this._allControlsDisabled()?Zt:this.errors?ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(ht)?ht:Mn}_anyControlsHaveStatus(I){return this._anyControls(v=>v.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_isBoxedValue(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){dn(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class In extends Gr{constructor(I=null,v,O){super(Zr(v),zi(O,v)),this._onChange=[],this._applyFormState(I),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(I,v={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(O=>O(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(I,v={}){this.setValue(I,v)}reset(I=null,v={}){this._applyFormState(I),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){Cn(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){Cn(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){this._isBoxedValue(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}}class Jr extends Gr{constructor(I,v,O){super(Zr(v),zi(O,v)),this.controls=I,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,v){return this.controls[I]?this.controls[I]:(this.controls[I]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(I,v,O={}){this.registerControl(I,v),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}removeControl(I,v={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(I,v,O={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],v&&this.registerControl(I,v),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,v={}){this._checkAllValuesPresent(I),Object.keys(I).forEach(O=>{this._throwIfControlMissing(O),this.controls[O].setValue(I[O],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(I,v={}){null!=I&&(Object.keys(I).forEach(O=>{this.controls[O]&&this.controls[O].patchValue(I[O],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(I={},v={}){this._forEachChild((O,ue)=>{O.reset(I[ue],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(I,v,O)=>(I[O]=v instanceof In?v.value:v.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(v,O)=>!!O._syncPendingControls()||v);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_throwIfControlMissing(I){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[I])throw new Error(`Cannot find form control with name: ${I}.`)}_forEachChild(I){Object.keys(this.controls).forEach(v=>{const O=this.controls[v];O&&I(O,v)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const v of Object.keys(this.controls)){const O=this.controls[v];if(this.contains(v)&&I(O))return!0}return!1}_reduceValue(){return this._reduceChildren({},(I,v,O)=>((v.enabled||this.disabled)&&(I[O]=v.value),I))}_reduceChildren(I,v){let O=I;return this._forEachChild((ue,Oe)=>{O=v(O,ue,Oe)}),O}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(I){this._forEachChild((v,O)=>{if(void 0===I[O])throw new Error(`Must supply a value for form control with name: '${O}'.`)})}}class tr extends Gr{constructor(I,v,O){super(Zr(v),zi(O,v)),this.controls=I,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[I]}push(I,v={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}insert(I,v,O={}){this.controls.splice(I,0,v),this._registerControl(v),this.updateValueAndValidity({emitEvent:O.emitEvent})}removeAt(I,v={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),this.updateValueAndValidity({emitEvent:v.emitEvent})}setControl(I,v,O={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),v&&(this.controls.splice(I,0,v),this._registerControl(v)),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,v={}){this._checkAllValuesPresent(I),I.forEach((O,ue)=>{this._throwIfControlMissing(ue),this.at(ue).setValue(O,{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(I,v={}){null!=I&&(I.forEach((O,ue)=>{this.at(ue)&&this.at(ue).patchValue(O,{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(I=[],v={}){this._forEachChild((O,ue)=>{O.reset(I[ue],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this.controls.map(I=>I instanceof In?I.value:I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(v=>v._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_syncPendingControls(){let I=this.controls.reduce((v,O)=>!!O._syncPendingControls()||v,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_throwIfControlMissing(I){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(I))throw new Error(`Cannot find form control at index ${I}`)}_forEachChild(I){this.controls.forEach((v,O)=>{I(v,O)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(v=>v.enabled&&I(v))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_checkAllValuesPresent(I){this._forEachChild((v,O)=>{if(void 0===I[O])throw new Error(`Must supply a value for form control at index: ${O}.`)})}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}}let wn=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275dir=T.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),D})(),Me=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({}),D})();const ei=new T.OlP("NgModelWithFormControlWarning"),So={provide:tn,useExisting:(0,T.Gpc)(()=>cr)};let cr=(()=>{class D extends tn{constructor(v,O){super(),this.validators=v,this.asyncValidators=O,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new T.vpe,this._setValidators(v),this._setAsyncValidators(O)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const O=this.form.get(v.path);return qe(O,v),O.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),O}getControl(v){return this.form.get(v.path)}removeControl(v){sn(v.control||null,v,!1),Cn(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,O){this.form.get(v.path).setValue(O)}onSubmit(v){return this.submitted=!0,function(D,I){D._syncPendingControls(),I.forEach(v=>{const O=v.control;"submit"===O.updateOn&&O._pendingChange&&(v.viewToModelUpdate(O._pendingValue),O._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),!1}onReset(){this.resetForm()}resetForm(v){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const O=v.control,ue=this.form.get(v.path);O!==ue&&(sn(O||null,v),ue instanceof In&&(qe(ue,v),v.control=ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const O=this.form.get(v.path);(function(D,I){ze(D,I)})(O,v),O.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const O=this.form.get(v.path);O&&function(D,I){return me(D,I)}(O,v)&&O.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ze(this.form,this),this._oldForm&&me(this._oldForm,this)}_checkFormPresent(){}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(Ve,10),T.Y36(Qt,10))},D.\u0275dir=T.lG2({type:D,selectors:[["","formGroup",""]],hostBindings:function(v,O){1&v&&T.NdJ("submit",function(Oe){return O.onSubmit(Oe)})("reset",function(){return O.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[T._Bn([So]),T.qOj,T.TTD]}),D})();const Lr={provide:nn,useExisting:(0,T.Gpc)(()=>Vr)};let Vr=(()=>{class D extends nn{constructor(v,O,ue,Oe,yt){super(),this._ngModelWarningConfig=yt,this._added=!1,this.update=new T.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(O),this._setAsyncValidators(ue),this.valueAccessor=function(D,I){if(!I)return null;let v,O,ue;return Array.isArray(I),I.forEach(Oe=>{Oe.constructor===st?v=Oe:function(D){return Object.getPrototypeOf(D.constructor)===Y}(Oe)?O=Oe:ue=Oe}),ue||O||v||null}(0,Oe)}set isDisabled(v){}ngOnChanges(v){this._added||this._setUpControl(),function(D,I){if(!D.hasOwnProperty("model"))return!1;const v=D.model;return!!v.isFirstChange()||!Object.is(I,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return function(D,I){return[...I.path,D]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(tn,13),T.Y36(Ve,10),T.Y36(Qt,10),T.Y36(oe,10),T.Y36(ei,8))},D.\u0275dir=T.lG2({type:D,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[T._Bn([Lr]),T.qOj,T.TTD]}),D._ngModelWarningSentOnce=!1,D})();const mi={provide:oe,useExisting:(0,T.Gpc)(()=>Ts),multi:!0};function ws(D,I){return null==D?`${I}`:(I&&"object"==typeof I&&(I="Object"),`${D}: ${I}`.slice(0,50))}let Ts=(()=>{class D extends Y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(v){this._compareWith=v}writeValue(v){this.value=v;const O=this._getOptionId(v);null==O&&this.setProperty("selectedIndex",-1);const ue=ws(O,v);this.setProperty("value",ue)}registerOnChange(v){this.onChange=O=>{this.value=this._getOptionValue(O),v(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(v){for(const O of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(O),v))return O;return null}_getOptionValue(v){const O=function(D){return D.split(":")[0]}(v);return this._optionMap.has(O)?this._optionMap.get(O):v}}return D.\u0275fac=function(){let I;return function(O){return(I||(I=T.n5z(D)))(O||D)}}(),D.\u0275dir=T.lG2({type:D,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(v,O){1&v&&T.NdJ("change",function(Oe){return O.onChange(Oe.target.value)})("blur",function(){return O.onTouched()})},inputs:{compareWith:"compareWith"},features:[T._Bn([mi]),T.qOj]}),D})(),ai=(()=>{class D{constructor(v,O,ue){this._element=v,this._renderer=O,this._select=ue,this._select&&(this.id=this._select._registerOption())}set ngValue(v){null!=this._select&&(this._select._optionMap.set(this.id,v),this._setElementValue(ws(this.id,v)),this._select.writeValue(this._select.value))}set value(v){this._setElementValue(v),this._select&&this._select.writeValue(this._select.value)}_setElementValue(v){this._renderer.setProperty(this._element.nativeElement,"value",v)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(Ts,9))},D.\u0275dir=T.lG2({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),D})();const As={provide:oe,useExisting:(0,T.Gpc)(()=>ds),multi:!0};function qi(D,I){return null==D?`${I}`:("string"==typeof I&&(I=`'${I}'`),I&&"object"==typeof I&&(I="Object"),`${D}: ${I}`.slice(0,50))}let ds=(()=>{class D extends Y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(v){this._compareWith=v}writeValue(v){let O;if(this.value=v,Array.isArray(v)){const ue=v.map(Oe=>this._getOptionId(Oe));O=(Oe,yt)=>{Oe._setSelected(ue.indexOf(yt.toString())>-1)}}else O=(ue,Oe)=>{ue._setSelected(!1)};this._optionMap.forEach(O)}registerOnChange(v){this.onChange=O=>{const ue=[];if(void 0!==O.selectedOptions){const Oe=O.selectedOptions;for(let yt=0;yt<Oe.length;yt++){const an=Oe.item(yt),Vn=this._getOptionValue(an.value);ue.push(Vn)}}else{const Oe=O.options;for(let yt=0;yt<Oe.length;yt++){const an=Oe.item(yt);if(an.selected){const Vn=this._getOptionValue(an.value);ue.push(Vn)}}}this.value=ue,v(ue)}}_registerOption(v){const O=(this._idCounter++).toString();return this._optionMap.set(O,v),O}_getOptionId(v){for(const O of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(O)._value,v))return O;return null}_getOptionValue(v){const O=function(D){return D.split(":")[0]}(v);return this._optionMap.has(O)?this._optionMap.get(O)._value:v}}return D.\u0275fac=function(){let I;return function(O){return(I||(I=T.n5z(D)))(O||D)}}(),D.\u0275dir=T.lG2({type:D,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(v,O){1&v&&T.NdJ("change",function(Oe){return O.onChange(Oe.target)})("blur",function(){return O.onTouched()})},inputs:{compareWith:"compareWith"},features:[T._Bn([As]),T.qOj]}),D})(),hs=(()=>{class D{constructor(v,O,ue){this._element=v,this._renderer=O,this._select=ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(v){null!=this._select&&(this._value=v,this._setElementValue(qi(this.id,v)),this._select.writeValue(this._select.value))}set value(v){this._select?(this._value=v,this._setElementValue(qi(this.id,v)),this._select.writeValue(this._select.value)):this._setElementValue(v)}_setElementValue(v){this._renderer.setProperty(this._element.nativeElement,"value",v)}_setSelected(v){this._renderer.setProperty(this._element.nativeElement,"selected",v)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return D.\u0275fac=function(v){return new(v||D)(T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(ds,9))},D.\u0275dir=T.lG2({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),D})();const vi={provide:Ve,useExisting:(0,T.Gpc)(()=>Rs),multi:!0};let Rs=(()=>{class D{constructor(){this._validator=yn}ngOnChanges(v){"maxlength"in v&&(this._createValidator(),this._onChange&&this._onChange())}validate(v){return this.enabled()?this._validator(v):null}registerOnValidatorChange(v){this._onChange=v}_createValidator(){this._validator=this.enabled()?ut(function(D){return"number"==typeof D?D:parseInt(D,10)}(this.maxlength)):yn}enabled(){return null!=this.maxlength}}return D.\u0275fac=function(v){return new(v||D)},D.\u0275dir=T.lG2({type:D,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(v,O){2&v&&T.uIk("maxlength",O.enabled()?O.maxlength:null)},inputs:{maxlength:"maxlength"},features:[T._Bn([vi]),T.TTD]}),D})(),k=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({imports:[[Me]]}),D})(),S=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({imports:[k]}),D})(),V=(()=>{class D{static withConfig(v){return{ngModule:D,providers:[{provide:ei,useValue:v.warnOnNgModelWithFormControl}]}}}return D.\u0275fac=function(v){return new(v||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({imports:[k]}),D})(),Ee=(()=>{class D{group(v,O=null){const ue=this._reduceControls(v);let an,Oe=null,yt=null;return null!=O&&(function(D){return void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn}(O)?(Oe=null!=O.validators?O.validators:null,yt=null!=O.asyncValidators?O.asyncValidators:null,an=null!=O.updateOn?O.updateOn:void 0):(Oe=null!=O.validator?O.validator:null,yt=null!=O.asyncValidator?O.asyncValidator:null)),new Jr(ue,{asyncValidators:yt,updateOn:an,validators:Oe})}control(v,O,ue){return new In(v,O,ue)}array(v,O,ue){const Oe=v.map(yt=>this._createControl(yt));return new tr(Oe,O,ue)}_reduceControls(v){const O={};return Object.keys(v).forEach(ue=>{O[ue]=this._createControl(v[ue])}),O}_createControl(v){return v instanceof In||v instanceof Jr||v instanceof tr?v:Array.isArray(v)?this.control(v[0],v.length>1?v[1]:null,v.length>2?v[2]:null):this.control(v)}}return D.\u0275fac=function(v){return new(v||D)},D.\u0275prov=(0,T.Yz7)({factory:function(){return new D},token:D,providedIn:V}),D})()},4767:(ct,Pe,z)=>{"use strict";z.d(Pe,{Bz:()=>zo,lC:()=>_s});var T=z(8583),x=z(639),fe=z(7709),Re=z(7971);class le extends fe.xQ{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const p=super._subscribe(g);return p&&!p.closed&&g.next(this._value),p}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Re.N;return this._value}next(g){super.next(this._value=g)}}var H=z(4869),Le=z(9796),Se=z(7393);class ye extends Se.L{notifyNext(g,p,b,R,F){this.destination.next(p)}notifyError(g,p){this.destination.error(g)}notifyComplete(g){this.destination.complete()}}class W extends Se.L{constructor(g,p,b){super(),this.parent=g,this.outerValue=p,this.outerIndex=b,this.index=0}_next(g){this.parent.notifyNext(this.outerValue,g,this.outerIndex,this.index++,this)}_error(g){this.parent.notifyError(g,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Y=z(7444),oe=z(7574);function ve(_,g,p,b,R=new W(_,p,b)){if(!R.closed)return g instanceof oe.y?g.subscribe(R):(0,Y.s)(g)(R)}var De=z(6693);const Ge={};class pt{constructor(g){this.resultSelector=g}call(g,p){return p.subscribe(new st(g,this.resultSelector))}}class st extends ye{constructor(g,p){super(g),this.resultSelector=p,this.active=0,this.values=[],this.observables=[]}_next(g){this.values.push(Ge),this.observables.push(g)}_complete(){const g=this.observables,p=g.length;if(0===p)this.destination.complete();else{this.active=p,this.toRespond=p;for(let b=0;b<p;b++)this.add(ve(this,g[b],void 0,b))}}notifyComplete(g){0==(this.active-=1)&&this.destination.complete()}notifyNext(g,p,b){const R=this.values,K=this.toRespond?R[b]===Ge?--this.toRespond:this.toRespond:0;R[b]=p,0===K&&(this.resultSelector?this._tryResultSelector(R):this.destination.next(R.slice()))}_tryResultSelector(g){let p;try{p=this.resultSelector.apply(this,g)}catch(b){return void this.destination.error(b)}this.destination.next(p)}}const He=(()=>{function _(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return _.prototype=Object.create(Error.prototype),_})();var Ve=z(5917),Qt=z(3282);function sr(..._){return(0,Qt.J)(1)((0,Ve.of)(..._))}var zt=z(4402),Ce=z(9193);function Be(_){return new oe.y(g=>{let p;try{p=_()}catch(R){return void g.error(R)}return(p?(0,zt.D)(p):(0,Ce.c)()).subscribe(g)})}var nt=z(2441),Qe=z(8002),tt=z(5345);function ut(_,g){return"function"==typeof g?p=>p.pipe(ut((b,R)=>(0,zt.D)(_(b,R)).pipe((0,Qe.U)((F,K)=>g(b,F,R,K))))):p=>p.lift(new je(_))}class je{constructor(g){this.project=g}call(g,p){return p.subscribe(new yn(g,this.project))}}class yn extends tt.Ds{constructor(g,p){super(g),this.project=p,this.index=0}_next(g){let p;const b=this.index++;try{p=this.project(g,b)}catch(R){return void this.destination.error(R)}this._innerSub(p)}_innerSub(g){const p=this.innerSubscription;p&&p.unsubscribe();const b=new tt.IY(this),R=this.destination;R.add(b),this.innerSubscription=(0,tt.ft)(g,b),this.innerSubscription!==b&&R.add(this.innerSubscription)}_complete(){const{innerSubscription:g}=this;(!g||g.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(g){this.destination.next(g)}}const wr=(()=>{function _(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return _.prototype=Object.create(Error.prototype),_})();function Ut(_){return g=>0===_?(0,Ce.c)():g.lift(new gi(_))}class gi{constructor(g){if(this.total=g,this.total<0)throw new wr}call(g,p){return p.subscribe(new Dr(g,this.total))}}class Dr extends Se.L{constructor(g,p){super(g),this.total=p,this.count=0}_next(g){const p=this.total,b=++this.count;b<=p&&(this.destination.next(g),b===p&&(this.destination.complete(),this.unsubscribe()))}}function Tr(_,g){let p=!1;return arguments.length>=2&&(p=!0),function(R){return R.lift(new Or(_,g,p))}}class Or{constructor(g,p,b=!1){this.accumulator=g,this.seed=p,this.hasSeed=b}call(g,p){return p.subscribe(new Ar(g,this.accumulator,this.seed,this.hasSeed))}}class Ar extends Se.L{constructor(g,p,b,R){super(g),this.accumulator=p,this._seed=b,this.hasSeed=R,this.index=0}get seed(){return this._seed}set seed(g){this.hasSeed=!0,this._seed=g}_next(g){if(this.hasSeed)return this._tryNext(g);this.seed=g,this.destination.next(g)}_tryNext(g){const p=this.index++;let b;try{b=this.accumulator(this.seed,g,p)}catch(R){this.destination.error(R)}this.seed=b,this.destination.next(b)}}function un(_,g){return function(b){return b.lift(new kn(_,g))}}class kn{constructor(g,p){this.predicate=g,this.thisArg=p}call(g,p){return p.subscribe(new gn(g,this.predicate,this.thisArg))}}class gn extends Se.L{constructor(g,p,b){super(g),this.predicate=p,this.thisArg=b,this.count=0}_next(g){let p;try{p=this.predicate.call(this.thisArg,g,this.count++)}catch(b){return void this.destination.error(b)}p&&this.destination.next(g)}}function It(_){return function(p){const b=new Zn(_),R=p.lift(b);return b.caught=R}}class Zn{constructor(g){this.selector=g}call(g,p){return p.subscribe(new Yr(g,this.selector,this.caught))}}class Yr extends tt.Ds{constructor(g,p,b){super(g),this.selector=p,this.caught=b}error(g){if(!this.isStopped){let p;try{p=this.selector(g,this.caught)}catch(F){return void super.error(F)}this._unsubscribeAndRecycle();const b=new tt.IY(this);this.add(b);const R=(0,tt.ft)(p,b);R!==b&&this.add(R)}}}var cn=z(9773);function Tt(_,g){return(0,cn.zg)(_,g,1)}function ln(_){return function(p){return 0===_?(0,Ce.c)():p.lift(new tn(_))}}class tn{constructor(g){if(this.total=g,this.total<0)throw new wr}call(g,p){return p.subscribe(new nn(g,this.total))}}class nn extends Se.L{constructor(g,p){super(g),this.total=p,this.ring=new Array,this.count=0}_next(g){const p=this.ring,b=this.total,R=this.count++;p.length<b?p.push(g):p[R%b]=g}_complete(){const g=this.destination;let p=this.count;if(p>0){const b=this.count>=this.total?this.total:this.count,R=this.ring;for(let F=0;F<b;F++){const K=p++%b;g.next(R[K])}}g.complete()}}function $n(_=Hn){return g=>g.lift(new Ne(_))}class Ne{constructor(g){this.errorFactory=g}call(g,p){return p.subscribe(new Fn(g,this.errorFactory))}}class Fn extends Se.L{constructor(g,p){super(g),this.errorFactory=p,this.hasValue=!1}_next(g){this.hasValue=!0,this.destination.next(g)}_complete(){if(this.hasValue)return this.destination.complete();{let g;try{g=this.errorFactory()}catch(p){g=p}this.destination.error(g)}}}function Hn(){return new He}function Jn(_=null){return g=>g.lift(new Sn(_))}class Sn{constructor(g){this.defaultValue=g}call(g,p){return p.subscribe(new Xn(g,this.defaultValue))}}class Xn extends Se.L{constructor(g,p){super(g),this.defaultValue=p,this.isEmpty=!0}_next(g){this.isEmpty=!1,this.destination.next(g)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var er=z(4487);function Bt(_,g){const p=arguments.length>=2;return b=>b.pipe(_?un((R,F)=>_(R,F,b)):er.y,Ut(1),p?Jn(g):$n(()=>new He))}var at=z(5319);class Qr{constructor(g){this.callback=g}call(g,p){return p.subscribe(new Gn(g,this.callback))}}class Gn extends Se.L{constructor(g,p){super(g),this.add(new at.w(p))}}var jt=z(3342),Rn=z(1307);class vn{constructor(g,p){this.id=g,this.url=p}}class Sr extends vn{constructor(g,p,b="imperative",R=null){super(g,p),this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qe extends vn{constructor(g,p,b){super(g,p),this.urlAfterRedirects=b}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sn extends vn{constructor(g,p,b){super(g,p),this.reason=b}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class St extends vn{constructor(g,p,b){super(g,p),this.error=b}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hr extends vn{constructor(g,p,b,R){super(g,p),this.urlAfterRedirects=b,this.state=R}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends vn{constructor(g,p,b,R){super(g,p),this.urlAfterRedirects=b,this.state=R}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends vn{constructor(g,p,b,R,F){super(g,p),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=F}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ke extends vn{constructor(g,p,b,R){super(g,p),this.urlAfterRedirects=b,this.state=R}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt extends vn{constructor(g,p,b,R){super(g,p),this.urlAfterRedirects=b,this.state=R}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt{constructor(g){this.route=g}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xe{constructor(g){this.route=g}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J{constructor(g){this.snapshot=g}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q{constructor(g){this.snapshot=g}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ie{constructor(g){this.snapshot=g}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ie{constructor(g){this.snapshot=g}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(g,p,b){this.routerEvent=g,this.position=p,this.anchor=b}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Te="primary";class gt{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const p=this.params[g];return Array.isArray(p)?p[0]:p}return null}getAll(g){if(this.has(g)){const p=this.params[g];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function Gt(_){return new gt(_)}const Cn="ngNavigationCancelingError";function bn(_){const g=Error("NavigationCancelingError: "+_);return g[Cn]=!0,g}function ht(_,g,p){const b=p.path.split("/");if(b.length>_.length||"full"===p.pathMatch&&(g.hasChildren()||b.length<_.length))return null;const R={};for(let F=0;F<b.length;F++){const K=b[F],te=_[F];if(K.startsWith(":"))R[K.substring(1)]=te;else if(K!==te.path)return null}return{consumed:_.slice(0,b.length),posParams:R}}function Zt(_,g){const p=_?Object.keys(_):void 0,b=g?Object.keys(g):void 0;if(!p||!b||p.length!=b.length)return!1;let R;for(let F=0;F<p.length;F++)if(R=p[F],!gr(_[R],g[R]))return!1;return!0}function gr(_,g){if(Array.isArray(_)&&Array.isArray(g)){if(_.length!==g.length)return!1;const p=[..._].sort(),b=[...g].sort();return p.every((R,F)=>b[F]===R)}return _===g}function Zr(_){return Array.prototype.concat.apply([],_)}function Wi(_){return _.length>0?_[_.length-1]:null}function Mt(_,g){for(const p in _)_.hasOwnProperty(p)&&g(_[p],p)}function dn(_){return(0,x.CqO)(_)?_:(0,x.QGY)(_)?(0,zt.D)(Promise.resolve(_)):(0,Ve.of)(_)}const In={exact:function At(_,g,p){if(!dt(_.segments,g.segments)||!$t(_.segments,g.segments,p)||_.numberOfChildren!==g.numberOfChildren)return!1;for(const b in g.children)if(!_.children[b]||!At(_.children[b],g.children[b],p))return!1;return!0},subset:Ft},Jr={exact:function(_,g){return Zt(_,g)},subset:function(_,g){return Object.keys(g).length<=Object.keys(_).length&&Object.keys(g).every(p=>gr(_[p],g[p]))},ignored:()=>!0};function tr(_,g,p){return In[p.paths](_.root,g.root,p.matrixParams)&&Jr[p.queryParams](_.queryParams,g.queryParams)&&!("exact"===p.fragment&&_.fragment!==g.fragment)}function Ft(_,g,p){return Wn(_,g,g.segments,p)}function Wn(_,g,p,b){if(_.segments.length>p.length){const R=_.segments.slice(0,p.length);return!(!dt(R,p)||g.hasChildren()||!$t(R,p,b))}if(_.segments.length===p.length){if(!dt(_.segments,p)||!$t(_.segments,p,b))return!1;for(const R in g.children)if(!_.children[R]||!Ft(_.children[R],g.children[R],b))return!1;return!0}{const R=p.slice(0,_.segments.length),F=p.slice(_.segments.length);return!!(dt(_.segments,R)&&$t(_.segments,R,b)&&_.children[Te])&&Wn(_.children[Te],g,F,b)}}function $t(_,g,p){return g.every((b,R)=>Jr[p](_[R].parameters,b.parameters))}class ur{constructor(g,p,b){this.root=g,this.queryParams=p,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return mr.serialize(this)}}class it{constructor(g,p){this.segments=g,this.children=p,this.parent=null,Mt(p,(b,R)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class or{constructor(g,p){this.path=g,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=Gt(this.parameters)),this._parameterMap}toString(){return hn(this)}}function dt(_,g){return _.length===g.length&&_.every((p,b)=>p.path===g[b].path)}class kr{}class Xr{parse(g){const p=new ls(g);return new ur(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(g){const p=`/${X(g.root,!0)}`,b=function(_){const g=Object.keys(_).map(p=>{const b=_[p];return Array.isArray(b)?b.map(R=>`${G(p)}=${G(R)}`).join("&"):`${G(p)}=${G(b)}`}).filter(p=>!!p);return g.length?`?${g.join("&")}`:""}(g.queryParams);var _;return`${p}${b}${"string"==typeof g.fragment?`#${_=g.fragment,encodeURI(_)}`:""}`}}const mr=new Xr;function wn(_){return _.segments.map(g=>hn(g)).join("/")}function X(_,g){if(!_.hasChildren())return wn(_);if(g){const p=_.children[Te]?X(_.children[Te],!1):"",b=[];return Mt(_.children,(R,F)=>{F!==Te&&b.push(`${F}:${X(R,!1)}`)}),b.length>0?`${p}(${b.join("//")})`:p}{const p=function(_,g){let p=[];return Mt(_.children,(b,R)=>{R===Te&&(p=p.concat(g(b,R)))}),Mt(_.children,(b,R)=>{R!==Te&&(p=p.concat(g(b,R)))}),p}(_,(b,R)=>R===Te?[X(_.children[Te],!1)]:[`${R}:${X(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Te]?`${wn(_)}/${p[0]}`:`${wn(_)}/(${p.join("//")})`}}function Z(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G(_){return Z(_).replace(/%3B/gi,";")}function Me(_){return Z(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(_){return decodeURIComponent(_)}function Ct(_){return ft(_.replace(/\+/g,"%20"))}function hn(_){return`${Me(_.path)}${function(_){return Object.keys(_).map(g=>`;${Me(g)}=${Me(_[g])}`).join("")}(_.parameters)}`}const xn=/^[^\/()?;=#]+/;function qt(_){const g=_.match(xn);return g?g[0]:""}const So=/^[^=?&#]+/,Fr=/^[^?&#]+/;class ls{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(g.length>0||Object.keys(p).length>0)&&(b[Te]=new it(g,p)),b}parseSegment(){const g=qt(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(g),new or(ft(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const p=qt(this.remaining);if(!p)return;this.capture(p);let b="";if(this.consumeOptional("=")){const R=qt(this.remaining);R&&(b=R,this.capture(b))}g[ft(p)]=ft(b)}parseQueryParam(g){const p=function(_){const g=_.match(So);return g?g[0]:""}(this.remaining);if(!p)return;this.capture(p);let b="";if(this.consumeOptional("=")){const K=function(_){const g=_.match(Fr);return g?g[0]:""}(this.remaining);K&&(b=K,this.capture(b))}const R=Ct(p),F=Ct(b);if(g.hasOwnProperty(R)){let K=g[R];Array.isArray(K)||(K=[K],g[R]=K),K.push(F)}else g[R]=F}parseParens(g){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=qt(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new Error(`Cannot parse url '${this.url}'`);let F;b.indexOf(":")>-1?(F=b.substr(0,b.indexOf(":")),this.capture(F),this.capture(":")):g&&(F=Te);const K=this.parseChildren();p[F]=1===Object.keys(K).length?K[Te]:new it([],K),this.consumeOptional("//")}return p}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new Error(`Expected "${g}".`)}}class Ni{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const p=this.pathFromRoot(g);return p.length>1?p[p.length-2]:null}children(g){const p=Ln(g,this._root);return p?p.children.map(b=>b.value):[]}firstChild(g){const p=Ln(g,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(g){const p=Lr(g,this._root);return p.length<2?[]:p[p.length-2].children.map(R=>R.value).filter(R=>R!==g)}pathFromRoot(g){return Lr(g,this._root).map(p=>p.value)}}function Ln(_,g){if(_===g.value)return g;for(const p of g.children){const b=Ln(_,p);if(b)return b}return null}function Lr(_,g){if(_===g.value)return[g];for(const p of g.children){const b=Lr(_,p);if(b.length)return b.unshift(g),b}return[]}class Vr{constructor(g,p){this.value=g,this.children=p}toString(){return`TreeNode(${this.value})`}}function mi(_){const g={};return _&&_.children.forEach(p=>g[p.value.outlet]=p),g}class ws extends Ni{constructor(g,p){super(g),this.snapshot=p,ds(this,g)}toString(){return this.snapshot.toString()}}function Ds(_,g){const p=function(_,g){const K=new us([],{},{},"",{},Te,g,null,_.root,-1,{});return new cs("",new Vr(K,[]))}(_,g),b=new le([new or("",{})]),R=new le({}),F=new le({}),K=new le({}),te=new le(""),we=new ai(b,R,K,te,F,Te,g,p.root);return we.snapshot=p.root,new ws(new Vr(we,[]),p)}class ai{constructor(g,p,b,R,F,K,te,we){this.url=g,this.params=p,this.queryParams=b,this.fragment=R,this.data=F,this.outlet=K,this.component=te,this._futureSnapshot=we}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(g=>Gt(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(g=>Gt(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function As(_,g="emptyOnly"){const p=_.pathFromRoot;let b=0;if("always"!==g)for(b=p.length-1;b>=1;){const R=p[b],F=p[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if(F.component)break;b--}}return function(_){return _.reduce((g,p)=>({params:Object.assign(Object.assign({},g.params),p.params),data:Object.assign(Object.assign({},g.data),p.data),resolve:Object.assign(Object.assign({},g.resolve),p._resolvedData)}),{params:{},data:{},resolve:{}})}(p.slice(b))}class us{constructor(g,p,b,R,F,K,te,we,et,Xt,Ze){this.url=g,this.params=p,this.queryParams=b,this.fragment=R,this.data=F,this.outlet=K,this.component=te,this.routeConfig=we,this._urlSegment=et,this._lastPathIndex=Xt,this._resolve=Ze}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cs extends Ni{constructor(g,p){super(p),this.url=g,ds(this,p)}toString(){return hs(this._root)}}function ds(_,g){g.value._routerState=_,g.children.forEach(p=>ds(_,p))}function hs(_){const g=_.children.length>0?` { ${_.children.map(hs).join(", ")} } `:"";return`${_.value}${g}`}function xi(_){if(_.snapshot){const g=_.snapshot,p=_._futureSnapshot;_.snapshot=p,Zt(g.queryParams,p.queryParams)||_.queryParams.next(p.queryParams),g.fragment!==p.fragment&&_.fragment.next(p.fragment),Zt(g.params,p.params)||_.params.next(p.params),function(_,g){if(_.length!==g.length)return!1;for(let p=0;p<_.length;++p)if(!Zt(_[p],g[p]))return!1;return!0}(g.url,p.url)||_.url.next(p.url),Zt(g.data,p.data)||_.data.next(p.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function _i(_,g){const p=Zt(_.params,g.params)&&function(_,g){return dt(_,g)&&_.every((p,b)=>Zt(p.parameters,g[b].parameters))}(_.url,g.url);return p&&!(!_.parent!=!g.parent)&&(!_.parent||_i(_.parent,g.parent))}function Ki(_,g,p){if(p&&_.shouldReuseRoute(g.value,p.value.snapshot)){const b=p.value;b._futureSnapshot=g.value;const R=function(_,g,p){return g.children.map(b=>{for(const R of p.children)if(_.shouldReuseRoute(b.value,R.value.snapshot))return Ki(_,b,R);return Ki(_,b)})}(_,g,p);return new Vr(b,R)}{if(_.shouldAttach(g.value)){const F=_.retrieve(g.value);if(null!==F){const K=F.route;return Mo(g,K),K}}const b=function(_){return new ai(new le(_.url),new le(_.params),new le(_.queryParams),new le(_.fragment),new le(_.data),_.outlet,_.component,_)}(g.value),R=g.children.map(F=>Ki(_,F));return new Vr(b,R)}}function Mo(_,g){if(_.value.routeConfig!==g.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(_.children.length!==g.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");g.value._futureSnapshot=_.value;for(let p=0;p<_.children.length;++p)Mo(_.children[p],g.children[p])}function ar(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Mr(_){return"object"==typeof _&&null!=_&&_.outlets}function Pr(_,g,p,b,R){let F={};return b&&Mt(b,(K,te)=>{F[te]=Array.isArray(K)?K.map(we=>`${we}`):`${K}`}),new ur(p.root===_?g:Ss(p.root,_,g),F,R)}function Ss(_,g,p){const b={};return Mt(_.children,(R,F)=>{b[F]=R===g?p:Ss(R,g,p)}),new it(_.segments,b)}class li{constructor(g,p,b){if(this.isAbsolute=g,this.numberOfDoubleDots=p,this.commands=b,g&&b.length>0&&ar(b[0]))throw new Error("Root segment cannot have matrix parameters");const R=b.find(Mr);if(R&&R!==Wi(b))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(g,p,b){this.segmentGroup=g,this.processChildren=p,this.index=b}}function ui(_,g,p){if(_||(_=new it([],{})),0===_.segments.length&&_.hasChildren())return Ei(_,g,p);const b=function(_,g,p){let b=0,R=g;const F={match:!1,pathIndex:0,commandIndex:0};for(;R<_.segments.length;){if(b>=p.length)return F;const K=_.segments[R],te=p[b];if(Mr(te))break;const we=`${te}`,et=b<p.length-1?p[b+1]:null;if(R>0&&void 0===we)break;if(we&&et&&"object"==typeof et&&void 0===et.outlets){if(!ee(we,et,K))return F;b+=2}else{if(!ee(we,{},K))return F;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(_,g,p),R=p.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const F=new it(_.segments.slice(0,b.pathIndex),{});return F.children[Te]=new it(_.segments.slice(b.pathIndex),_.children),Ei(F,0,R)}return b.match&&0===R.length?new it(_.segments,{}):b.match&&!_.hasChildren()?k(_,g,p):b.match?Ei(_,0,R):k(_,g,p)}function Ei(_,g,p){if(0===p.length)return new it(_.segments,{});{const b=function(_){return Mr(_[0])?_[0].outlets:{[Te]:_}}(p),R={};return Mt(b,(F,K)=>{"string"==typeof F&&(F=[F]),null!==F&&(R[K]=ui(_.children[K],g,F))}),Mt(_.children,(F,K)=>{void 0===b[K]&&(R[K]=F)}),new it(_.segments,R)}}function k(_,g,p){const b=_.segments.slice(0,g);let R=0;for(;R<p.length;){const F=p[R];if(Mr(F)){const we=S(F.outlets);return new it(b,we)}if(0===R&&ar(p[0])){b.push(new or(_.segments[g].path,V(p[0]))),R++;continue}const K=Mr(F)?F.outlets[Te]:`${F}`,te=R<p.length-1?p[R+1]:null;K&&te&&ar(te)?(b.push(new or(K,V(te))),R+=2):(b.push(new or(K,{})),R++)}return new it(b,{})}function S(_){const g={};return Mt(_,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(g[b]=k(new it([],{}),0,p))}),g}function V(_){const g={};return Mt(_,(p,b)=>g[b]=`${p}`),g}function ee(_,g,p){return _==p.path&&Zt(g,p.parameters)}class Fe{constructor(g,p,b,R){this.routeReuseStrategy=g,this.futureState=p,this.currState=b,this.forwardEvent=R}activate(g){const p=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,b,g),xi(this.futureState.root),this.activateChildRoutes(p,b,g)}deactivateChildRoutes(g,p,b){const R=mi(p);g.children.forEach(F=>{const K=F.value.outlet;this.deactivateRoutes(F,R[K],b),delete R[K]}),Mt(R,(F,K)=>{this.deactivateRouteAndItsChildren(F,b)})}deactivateRoutes(g,p,b){const R=g.value,F=p?p.value:null;if(R===F)if(R.component){const K=b.getContext(R.outlet);K&&this.deactivateChildRoutes(g,p,K.children)}else this.deactivateChildRoutes(g,p,b);else F&&this.deactivateRouteAndItsChildren(p,b)}deactivateRouteAndItsChildren(g,p){this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,p):this.deactivateRouteAndOutlet(g,p)}detachAndStoreRouteSubtree(g,p){const b=p.getContext(g.value.outlet);if(b&&b.outlet){const R=b.outlet.detach(),F=b.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:R,route:g,contexts:F})}}deactivateRouteAndOutlet(g,p){const b=p.getContext(g.value.outlet),R=b&&g.value.component?b.children:p,F=mi(g);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],R);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(g,p,b){const R=mi(p);g.children.forEach(F=>{this.activateRoutes(F,R[F.value.outlet],b),this.forwardEvent(new Ie(F.value.snapshot))}),g.children.length&&this.forwardEvent(new q(g.value.snapshot))}activateRoutes(g,p,b){const R=g.value,F=p?p.value:null;if(xi(R),R===F)if(R.component){const K=b.getOrCreateContext(R.outlet);this.activateChildRoutes(g,p,K.children)}else this.activateChildRoutes(g,p,b);else if(R.component){const K=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const te=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),K.children.onOutletReAttached(te.contexts),K.attachRef=te.componentRef,K.route=te.route.value,K.outlet&&K.outlet.attach(te.componentRef,te.route.value),D(te.route)}else{const te=function(_){for(let g=_.parent;g;g=g.parent){const p=g.routeConfig;if(p&&p._loadedConfig)return p._loadedConfig;if(p&&p.component)return null}return null}(R.snapshot),we=te?te.module.componentFactoryResolver:null;K.attachRef=null,K.route=R,K.resolver=we,K.outlet&&K.outlet.activateWith(R,we),this.activateChildRoutes(g,null,K.children)}}else this.activateChildRoutes(g,null,b)}}function D(_){xi(_.value),_.children.forEach(D)}class v{constructor(g,p){this.routes=g,this.module=p}}function O(_){return"function"==typeof _}function Oe(_){return _ instanceof ur}const zn=Symbol("INITIAL_VALUE");function _r(){return ut(_=>function(..._){let g,p;return(0,H.K)(_[_.length-1])&&(p=_.pop()),"function"==typeof _[_.length-1]&&(g=_.pop()),1===_.length&&(0,Le.k)(_[0])&&(_=_[0]),(0,De.n)(_,p).lift(new pt(g))}(_.map(g=>g.pipe(Ut(1),function(..._){const g=_[_.length-1];return(0,H.K)(g)?(_.pop(),p=>sr(_,p,g)):p=>sr(_,p)}(zn)))).pipe(Tr((g,p)=>{let b=!1;return p.reduce((R,F,K)=>R!==zn?R:(F===zn&&(b=!0),b||!1!==F&&K!==p.length-1&&!Oe(F)?R:F),g)},zn),un(g=>g!==zn),(0,Qe.U)(g=>Oe(g)?g:!0===g),Ut(1)))}let zr=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=x.Xpm({type:_,selectors:[["ng-component"]],decls:1,vars:0,template:function(p,b){1&p&&x._UZ(0,"router-outlet")},directives:function(){return[_s]},encapsulation:2}),_})();function nr(_,g=""){for(let p=0;p<_.length;p++){const b=_[p];Nr(b,no(g,b))}}function Nr(_,g){_.children&&nr(_.children,g)}function no(_,g){return g?_||g.path?_&&!g.path?`${_}/`:!_&&g.path?g.path:`${_}/${g.path}`:"":_}function il(_){const g=_.children&&_.children.map(il),p=g?Object.assign(Object.assign({},_),{children:g}):Object.assign({},_);return!p.component&&(g||p.loadChildren)&&p.outlet&&p.outlet!==Te&&(p.component=zr),p}function On(_){return _.outlet||Te}function ro(_,g){const p=_.filter(b=>On(b)===g);return p.push(..._.filter(b=>On(b)!==g)),p}const Ps={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vt(_,g,p){var b;if(""===g.path)return"full"===g.pathMatch&&(_.hasChildren()||p.length>0)?Object.assign({},Ps):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const F=(g.matcher||ht)(p,_,g);if(!F)return Object.assign({},Ps);const K={};Mt(F.posParams,(we,et)=>{K[et]=we.path});const te=F.consumed.length>0?Object.assign(Object.assign({},K),F.consumed[F.consumed.length-1].parameters):K;return{matched:!0,consumedSegments:F.consumed,lastChild:F.consumed.length,parameters:te,positionalParamSegments:null!==(b=F.posParams)&&void 0!==b?b:{}}}function Ta(_,g,p,b,R="corrected"){if(p.length>0&&function(_,g,p){return p.some(b=>so(_,g,b)&&On(b)!==Te)}(_,p,b)){const K=new it(g,function(_,g,p,b){const R={};R[Te]=b,b._sourceSegment=_,b._segmentIndexShift=g.length;for(const F of p)if(""===F.path&&On(F)!==Te){const K=new it([],{});K._sourceSegment=_,K._segmentIndexShift=g.length,R[On(F)]=K}return R}(_,g,b,new it(p,_.children)));return K._sourceSegment=_,K._segmentIndexShift=g.length,{segmentGroup:K,slicedSegments:[]}}if(0===p.length&&function(_,g,p){return p.some(b=>so(_,g,b))}(_,p,b)){const K=new it(_.segments,function(_,g,p,b,R,F){const K={};for(const te of b)if(so(_,p,te)&&!R[On(te)]){const we=new it([],{});we._sourceSegment=_,we._segmentIndexShift="legacy"===F?_.segments.length:g.length,K[On(te)]=we}return Object.assign(Object.assign({},R),K)}(_,g,p,b,_.children,R));return K._sourceSegment=_,K._segmentIndexShift=g.length,{segmentGroup:K,slicedSegments:p}}const F=new it(_.segments,_.children);return F._sourceSegment=_,F._segmentIndexShift=g.length,{segmentGroup:F,slicedSegments:p}}function so(_,g,p){return(!(_.hasChildren()||g.length>0)||"full"!==p.pathMatch)&&""===p.path}function al(_,g,p,b){return!!(On(_)===b||b!==Te&&so(g,p,_))&&("**"===_.path||vt(g,_,p).matched)}function xe(_,g,p){return 0===g.length&&!_.children[p]}class Lt{constructor(g){this.segmentGroup=g||null}}class No{constructor(g){this.urlTree=g}}function Pn(_){return new oe.y(g=>g.error(new Lt(_)))}function Ns(_){return new oe.y(g=>g.error(new No(_)))}function xo(_){return new oe.y(g=>g.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${_}'`)))}class ko{constructor(g,p,b,R,F){this.configLoader=p,this.urlSerializer=b,this.urlTree=R,this.config=F,this.allowRedirects=!0,this.ngModule=g.get(x.h0i)}apply(){const g=Ta(this.urlTree.root,[],[],this.config).segmentGroup,p=new it(g.segments,g.children);return this.expandSegmentGroup(this.ngModule,this.config,p,Te).pipe((0,Qe.U)(F=>this.createUrlTree(Fo(F),this.urlTree.queryParams,this.urlTree.fragment))).pipe(It(F=>{if(F instanceof No)return this.allowRedirects=!1,this.match(F.urlTree);throw F instanceof Lt?this.noMatchError(F):F}))}match(g){return this.expandSegmentGroup(this.ngModule,this.config,g.root,Te).pipe((0,Qe.U)(R=>this.createUrlTree(Fo(R),g.queryParams,g.fragment))).pipe(It(R=>{throw R instanceof Lt?this.noMatchError(R):R}))}noMatchError(g){return new Error(`Cannot match any routes. URL Segment: '${g.segmentGroup}'`)}createUrlTree(g,p,b){const R=g.segments.length>0?new it([],{[Te]:g}):g;return new ur(R,p,b)}expandSegmentGroup(g,p,b,R){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(g,p,b).pipe((0,Qe.U)(F=>new it([],F))):this.expandSegment(g,b,p,b.segments,R,!0)}expandChildren(g,p,b){const R=[];for(const F of Object.keys(b.children))"primary"===F?R.unshift(F):R.push(F);return(0,zt.D)(R).pipe(Tt(F=>{const K=b.children[F],te=ro(p,F);return this.expandSegmentGroup(g,te,K,F).pipe((0,Qe.U)(we=>({segment:we,outlet:F})))}),Tr((F,K)=>(F[K.outlet]=K.segment,F),{}),function(_,g){const p=arguments.length>=2;return b=>b.pipe(_?un((R,F)=>_(R,F,b)):er.y,ln(1),p?Jn(g):$n(()=>new He))}())}expandSegment(g,p,b,R,F,K){return(0,zt.D)(b).pipe(Tt(te=>this.expandSegmentAgainstRoute(g,p,b,te,R,F,K).pipe(It(et=>{if(et instanceof Lt)return(0,Ve.of)(null);throw et}))),Bt(te=>!!te),It((te,we)=>{if(te instanceof He||"EmptyError"===te.name){if(xe(p,R,F))return(0,Ve.of)(new it([],{}));throw new Lt(p)}throw te}))}expandSegmentAgainstRoute(g,p,b,R,F,K,te){return al(R,p,F,K)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(g,p,R,F,K):te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,p,b,R,F,K):Pn(p):Pn(p)}expandSegmentAgainstRouteUsingRedirect(g,p,b,R,F,K){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,b,R,K):this.expandRegularSegmentAgainstRouteUsingRedirect(g,p,b,R,F,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,p,b,R){const F=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Ns(F):this.lineralizeSegments(b,F).pipe((0,cn.zg)(K=>{const te=new it(K,{});return this.expandSegment(g,te,p,K,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,p,b,R,F,K){const{matched:te,consumedSegments:we,lastChild:et,positionalParamSegments:Xt}=vt(p,R,F);if(!te)return Pn(p);const Ze=this.applyRedirectCommands(we,R.redirectTo,Xt);return R.redirectTo.startsWith("/")?Ns(Ze):this.lineralizeSegments(R,Ze).pipe((0,cn.zg)(Tn=>this.expandSegment(g,p,b,Tn.concat(F.slice(et)),K,!1)))}matchSegmentAgainstRoute(g,p,b,R,F){if("**"===b.path)return b.loadChildren?(b._loadedConfig?(0,Ve.of)(b._loadedConfig):this.configLoader.load(g.injector,b)).pipe((0,Qe.U)(Tn=>(b._loadedConfig=Tn,new it(R,{})))):(0,Ve.of)(new it(R,{}));const{matched:K,consumedSegments:te,lastChild:we}=vt(p,b,R);if(!K)return Pn(p);const et=R.slice(we);return this.getChildConfig(g,b,R).pipe((0,cn.zg)(Ze=>{const Tn=Ze.module,Jt=Ze.routes,{segmentGroup:Vs,slicedSegments:Li}=Ta(p,te,et,Jt),Ji=new it(Vs.segments,Vs.children);if(0===Li.length&&Ji.hasChildren())return this.expandChildren(Tn,Jt,Ji).pipe((0,Qe.U)(bl=>new it(te,bl)));if(0===Jt.length&&0===Li.length)return(0,Ve.of)(new it(te,{}));const qo=On(b)===F;return this.expandSegment(Tn,Ji,Jt,Li,qo?Te:F,!0).pipe((0,Qe.U)(Us=>new it(te.concat(Us.segments),Us.children)))}))}getChildConfig(g,p,b){return p.children?(0,Ve.of)(new v(p.children,g)):p.loadChildren?void 0!==p._loadedConfig?(0,Ve.of)(p._loadedConfig):this.runCanLoadGuards(g.injector,p,b).pipe((0,cn.zg)(R=>{return R?this.configLoader.load(g.injector,p).pipe((0,Qe.U)(F=>(p._loadedConfig=F,F))):(_=p,new oe.y(g=>g.error(bn(`Cannot load children because the guard of the route "path: '${_.path}'" returned false`))));var _})):(0,Ve.of)(new v([],g))}runCanLoadGuards(g,p,b){const R=p.canLoad;if(!R||0===R.length)return(0,Ve.of)(!0);const F=R.map(K=>{const te=g.get(K);let we;if((_=te)&&O(_.canLoad))we=te.canLoad(p,b);else{if(!O(te))throw new Error("Invalid CanLoad guard");we=te(p,b)}var _;return dn(we)});return(0,Ve.of)(F).pipe(_r(),(0,jt.b)(K=>{if(!Oe(K))return;const te=bn(`Redirecting to "${this.urlSerializer.serialize(K)}"`);throw te.url=K,te}),(0,Qe.U)(K=>!0===K))}lineralizeSegments(g,p){let b=[],R=p.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,Ve.of)(b);if(R.numberOfChildren>1||!R.children[Te])return xo(g.redirectTo);R=R.children[Te]}}applyRedirectCommands(g,p,b){return this.applyRedirectCreatreUrlTree(p,this.urlSerializer.parse(p),g,b)}applyRedirectCreatreUrlTree(g,p,b,R){const F=this.createSegmentGroup(g,p.root,b,R);return new ur(F,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(g,p){const b={};return Mt(g,(R,F)=>{if("string"==typeof R&&R.startsWith(":")){const te=R.substring(1);b[F]=p[te]}else b[F]=R}),b}createSegmentGroup(g,p,b,R){const F=this.createSegments(g,p.segments,b,R);let K={};return Mt(p.children,(te,we)=>{K[we]=this.createSegmentGroup(g,te,b,R)}),new it(F,K)}createSegments(g,p,b,R){return p.map(F=>F.path.startsWith(":")?this.findPosParam(g,F,R):this.findOrReturn(F,b))}findPosParam(g,p,b){const R=b[p.path.substring(1)];if(!R)throw new Error(`Cannot redirect to '${g}'. Cannot find '${p.path}'.`);return R}findOrReturn(g,p){let b=0;for(const R of p){if(R.path===g.path)return p.splice(b),R;b++}return g}}function Fo(_){const g={};for(const b of Object.keys(_.children)){const F=Fo(_.children[b]);(F.segments.length>0||F.hasChildren())&&(g[b]=F)}return function(_){if(1===_.numberOfChildren&&_.children[Te]){const g=_.children[Te];return new it(_.segments.concat(g.segments),g.children)}return _}(new it(_.segments,g))}class fs{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class Un{constructor(g,p){this.component=g,this.route=p}}function ci(_,g,p){const b=_._root;return oo(b,g?g._root:null,p,[b.value])}function ps(_,g,p){const b=function(_){if(!_)return null;for(let g=_.parent;g;g=g.parent){const p=g.routeConfig;if(p&&p._loadedConfig)return p._loadedConfig}return null}(g);return(b?b.module.injector:p).get(_)}function oo(_,g,p,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const F=mi(g);return _.children.forEach(K=>{(function(_,g,p,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const F=_.value,K=g?g.value:null,te=p?p.getContext(_.value.outlet):null;if(K&&F.routeConfig===K.routeConfig){const we=function(_,g,p){if("function"==typeof p)return p(_,g);switch(p){case"pathParamsChange":return!dt(_.url,g.url);case"pathParamsOrQueryParamsChange":return!dt(_.url,g.url)||!Zt(_.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_i(_,g)||!Zt(_.queryParams,g.queryParams);default:return!_i(_,g)}}(K,F,F.routeConfig.runGuardsAndResolvers);we?R.canActivateChecks.push(new fs(b)):(F.data=K.data,F._resolvedData=K._resolvedData),oo(_,g,F.component?te?te.children:null:p,b,R),we&&te&&te.outlet&&te.outlet.isActivated&&R.canDeactivateChecks.push(new Un(te.outlet.component,K))}else K&&Os(g,te,R),R.canActivateChecks.push(new fs(b)),oo(_,null,F.component?te?te.children:null:p,b,R)})(K,F[K.value.outlet],p,b.concat([K.value]),R),delete F[K.value.outlet]}),Mt(F,(K,te)=>Os(K,p.getContext(te),R)),R}function Os(_,g,p){const b=mi(_),R=_.value;Mt(b,(F,K)=>{Os(F,R.component?g?g.children.getContext(K):null:g,p)}),p.canDeactivateChecks.push(new Un(R.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,R))}class cl{}function Aa(_){return new oe.y(g=>g.error(_))}class Bo{constructor(g,p,b,R,F,K){this.rootComponentType=g,this.config=p,this.urlTree=b,this.url=R,this.paramsInheritanceStrategy=F,this.relativeLinkResolution=K}recognize(){const g=Ta(this.urlTree.root,[],[],this.config.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution).segmentGroup,p=this.processSegmentGroup(this.config,g,Te);if(null===p)return null;const b=new us([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new Vr(b,p),F=new cs(this.url,R);return this.inheritParamsAndData(F._root),F}inheritParamsAndData(g){const p=g.value,b=As(p,this.paramsInheritanceStrategy);p.params=Object.freeze(b.params),p.data=Object.freeze(b.data),g.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(g,p,b){return 0===p.segments.length&&p.hasChildren()?this.processChildren(g,p):this.processSegment(g,p,p.segments,b)}processChildren(g,p){const b=[];for(const F of Object.keys(p.children)){const K=p.children[F],te=ro(g,F),we=this.processSegmentGroup(te,K,F);if(null===we)return null;b.push(...we)}const R=bi(b);return R.sort((g,p)=>g.value.outlet===Te?-1:p.value.outlet===Te?1:g.value.outlet.localeCompare(p.value.outlet)),R}processSegment(g,p,b,R){for(const F of g){const K=this.processSegmentAgainstRoute(F,p,b,R);if(null!==K)return K}return xe(p,b,R)?[]:null}processSegmentAgainstRoute(g,p,b,R){if(g.redirectTo||!al(g,p,b,R))return null;let F,K=[],te=[];if("**"===g.path){const Jt=b.length>0?Wi(b).parameters:{};F=new us(b,Jt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$o(g),On(g),g.component,g,jo(p),yr(p)+b.length,eu(g))}else{const Jt=vt(p,g,b);if(!Jt.matched)return null;K=Jt.consumedSegments,te=b.slice(Jt.lastChild),F=new us(K,Jt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$o(g),On(g),g.component,g,jo(p),yr(p)+K.length,eu(g))}const we=(_=g).children?_.children:_.loadChildren?_._loadedConfig.routes:[],{segmentGroup:et,slicedSegments:Xt}=Ta(p,K,te,we.filter(Jt=>void 0===Jt.redirectTo),this.relativeLinkResolution);var _;if(0===Xt.length&&et.hasChildren()){const Jt=this.processChildren(we,et);return null===Jt?null:[new Vr(F,Jt)]}if(0===we.length&&0===Xt.length)return[new Vr(F,[])];const Ze=On(g)===R,Tn=this.processSegment(we,et,Xt,Ze?Te:R);return null===Tn?null:[new Vr(F,Tn)]}}function qr(_){const g=_.value.routeConfig;return g&&""===g.path&&void 0===g.redirectTo}function bi(_){const g=[],p=new Set;for(const b of _){if(!qr(b)){g.push(b);continue}const R=g.find(F=>b.value.routeConfig===F.value.routeConfig);void 0!==R?(R.children.push(...b.children),p.add(R)):g.push(b)}for(const b of p){const R=bi(b.children);g.push(new Vr(b.value,R))}return g.filter(b=>!p.has(b))}function jo(_){let g=_;for(;g._sourceSegment;)g=g._sourceSegment;return g}function yr(_){let g=_,p=g._segmentIndexShift?g._segmentIndexShift:0;for(;g._sourceSegment;)g=g._sourceSegment,p+=g._segmentIndexShift?g._segmentIndexShift:0;return p-1}function $o(_){return _.data||{}}function eu(_){return _.resolve||{}}function lo(_){return ut(g=>{const p=_(g);return p?(0,zt.D)(p).pipe((0,Qe.U)(()=>g)):(0,Ve.of)(g)})}class ki extends class{shouldDetach(g){return!1}store(g,p){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,p){return g.routeConfig===p.routeConfig}}{}const dr=new x.OlP("ROUTES");class tu{constructor(g,p,b,R){this.loader=g,this.compiler=p,this.onLoadStartListener=b,this.onLoadEndListener=R}load(g,p){if(p._loader$)return p._loader$;this.onLoadStartListener&&this.onLoadStartListener(p);const R=this.loadModuleFactory(p.loadChildren).pipe((0,Qe.U)(F=>{this.onLoadEndListener&&this.onLoadEndListener(p);const K=F.create(g);return new v(Zr(K.injector.get(dr,void 0,x.XFs.Self|x.XFs.Optional)).map(il),K)}),It(F=>{throw p._loader$=void 0,F}));return p._loader$=new nt.c(R,()=>new fe.xQ).pipe((0,Rn.x)()),p._loader$}loadModuleFactory(g){return"string"==typeof g?(0,zt.D)(this.loader.load(g)):dn(g()).pipe((0,cn.zg)(p=>p instanceof x.YKP?(0,Ve.of)(p):(0,zt.D)(this.compiler.compileModuleAsync(p))))}}class Zu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fi,this.attachRef=null}}class Fi{constructor(){this.contexts=new Map}onChildOutletCreated(g,p){const b=this.getOrCreateContext(g);b.outlet=p,this.contexts.set(g,b)}onChildOutletDestroyed(g){const p=this.getContext(g);p&&(p.outlet=null,p.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let p=this.getContext(g);return p||(p=new Zu,this.contexts.set(g,p)),p}getContext(g){return this.contexts.get(g)||null}}class pd{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,p){return g}}function gd(_){throw _}function nu(_,g,p){return g.parse("/")}function Ju(_,g){return(0,Ve.of)(null)}const Go={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ru={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vr=(()=>{class _{constructor(p,b,R,F,K,te,we,et){this.rootComponentType=p,this.urlSerializer=b,this.rootContexts=R,this.location=F,this.config=et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.xQ,this.errorHandler=gd,this.malformedUriErrorHandler=nu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ju,afterPreactivation:Ju},this.urlHandlingStrategy=new pd,this.routeReuseStrategy=new ki,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=K.get(x.h0i),this.console=K.get(x.c2e);const Tn=K.get(x.R0b);this.isNgZoneEnabled=Tn instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(et),this.currentUrlTree=new ur(new it([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tu(te,we,Jt=>this.triggerEvent(new mt(Jt)),Jt=>this.triggerEvent(new Xe(Jt))),this.routerState=Ds(this.currentUrlTree,this.rootComponentType),this.transitions=new le({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var p;return null===(p=this.location.getState())||void 0===p?void 0:p.\u0275routerPageId}setupNavigations(p){const b=this.events;return p.pipe(un(R=>0!==R.id),(0,Qe.U)(R=>Object.assign(Object.assign({},R),{extractedUrl:this.urlHandlingStrategy.extract(R.rawUrl)})),ut(R=>{let F=!1,K=!1;return(0,Ve.of)(R).pipe((0,jt.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.currentRawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ut(te=>{const we=this.browserUrlTree.toString(),et=!this.navigated||te.extractedUrl.toString()!==we||we!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||et)&&this.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return Pa(te.source)&&(this.browserUrlTree=te.extractedUrl),(0,Ve.of)(te).pipe(ut(Ze=>{const Tn=this.transitions.getValue();return b.next(new Sr(Ze.id,this.serializeUrl(Ze.extractedUrl),Ze.source,Ze.restoredState)),Tn!==this.transitions.getValue()?Ce.E:Promise.resolve(Ze)}),function(_,g,p,b){return ut(R=>function(_,g,p,b,R){return new ko(_,g,p,b,R).apply()}(_,g,p,R.extractedUrl,b).pipe((0,Qe.U)(F=>Object.assign(Object.assign({},R),{urlAfterRedirects:F}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jt.b)(Ze=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ze.urlAfterRedirects})}),function(_,g,p,b,R){return(0,cn.zg)(F=>function(_,g,p,b,R="emptyOnly",F="legacy"){try{const K=new Bo(_,g,p,b,R,F).recognize();return null===K?Aa(new cl):(0,Ve.of)(K)}catch(K){return Aa(K)}}(_,g,F.urlAfterRedirects,p(F.urlAfterRedirects),b,R).pipe((0,Qe.U)(K=>Object.assign(Object.assign({},F),{targetSnapshot:K}))))}(this.rootComponentType,this.config,Ze=>this.serializeUrl(Ze),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jt.b)(Ze=>{"eager"===this.urlUpdateStrategy&&(Ze.extras.skipLocationChange||this.setBrowserUrl(Ze.urlAfterRedirects,Ze),this.browserUrlTree=Ze.urlAfterRedirects);const Tn=new Hr(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);b.next(Tn)}));if(et&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Tn,extractedUrl:Jt,source:Vs,restoredState:Li,extras:Ji}=te,qo=new Sr(Tn,this.serializeUrl(Jt),Vs,Li);b.next(qo);const hr=Ds(Jt,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},te),{targetSnapshot:hr,urlAfterRedirects:Jt,extras:Object.assign(Object.assign({},Ji),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=te.rawUrl,this.browserUrlTree=te.urlAfterRedirects,te.resolve(null),Ce.E}),lo(te=>{const{targetSnapshot:we,id:et,extractedUrl:Xt,rawUrl:Ze,extras:{skipLocationChange:Tn,replaceUrl:Jt}}=te;return this.hooks.beforePreactivation(we,{navigationId:et,appliedUrlTree:Xt,rawUrlTree:Ze,skipLocationChange:!!Tn,replaceUrl:!!Jt})}),(0,jt.b)(te=>{const we=new ze(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot);this.triggerEvent(we)}),(0,Qe.U)(te=>Object.assign(Object.assign({},te),{guards:ci(te.targetSnapshot,te.currentSnapshot,this.rootContexts)})),function(_,g){return(0,cn.zg)(p=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:F,canDeactivateChecks:K}}=p;return 0===K.length&&0===F.length?(0,Ve.of)(Object.assign(Object.assign({},p),{guardsResult:!0})):function(_,g,p,b){return(0,zt.D)(_).pipe((0,cn.zg)(R=>function(_,g,p,b,R){const F=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,Ve.of)(!0);const K=F.map(te=>{const we=ps(te,g,R);let et;if(function(_){return _&&O(_.canDeactivate)}(we))et=dn(we.canDeactivate(_,g,p,b));else{if(!O(we))throw new Error("Invalid CanDeactivate guard");et=dn(we(_,g,p,b))}return et.pipe(Bt())});return(0,Ve.of)(K).pipe(_r())}(R.component,R.route,p,g,b)),Bt(R=>!0!==R,!0))}(K,b,R,_).pipe((0,cn.zg)(te=>te&&function(_){return"boolean"==typeof _}(te)?function(_,g,p,b){return(0,zt.D)(g).pipe(Tt(R=>sr(function(_,g){return null!==_&&g&&g(new J(_)),(0,Ve.of)(!0)}(R.route.parent,b),function(_,g){return null!==_&&g&&g(new ie(_)),(0,Ve.of)(!0)}(R.route,b),function(_,g,p){const b=g[g.length-1],F=g.slice(0,g.length-1).reverse().map(K=>function(_){const g=_.routeConfig?_.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:_,guards:g}:null}(K)).filter(K=>null!==K).map(K=>Be(()=>{const te=K.guards.map(we=>{const et=ps(we,K.node,p);let Xt;if(function(_){return _&&O(_.canActivateChild)}(et))Xt=dn(et.canActivateChild(b,_));else{if(!O(et))throw new Error("Invalid CanActivateChild guard");Xt=dn(et(b,_))}return Xt.pipe(Bt())});return(0,Ve.of)(te).pipe(_r())}));return(0,Ve.of)(F).pipe(_r())}(_,R.path,p),function(_,g,p){const b=g.routeConfig?g.routeConfig.canActivate:null;if(!b||0===b.length)return(0,Ve.of)(!0);const R=b.map(F=>Be(()=>{const K=ps(F,g,p);let te;if(function(_){return _&&O(_.canActivate)}(K))te=dn(K.canActivate(g,_));else{if(!O(K))throw new Error("Invalid CanActivate guard");te=dn(K(g,_))}return te.pipe(Bt())}));return(0,Ve.of)(R).pipe(_r())}(_,R.route,p))),Bt(R=>!0!==R,!0))}(b,F,_,g):(0,Ve.of)(te)),(0,Qe.U)(te=>Object.assign(Object.assign({},p),{guardsResult:te})))})}(this.ngModule.injector,te=>this.triggerEvent(te)),(0,jt.b)(te=>{if(Oe(te.guardsResult)){const et=bn(`Redirecting to "${this.serializeUrl(te.guardsResult)}"`);throw et.url=te.guardsResult,et}const we=new me(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.triggerEvent(we)}),un(te=>!!te.guardsResult||(this.restoreHistory(te),this.cancelNavigationTransition(te,""),!1)),lo(te=>{if(te.guards.canActivateChecks.length)return(0,Ve.of)(te).pipe((0,jt.b)(we=>{const et=new Ke(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(et)}),ut(we=>{let et=!1;return(0,Ve.of)(we).pipe(function(_,g){return(0,cn.zg)(p=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=p;if(!R.length)return(0,Ve.of)(p);let F=0;return(0,zt.D)(R).pipe(Tt(K=>function(_,g,p,b){return function(_,g,p,b){const R=Object.keys(_);if(0===R.length)return(0,Ve.of)({});const F={};return(0,zt.D)(R).pipe((0,cn.zg)(K=>function(_,g,p,b){const R=ps(_,g,b);return dn(R.resolve?R.resolve(g,p):R(g,p))}(_[K],g,p,b).pipe((0,jt.b)(te=>{F[K]=te}))),ln(1),(0,cn.zg)(()=>Object.keys(F).length===R.length?(0,Ve.of)(F):Ce.E))}(_._resolve,_,g,b).pipe((0,Qe.U)(F=>(_._resolvedData=F,_.data=Object.assign(Object.assign({},_.data),As(_,p).resolve),null)))}(K.route,b,_,g)),(0,jt.b)(()=>F++),ln(1),(0,cn.zg)(K=>F===R.length?(0,Ve.of)(p):Ce.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jt.b)({next:()=>et=!0,complete:()=>{et||(this.restoreHistory(we),this.cancelNavigationTransition(we,"At least one route resolver didn't emit any value."))}}))}),(0,jt.b)(we=>{const et=new wt(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(et)}))}),lo(te=>{const{targetSnapshot:we,id:et,extractedUrl:Xt,rawUrl:Ze,extras:{skipLocationChange:Tn,replaceUrl:Jt}}=te;return this.hooks.afterPreactivation(we,{navigationId:et,appliedUrlTree:Xt,rawUrlTree:Ze,skipLocationChange:!!Tn,replaceUrl:!!Jt})}),(0,Qe.U)(te=>{const we=function(_,g,p){const b=Ki(_,g._root,p?p._root:void 0);return new ws(b,g)}(this.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return Object.assign(Object.assign({},te),{targetRouterState:we})}),(0,jt.b)(te=>{this.currentUrlTree=te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),this.routerState=te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,te),this.browserUrlTree=te.urlAfterRedirects)}),((_,g,p)=>(0,Qe.U)(b=>(new Fe(g,b.targetRouterState,b.currentRouterState,p).activate(_),b)))(this.rootContexts,this.routeReuseStrategy,te=>this.triggerEvent(te)),(0,jt.b)({next(){F=!0},complete(){F=!0}}),function(_){return g=>g.lift(new Qr(_))}(()=>{var te;if(!F&&!K){const we=`Navigation ID ${R.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(R),this.cancelNavigationTransition(R,we)):this.cancelNavigationTransition(R,we)}(null===(te=this.currentNavigation)||void 0===te?void 0:te.id)===R.id&&(this.currentNavigation=null)}),It(te=>{if(K=!0,function(_){return _&&_[Cn]}(te)){const we=Oe(te.url);we||(this.navigated=!0,this.restoreHistory(R,!0));const et=new sn(R.id,this.serializeUrl(R.extractedUrl),te.message);b.next(et),we?setTimeout(()=>{const Xt=this.urlHandlingStrategy.merge(te.url,this.rawUrlTree),Ze={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pa(R.source)};this.scheduleNavigation(Xt,"imperative",null,Ze,{resolve:R.resolve,reject:R.reject,promise:R.promise})},0):R.resolve(!1)}else{this.restoreHistory(R,!0);const we=new St(R.id,this.serializeUrl(R.extractedUrl),te);b.next(we);try{R.resolve(this.errorHandler(te))}catch(et){R.reject(et)}}return Ce.E}))}))}resetRootComponentType(p){this.rootComponentType=p,this.routerState.root.component=this.rootComponentType}getTransition(){const p=this.transitions.value;return p.urlAfterRedirects=this.browserUrlTree,p}setTransition(p){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),p))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const b=this.extractLocationChangeInfoFromEvent(p);this.shouldScheduleNavigation(this.lastLocationChangeInfo,b)&&setTimeout(()=>{const{source:R,state:F,urlTree:K}=b,te={replaceUrl:!0};if(F){const we=Object.assign({},F);delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(te.state=we)}this.scheduleNavigation(K,R,F,te)},0),this.lastLocationChangeInfo=b}))}extractLocationChangeInfoFromEvent(p){var b;return{source:"popstate"===p.type?"popstate":"hashchange",urlTree:this.parseUrl(p.url),state:(null===(b=p.state)||void 0===b?void 0:b.navigationId)?p.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(p,b){if(!p)return!0;const R=b.urlTree.toString()===p.urlTree.toString();return b.transitionId!==p.transitionId||!R||!("hashchange"===b.source&&"popstate"===p.source||"popstate"===b.source&&"hashchange"===p.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(p){this.events.next(p)}resetConfig(p){nr(p),this.config=p.map(il),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,b={}){const{relativeTo:R,queryParams:F,fragment:K,queryParamsHandling:te,preserveFragment:we}=b,et=R||this.routerState.root,Xt=we?this.currentUrlTree.fragment:K;let Ze=null;switch(te){case"merge":Ze=Object.assign(Object.assign({},this.currentUrlTree.queryParams),F);break;case"preserve":Ze=this.currentUrlTree.queryParams;break;default:Ze=F||null}return null!==Ze&&(Ze=this.removeEmptyProps(Ze)),function(_,g,p,b,R){if(0===p.length)return Pr(g.root,g.root,g,b,R);const F=function(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new li(!0,0,_);let g=0,p=!1;const b=_.reduce((R,F,K)=>{if("object"==typeof F&&null!=F){if(F.outlets){const te={};return Mt(F.outlets,(we,et)=>{te[et]="string"==typeof we?we.split("/"):we}),[...R,{outlets:te}]}if(F.segmentPath)return[...R,F.segmentPath]}return"string"!=typeof F?[...R,F]:0===K?(F.split("/").forEach((te,we)=>{0==we&&"."===te||(0==we&&""===te?p=!0:".."===te?g++:""!=te&&R.push(te))}),R):[...R,F]},[]);return new li(p,g,b)}(p);if(F.toRoot())return Pr(g.root,new it([],{}),g,b,R);const K=function(_,g,p){if(_.isAbsolute)return new vi(g.root,!0,0);if(-1===p.snapshot._lastPathIndex){const F=p.snapshot._urlSegment;return new vi(F,F===g.root,0)}const b=ar(_.commands[0])?0:1;return function(_,g,p){let b=_,R=g,F=p;for(;F>R;){if(F-=R,b=b.parent,!b)throw new Error("Invalid number of '../'");R=b.segments.length}return new vi(b,!1,R-F)}(p.snapshot._urlSegment,p.snapshot._lastPathIndex+b,_.numberOfDoubleDots)}(F,g,_),te=K.processChildren?Ei(K.segmentGroup,K.index,F.commands):ui(K.segmentGroup,K.index,F.commands);return Pr(K.segmentGroup,te,g,b,R)}(et,this.currentUrlTree,p,Ze,null!=Xt?Xt:null)}navigateByUrl(p,b={skipLocationChange:!1}){const R=Oe(p)?p:this.parseUrl(p),F=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(F,"imperative",null,b)}navigate(p,b={skipLocationChange:!1}){return function(_){for(let g=0;g<_.length;g++){const p=_[g];if(null==p)throw new Error(`The requested path contains ${p} segment at index ${g}`)}}(p),this.navigateByUrl(this.createUrlTree(p,b),b)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let b;try{b=this.urlSerializer.parse(p)}catch(R){b=this.malformedUriErrorHandler(R,this.urlSerializer,p)}return b}isActive(p,b){let R;if(R=!0===b?Object.assign({},Go):!1===b?Object.assign({},ru):b,Oe(p))return tr(this.currentUrlTree,p,R);const F=this.parseUrl(p);return tr(this.currentUrlTree,F,R)}removeEmptyProps(p){return Object.keys(p).reduce((b,R)=>{const F=p[R];return null!=F&&(b[R]=F),b},{})}processNavigations(){this.navigations.subscribe(p=>{this.navigated=!0,this.lastSuccessfulId=p.id,this.currentPageId=p.targetPageId,this.events.next(new qe(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,p.resolve(!0)},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}scheduleNavigation(p,b,R,F,K){var te,we;if(this.disposed)return Promise.resolve(!1);const et=this.getTransition(),Xt=Pa(b)&&et&&!Pa(et.source),Jt=(this.lastSuccessfulId===et.id||this.currentNavigation?et.rawUrl:et.urlAfterRedirects).toString()===p.toString();if(Xt&&Jt)return Promise.resolve(!0);let Vs,Li,Ji;K?(Vs=K.resolve,Li=K.reject,Ji=K.promise):Ji=new Promise((Us,bl)=>{Vs=Us,Li=bl});const qo=++this.navigationId;let hr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(R=this.location.getState()),hr=R&&R.\u0275routerPageId?R.\u0275routerPageId:F.replaceUrl||F.skipLocationChange?null!==(te=this.browserPageId)&&void 0!==te?te:0:(null!==(we=this.browserPageId)&&void 0!==we?we:0)+1):hr=0,this.setTransition({id:qo,targetPageId:hr,source:b,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:p,extras:F,resolve:Vs,reject:Li,promise:Ji,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ji.catch(Us=>Promise.reject(Us))}setBrowserUrl(p,b){const R=this.urlSerializer.serialize(p),F=Object.assign(Object.assign({},b.extras.state),this.generateNgRouterState(b.id,b.targetPageId));this.location.isCurrentPathEqualTo(R)||b.extras.replaceUrl?this.location.replaceState(R,"",F):this.location.go(R,"",F)}restoreHistory(p,b=!1){var R,F;if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-p.targetPageId;"popstate"!==p.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(R=this.currentNavigation)||void 0===R?void 0:R.finalUrl)||0===K?this.currentUrlTree===(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)&&0===K&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(K)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(p,b){const R=new sn(p.id,this.serializeUrl(p.extractedUrl),b);this.triggerEvent(R),p.resolve(!1)}generateNgRouterState(p,b){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:b}:{navigationId:p}}}return _.\u0275fac=function(p){return new(p||_)(x.LFG(x.DyG),x.LFG(kr),x.LFG(Fi),x.LFG(T.Ye),x.LFG(x.zs3),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(void 0))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})();function Pa(_){return"imperative"!==_}let _s=(()=>{class _{constructor(p,b,R,F,K){this.parentContexts=p,this.location=b,this.resolver=R,this.changeDetector=K,this.activated=null,this._activatedRoute=null,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.name=F||Te,p.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const p=this.parentContexts.getContext(this.name);p&&p.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,p}attach(p,b){this.activated=p,this._activatedRoute=b,this.location.insert(p.hostView)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,b){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;const K=(b=b||this.resolver).resolveComponentFactory(p._futureSnapshot.routeConfig.component),te=this.parentContexts.getOrCreateContext(this.name).children,we=new md(p,te,this.location.injector);this.activated=this.location.createComponent(K,this.location.length,we),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(p){return new(p||_)(x.Y36(Fi),x.Y36(x.s_b),x.Y36(x._Vd),x.$8M("name"),x.Y36(x.sBO))},_.\u0275dir=x.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_})();class md{constructor(g,p,b){this.route=g,this.childContexts=p,this.parent=b}get(g,p){return g===ai?this.route:g===Fi?this.childContexts:this.parent.get(g,p)}}class Ls{}class ml{preload(g,p){return(0,Ve.of)(null)}}let _l=(()=>{class _{constructor(p,b,R,F,K){this.router=p,this.injector=F,this.preloadingStrategy=K,this.loader=new tu(b,R,et=>p.triggerEvent(new mt(et)),et=>p.triggerEvent(new Xe(et)))}setUpPreloading(){this.subscription=this.router.events.pipe(un(p=>p instanceof qe),Tt(()=>this.preload())).subscribe(()=>{})}preload(){const p=this.injector.get(x.h0i);return this.processRoutes(p,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,b){const R=[];for(const F of b)if(F.loadChildren&&!F.canLoad&&F._loadedConfig){const K=F._loadedConfig;R.push(this.processRoutes(K.module,K.routes))}else F.loadChildren&&!F.canLoad?R.push(this.preloadConfig(p,F)):F.children&&R.push(this.processRoutes(p,F.children));return(0,zt.D)(R).pipe((0,Qt.J)(),(0,Qe.U)(F=>{}))}preloadConfig(p,b){return this.preloadingStrategy.preload(b,()=>(b._loadedConfig?(0,Ve.of)(b._loadedConfig):this.loader.load(p.injector,b)).pipe((0,cn.zg)(F=>(b._loadedConfig=F,this.processRoutes(F.module,F.routes)))))}}return _.\u0275fac=function(p){return new(p||_)(x.LFG(vr),x.LFG(x.v3s),x.LFG(x.Sil),x.LFG(x.zs3),x.LFG(Ls))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})(),ys=(()=>{class _{constructor(p,b,R={}){this.router=p,this.viewportScroller=b,this.options=R,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},R.scrollPositionRestoration=R.scrollPositionRestoration||"disabled",R.anchorScrolling=R.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(p=>{p instanceof Sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof qe&&(this.lastId=p.id,this.scheduleScrollEvent(p,this.router.parseUrl(p.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(p=>{p instanceof he&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,b){this.router.triggerEvent(new he(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(p){return new(p||_)(x.LFG(vr),x.LFG(T.EM),x.LFG(void 0))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})();const Qi=new x.OlP("ROUTER_CONFIGURATION"),Wo=new x.OlP("ROUTER_FORROOT_GUARD"),El=[T.Ye,{provide:kr,useClass:Xr},{provide:vr,useFactory:function(_,g,p,b,R,F,K,te={},we,et){const Xt=new vr(null,_,g,p,b,R,F,Zr(K));return we&&(Xt.urlHandlingStrategy=we),et&&(Xt.routeReuseStrategy=et),function(_,g){_.errorHandler&&(g.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(g.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(g.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(g.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(g.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(g.urlUpdateStrategy=_.urlUpdateStrategy)}(te,Xt),te.enableTracing&&Xt.events.subscribe(Ze=>{var Tn,Jt;null===(Tn=console.group)||void 0===Tn||Tn.call(console,`Router Event: ${Ze.constructor.name}`),console.log(Ze.toString()),console.log(Ze),null===(Jt=console.groupEnd)||void 0===Jt||Jt.call(console)}),Xt},deps:[kr,Fi,T.Ye,x.zs3,x.v3s,x.Sil,dr,Qi,[class{},new x.FiY],[class{},new x.FiY]]},Fi,{provide:ai,useFactory:function(_){return _.routerState.root},deps:[vr]},{provide:x.v3s,useClass:x.EAV},_l,ml,class{preload(g,p){return p().pipe(It(()=>(0,Ve.of)(null)))}},{provide:Qi,useValue:{enableTracing:!1}}];function Xu(){return new x.PXZ("Router",vr)}let zo=(()=>{class _{constructor(p,b){}static forRoot(p,b){return{ngModule:_,providers:[El,iu(p),{provide:Wo,useFactory:xa,deps:[[vr,new x.FiY,new x.tp0]]},{provide:Qi,useValue:b||{}},{provide:T.S$,useFactory:Zi,deps:[T.lw,[new x.tBr(T.mr),new x.FiY],Qi]},{provide:ys,useFactory:ec,deps:[vr,T.EM,Qi]},{provide:Ls,useExisting:b&&b.preloadingStrategy?b.preloadingStrategy:ml},{provide:x.PXZ,multi:!0,useFactory:Xu},[Ii,{provide:x.ip1,multi:!0,useFactory:ho,deps:[Ii]},{provide:su,useFactory:Oa,deps:[Ii]},{provide:x.tb,multi:!0,useExisting:su}]]}}static forChild(p){return{ngModule:_,providers:[iu(p)]}}}return _.\u0275fac=function(p){return new(p||_)(x.LFG(Wo,8),x.LFG(vr,8))},_.\u0275mod=x.oAB({type:_}),_.\u0275inj=x.cJS({}),_})();function ec(_,g,p){return p.scrollOffset&&g.setOffset(p.scrollOffset),new ys(_,g,p)}function Zi(_,g,p={}){return p.useHash?new T.Do(_,g):new T.b0(_,g)}function xa(_){return"guarded"}function iu(_){return[{provide:x.deG,multi:!0,useValue:_},{provide:dr,multi:!0,useValue:_}]}let Ii=(()=>{class _{constructor(p){this.injector=p,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe.xQ}appInitializer(){return this.injector.get(T.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let b=null;const R=new Promise(te=>b=te),F=this.injector.get(vr),K=this.injector.get(Qi);return"disabled"===K.initialNavigation?(F.setUpLocationChangeListener(),b(!0)):"enabled"===K.initialNavigation||"enabledBlocking"===K.initialNavigation?(F.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,b(!0),this.resultOfPreactivationDone),F.initialNavigation()):b(!0),R})}bootstrapListener(p){const b=this.injector.get(Qi),R=this.injector.get(_l),F=this.injector.get(ys),K=this.injector.get(vr),te=this.injector.get(x.z2F);p===te.components[0]&&(("enabledNonBlocking"===b.initialNavigation||void 0===b.initialNavigation)&&K.initialNavigation(),R.setUpPreloading(),F.init(),K.resetRootComponentType(te.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return _.\u0275fac=function(p){return new(p||_)(x.LFG(x.zs3))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})();function ho(_){return _.appInitializer.bind(_)}function Oa(_){return _.bootstrapListener.bind(_)}const su=new x.OlP("Router Initializer")},3854:(ct,Pe,z)=>{"use strict";z.d(Pe,{BH:()=>Ut,LL:()=>Tr,ZR:()=>Qn,gQ:()=>Xn,zI:()=>Ce,hu:()=>x,g5:()=>fe,US:()=>H,tV:()=>ye,h$:()=>Le,L:()=>Se,$s:()=>Ke,r3:()=>Tt,Sg:()=>gi,ne:()=>er,p$:()=>W,vZ:()=>$n,gK:()=>Gn,aH:()=>jn,P0:()=>yn,Pz:()=>wr,m9:()=>Xe,z$:()=>ve,GJ:()=>cn,ru:()=>pt,xb:()=>tn,hl:()=>sr,uI:()=>De,Yr:()=>Qt,b$:()=>st,w9:()=>Yr,cI:()=>un,UI:()=>nn,xO:()=>Hn,DV:()=>ln,ug:()=>qe,dS:()=>Sr,Wl:()=>kn,eu:()=>zt});const x=function(J,q){if(!J)throw fe(q)},fe=function(J){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+J)},Re=function(J){const q=[];let ie=0;for(let Ie=0;Ie<J.length;Ie++){let he=J.charCodeAt(Ie);he<128?q[ie++]=he:he<2048?(q[ie++]=he>>6|192,q[ie++]=63&he|128):55296==(64512&he)&&Ie+1<J.length&&56320==(64512&J.charCodeAt(Ie+1))?(he=65536+((1023&he)<<10)+(1023&J.charCodeAt(++Ie)),q[ie++]=he>>18|240,q[ie++]=he>>12&63|128,q[ie++]=he>>6&63|128,q[ie++]=63&he|128):(q[ie++]=he>>12|224,q[ie++]=he>>6&63|128,q[ie++]=63&he|128)}return q},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let he=0;he<J.length;he+=3){const Te=J[he],gt=he+1<J.length,Gt=gt?J[he+1]:0,Cn=he+2<J.length,bn=Cn?J[he+2]:0;let mn=(15&Gt)<<2|bn>>6,Zt=63&bn;Cn||(Zt=64,gt||(mn=64)),Ie.push(ie[Te>>2],ie[(3&Te)<<4|Gt>>4],ie[mn],ie[Zt])}return Ie.join("")},encodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(J):this.encodeByteArray(Re(J),q)},decodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(J):function(J){const q=[];let ie=0,Ie=0;for(;ie<J.length;){const he=J[ie++];if(he<128)q[Ie++]=String.fromCharCode(he);else if(he>191&&he<224){const Te=J[ie++];q[Ie++]=String.fromCharCode((31&he)<<6|63&Te)}else if(he>239&&he<365){const Cn=((7&he)<<18|(63&J[ie++])<<12|(63&J[ie++])<<6|63&J[ie++])-65536;q[Ie++]=String.fromCharCode(55296+(Cn>>10)),q[Ie++]=String.fromCharCode(56320+(1023&Cn))}else{const Te=J[ie++],gt=J[ie++];q[Ie++]=String.fromCharCode((15&he)<<12|(63&Te)<<6|63&gt)}}return q.join("")}(this.decodeStringToByteArray(J,q))},decodeStringToByteArray(J,q){this.init_();const ie=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let he=0;he<J.length;){const Te=ie[J.charAt(he++)],Gt=he<J.length?ie[J.charAt(he)]:0;++he;const bn=he<J.length?ie[J.charAt(he)]:64;++he;const ht=he<J.length?ie[J.charAt(he)]:64;if(++he,null==Te||null==Gt||null==bn||null==ht)throw Error();Ie.push(Te<<2|Gt>>4),64!==bn&&(Ie.push(Gt<<4&240|bn>>2),64!==ht&&Ie.push(bn<<6&192|ht))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},Le=function(J){const q=Re(J);return H.encodeByteArray(q,!0)},Se=function(J){return Le(J).replace(/\./g,"")},ye=function(J){try{return H.decodeString(J,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function W(J){return Y(void 0,J)}function Y(J,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return q}for(const ie in q)!q.hasOwnProperty(ie)||!oe(ie)||(J[ie]=Y(J[ie],q[ie]));return J}function oe(J){return"__proto__"!==J}function ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function pt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qt(){return!1}function sr(){return"object"==typeof indexedDB}function zt(){return new Promise((J,q)=>{try{let ie=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Ie);he.onsuccess=()=>{he.result.close(),ie||self.indexedDB.deleteDatabase(Ie),J(!0)},he.onupgradeneeded=()=>{ie=!1},he.onerror=()=>{var Te;q((null===(Te=he.error)||void 0===Te?void 0:Te.message)||"")}}catch(ie){q(ie)}})}function Ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ut=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if("undefined"==typeof document)return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ie){return}const q=J&&ye(J[1]);return q&&JSON.parse(q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},yn=J=>{const q=(J=>{var q,ie;return null===(ie=null===(q=ut())||void 0===q?void 0:q.emulatorHosts)||void 0===ie?void 0:ie[J]})(J);if(!q)return;const ie=q.lastIndexOf(":");if(ie<=0||ie+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const Ie=parseInt(q.substring(ie+1),10);return"["===q[0]?[q.substring(1,ie-1),Ie]:[q.substring(0,ie),Ie]},jn=()=>{var J;return null===(J=ut())||void 0===J?void 0:J.config},wr=J=>{var q;return null===(q=ut())||void 0===q?void 0:q[`_${J}`]};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,ie)=>{this.resolve=q,this.reject=ie})}wrapCallback(q){return(ie,Ie)=>{ie?this.reject(ie):this.resolve(Ie),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(ie):q(ie,Ie))}}}function gi(J,q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=q||"demo-project",he=J.iat||0,Te=J.sub||J.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:he,exp:he+3600,auth_time:he,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(gt)),""].join(".")}class Qn extends Error{constructor(q,ie,Ie){super(ie),this.code=q,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}}class Tr{constructor(q,ie,Ie){this.service=q,this.serviceName=ie,this.errors=Ie}create(q,...ie){const Ie=ie[0]||{},he=`${this.service}/${q}`,Te=this.errors[q],gt=Te?function(J,q){return J.replace(Ar,(ie,Ie)=>{const he=q[Ie];return null!=he?String(he):`<${Ie}?>`})}(Te,Ie):"Error";return new Qn(he,`${this.serviceName}: ${gt} (${he}).`,Ie)}}const Ar=/\{\$([^}]+)}/g;function un(J){return JSON.parse(J)}function kn(J){return JSON.stringify(J)}const gn=function(J){let q={},ie={},Ie={},he="";try{const Te=J.split(".");q=un(ye(Te[0])||""),ie=un(ye(Te[1])||""),he=Te[2],Ie=ie.d||{},delete ie.d}catch(Te){}return{header:q,claims:ie,data:Ie,signature:he}},Yr=function(J){const ie=gn(J).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},cn=function(J){const q=gn(J).claims;return"object"==typeof q&&!0===q.admin};function Tt(J,q){return Object.prototype.hasOwnProperty.call(J,q)}function ln(J,q){if(Object.prototype.hasOwnProperty.call(J,q))return J[q]}function tn(J){for(const q in J)if(Object.prototype.hasOwnProperty.call(J,q))return!1;return!0}function nn(J,q,ie){const Ie={};for(const he in J)Object.prototype.hasOwnProperty.call(J,he)&&(Ie[he]=q.call(ie,J[he],he,J));return Ie}function $n(J,q){if(J===q)return!0;const ie=Object.keys(J),Ie=Object.keys(q);for(const he of ie){if(!Ie.includes(he))return!1;const Te=J[he],gt=q[he];if(Ne(Te)&&Ne(gt)){if(!$n(Te,gt))return!1}else if(Te!==gt)return!1}for(const he of Ie)if(!ie.includes(he))return!1;return!0}function Ne(J){return null!==J&&"object"==typeof J}function Hn(J){const q=[];for(const[ie,Ie]of Object.entries(J))Array.isArray(Ie)?Ie.forEach(he=>{q.push(encodeURIComponent(ie)+"="+encodeURIComponent(he))}):q.push(encodeURIComponent(ie)+"="+encodeURIComponent(Ie));return q.length?"&"+q.join("&"):""}class Xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,ie){ie||(ie=0);const Ie=this.W_;if("string"==typeof q)for(let ht=0;ht<16;ht++)Ie[ht]=q.charCodeAt(ie)<<24|q.charCodeAt(ie+1)<<16|q.charCodeAt(ie+2)<<8|q.charCodeAt(ie+3),ie+=4;else for(let ht=0;ht<16;ht++)Ie[ht]=q[ie]<<24|q[ie+1]<<16|q[ie+2]<<8|q[ie+3],ie+=4;for(let ht=16;ht<80;ht++){const mn=Ie[ht-3]^Ie[ht-8]^Ie[ht-14]^Ie[ht-16];Ie[ht]=4294967295&(mn<<1|mn>>>31)}let bn,Mn,he=this.chain_[0],Te=this.chain_[1],gt=this.chain_[2],Gt=this.chain_[3],Cn=this.chain_[4];for(let ht=0;ht<80;ht++){ht<40?ht<20?(bn=Gt^Te&(gt^Gt),Mn=1518500249):(bn=Te^gt^Gt,Mn=1859775393):ht<60?(bn=Te&gt|Gt&(Te|gt),Mn=2400959708):(bn=Te^gt^Gt,Mn=3395469782);const mn=(he<<5|he>>>27)+bn+Cn+Mn+Ie[ht]&4294967295;Cn=Gt,Gt=gt,gt=4294967295&(Te<<30|Te>>>2),Te=he,he=mn}this.chain_[0]=this.chain_[0]+he&4294967295,this.chain_[1]=this.chain_[1]+Te&4294967295,this.chain_[2]=this.chain_[2]+gt&4294967295,this.chain_[3]=this.chain_[3]+Gt&4294967295,this.chain_[4]=this.chain_[4]+Cn&4294967295}update(q,ie){if(null==q)return;void 0===ie&&(ie=q.length);const Ie=ie-this.blockSize;let he=0;const Te=this.buf_;let gt=this.inbuf_;for(;he<ie;){if(0===gt)for(;he<=Ie;)this.compress_(q,he),he+=this.blockSize;if("string"==typeof q){for(;he<ie;)if(Te[gt]=q.charCodeAt(he),++gt,++he,gt===this.blockSize){this.compress_(Te),gt=0;break}}else for(;he<ie;)if(Te[gt]=q[he],++gt,++he,gt===this.blockSize){this.compress_(Te),gt=0;break}}this.inbuf_=gt,this.total_+=ie}digest(){const q=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let he=this.blockSize-1;he>=56;he--)this.buf_[he]=255&ie,ie/=256;this.compress_(this.buf_);let Ie=0;for(let he=0;he<5;he++)for(let Te=24;Te>=0;Te-=8)q[Ie]=this.chain_[he]>>Te&255,++Ie;return q}}function er(J,q){const ie=new rt(J,q);return ie.subscribe.bind(ie)}class rt{constructor(q,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{q(this)}).catch(Ie=>{this.error(Ie)})}next(q){this.forEachObserver(ie=>{ie.next(q)})}error(q){this.forEachObserver(ie=>{ie.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,ie,Ie){let he;if(void 0===q&&void 0===ie&&void 0===Ie)throw new Error("Missing Observer.");he=function(J,q){if("object"!=typeof J||null===J)return!1;for(const ie of["next","error","complete"])if(ie in J&&"function"==typeof J[ie])return!0;return!1}(q)?q:{next:q,error:ie,complete:Ie},void 0===he.next&&(he.next=ot),void 0===he.error&&(he.error=ot),void 0===he.complete&&(he.complete=ot);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch(gt){}}),this.observers.push(he),Te}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,q)}sendOne(q,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{ie(this.observers[q])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}function Gn(J,q){return`${J} failed: ${q} argument `}const Sr=function(J){const q=[];let ie=0;for(let Ie=0;Ie<J.length;Ie++){let he=J.charCodeAt(Ie);if(he>=55296&&he<=56319){const Te=he-55296;Ie++,x(Ie<J.length,"Surrogate pair missing trail surrogate."),he=65536+(Te<<10)+(J.charCodeAt(Ie)-56320)}he<128?q[ie++]=he:he<2048?(q[ie++]=he>>6|192,q[ie++]=63&he|128):he<65536?(q[ie++]=he>>12|224,q[ie++]=he>>6&63|128,q[ie++]=63&he|128):(q[ie++]=he>>18|240,q[ie++]=he>>12&63|128,q[ie++]=he>>6&63|128,q[ie++]=63&he|128)}return q},qe=function(J){let q=0;for(let ie=0;ie<J.length;ie++){const Ie=J.charCodeAt(ie);Ie<128?q++:Ie<2048?q+=2:Ie>=55296&&Ie<=56319?(q+=4,ie++):q+=3}return q};function Ke(J,q=1e3,ie=2){const Ie=q*Math.pow(ie,J),he=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+he)}function Xe(J){return J&&J._delegate?J._delegate:J}},2329:(ct,Pe,z)=>{"use strict";z.d(Pe,{Mq:()=>T.Mq,C6:()=>T.C6,ZF:()=>T.ZF,KN:()=>T.KN});var T=z(8026);(0,T.KN)("firebase","9.12.1","app")},7574:(ct,Pe,z)=>{"use strict";z.d(Pe,{y:()=>Y});var T=z(7393),fe=z(9181),Re=z(6490),H=z(6554),Le=z(4487);var W=z(2494);let Y=(()=>{class ve{constructor(Ge){this._isScalar=!1,Ge&&(this._subscribe=Ge)}lift(Ge){const be=new ve;return be.source=this,be.operator=Ge,be}subscribe(Ge,be,pt){const{operator:st}=this,Je=function(ve,De,Ge){if(ve){if(ve instanceof T.L)return ve;if(ve[fe.b])return ve[fe.b]()}return ve||De||Ge?new T.L(ve,De,Ge):new T.L(Re.c)}(Ge,be,pt);if(Je.add(st?st.call(Je,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!Je.syncErrorThrowable?this._subscribe(Je):this._trySubscribe(Je)),W.v.useDeprecatedSynchronousErrorHandling&&Je.syncErrorThrowable&&(Je.syncErrorThrowable=!1,Je.syncErrorThrown))throw Je.syncErrorValue;return Je}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(be){W.v.useDeprecatedSynchronousErrorHandling&&(Ge.syncErrorThrown=!0,Ge.syncErrorValue=be),function(ve){for(;ve;){const{closed:De,destination:Ge,isStopped:be}=ve;if(De||be)return!1;ve=Ge&&Ge instanceof T.L?Ge:null}return!0}(Ge)?Ge.error(be):console.warn(be)}}forEach(Ge,be){return new(be=oe(be))((pt,st)=>{let Je;Je=this.subscribe(He=>{try{Ge(He)}catch(Ve){st(Ve),Je&&Je.unsubscribe()}},st,pt)})}_subscribe(Ge){const{source:be}=this;return be&&be.subscribe(Ge)}[H.L](){return this}pipe(...Ge){return 0===Ge.length?this:function(ve){return 0===ve.length?Le.y:1===ve.length?ve[0]:function(Ge){return ve.reduce((be,pt)=>pt(be),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=oe(Ge))((be,pt)=>{let st;this.subscribe(Je=>st=Je,Je=>pt(Je),()=>be(st))})}}return ve.create=De=>new ve(De),ve})();function oe(ve){if(ve||(ve=W.v.Promise||Promise),!ve)throw new Error("no Promise impl found");return ve}},6490:(ct,Pe,z)=>{"use strict";z.d(Pe,{c:()=>fe});var T=z(2494),x=z(4449);const fe={closed:!0,next(Re){},error(Re){if(T.v.useDeprecatedSynchronousErrorHandling)throw Re;(0,x.z)(Re)},complete(){}}},7709:(ct,Pe,z)=>{"use strict";z.d(Pe,{xQ:()=>Se,Yc:()=>Le});var T=z(7574),x=z(7393),fe=z(5319),Re=z(7971);class le extends fe.w{constructor(Y,oe){super(),this.subject=Y,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Y=this.subject,oe=Y.observers;if(this.subject=null,!oe||0===oe.length||Y.isStopped||Y.closed)return;const ve=oe.indexOf(this.subscriber);-1!==ve&&oe.splice(ve,1)}}var H=z(9181);class Le extends x.L{constructor(Y){super(Y),this.destination=Y}}let Se=(()=>{class W extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[H.b](){return new Le(this)}lift(oe){const ve=new ye(this,this);return ve.operator=oe,ve}next(oe){if(this.closed)throw new Re.N;if(!this.isStopped){const{observers:ve}=this,De=ve.length,Ge=ve.slice();for(let be=0;be<De;be++)Ge[be].next(oe)}}error(oe){if(this.closed)throw new Re.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:ve}=this,De=ve.length,Ge=ve.slice();for(let be=0;be<De;be++)Ge[be].error(oe);this.observers.length=0}complete(){if(this.closed)throw new Re.N;this.isStopped=!0;const{observers:oe}=this,ve=oe.length,De=oe.slice();for(let Ge=0;Ge<ve;Ge++)De[Ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new Re.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new Re.N;return this.hasError?(oe.error(this.thrownError),fe.w.EMPTY):this.isStopped?(oe.complete(),fe.w.EMPTY):(this.observers.push(oe),new le(this,oe))}asObservable(){const oe=new T.y;return oe.source=this,oe}}return W.create=(Y,oe)=>new ye(Y,oe),W})();class ye extends Se{constructor(Y,oe){super(),this.destination=Y,this.source=oe}next(Y){const{destination:oe}=this;oe&&oe.next&&oe.next(Y)}error(Y){const{destination:oe}=this;oe&&oe.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:oe}=this;return oe?this.source.subscribe(Y):fe.w.EMPTY}}},7393:(ct,Pe,z)=>{"use strict";z.d(Pe,{L:()=>Le});var T=z(9105),x=z(6490),fe=z(5319),Re=z(9181),le=z(2494),H=z(4449);class Le extends fe.w{constructor(W,Y,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=x.c;break;case 1:if(!W){this.destination=x.c;break}if("object"==typeof W){W instanceof Le?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new Se(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new Se(this,W,Y,oe)}}[Re.b](){return this}static create(W,Y,oe){const ve=new Le(W,Y,oe);return ve.syncErrorThrowable=!1,ve}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class Se extends Le{constructor(W,Y,oe,ve){super(),this._parentSubscriber=W;let De,Ge=this;(0,T.m)(Y)?De=Y:Y&&(De=Y.next,oe=Y.error,ve=Y.complete,Y!==x.c&&(Ge=Object.create(Y),(0,T.m)(Ge.unsubscribe)&&this.add(Ge.unsubscribe.bind(Ge)),Ge.unsubscribe=this.unsubscribe.bind(this))),this._context=Ge,this._next=De,this._error=oe,this._complete=ve}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;le.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:oe}=le.v;if(this._error)oe&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(Y.syncErrorThrowable)oe?(Y.syncErrorValue=W,Y.syncErrorThrown=!0):(0,H.z)(W),this.unsubscribe();else{if(this.unsubscribe(),oe)throw W;(0,H.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const Y=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,Y){try{W.call(this._context,Y)}catch(oe){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,H.z)(oe)}}__tryOrSetError(W,Y,oe){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,oe)}catch(ve){return le.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=ve,W.syncErrorThrown=!0,!0):((0,H.z)(ve),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},5319:(ct,Pe,z)=>{"use strict";z.d(Pe,{w:()=>H});var T=z(9796),x=z(1555),fe=z(9105);const le=(()=>{function Se(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((W,Y)=>`${Y+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return Se.prototype=Object.create(Error.prototype),Se})();class H{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:W,_ctorUnsubscribe:Y,_unsubscribe:oe,_subscriptions:ve}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof H)W.remove(this);else if(null!==W)for(let De=0;De<W.length;++De)W[De].remove(this);if((0,fe.m)(oe)){Y&&(this._unsubscribe=void 0);try{oe.call(this)}catch(De){ye=De instanceof le?Le(De.errors):[De]}}if((0,T.k)(ve)){let De=-1,Ge=ve.length;for(;++De<Ge;){const be=ve[De];if((0,x.K)(be))try{be.unsubscribe()}catch(pt){ye=ye||[],pt instanceof le?ye=ye.concat(Le(pt.errors)):ye.push(pt)}}}if(ye)throw new le(ye)}add(ye){let W=ye;if(!ye)return H.EMPTY;switch(typeof ye){case"function":W=new H(ye);case"object":if(W===this||W.closed||"function"!=typeof W.unsubscribe)return W;if(this.closed)return W.unsubscribe(),W;if(!(W instanceof H)){const ve=W;W=new H,W._subscriptions=[ve]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:Y}=W;if(null===Y)W._parentOrParents=this;else if(Y instanceof H){if(Y===this)return W;W._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return W;Y.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[W]:oe.push(W),W}remove(ye){const W=this._subscriptions;if(W){const Y=W.indexOf(ye);-1!==Y&&W.splice(Y,1)}}}var Se;function Le(Se){return Se.reduce((ye,W)=>ye.concat(W instanceof le?W.errors:W),[])}H.EMPTY=((Se=new H).closed=!0,Se)},2494:(ct,Pe,z)=>{"use strict";z.d(Pe,{v:()=>x});let T=!1;const x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const Re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Re.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=fe},get useDeprecatedSynchronousErrorHandling(){return T}}},5345:(ct,Pe,z)=>{"use strict";z.d(Pe,{IY:()=>Re,Ds:()=>H,ft:()=>Se});var T=z(7393),x=z(7574),fe=z(7444);class Re extends T.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class H extends T.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function Se(ye,W){if(W.closed)return;if(ye instanceof x.y)return ye.subscribe(W);let Y;try{Y=(0,fe.s)(ye)(W)}catch(oe){W.error(oe)}return Y}},2441:(ct,Pe,z)=>{"use strict";z.d(Pe,{c:()=>le,N:()=>H});var T=z(7709),x=z(7574),fe=z(5319),Re=z(1307);class le extends x.y{constructor(Y,oe){super(),this.source=Y,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new fe.w,Y.add(this.source.subscribe(new Le(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=fe.w.EMPTY)),Y}refCount(){return(0,Re.x)()(this)}}const H=(()=>{const W=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class Le extends T.Yc{constructor(Y,oe){super(Y),this.connectable=oe}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const oe=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,oe&&oe.unsubscribe()}}}},9193:(ct,Pe,z)=>{"use strict";z.d(Pe,{E:()=>x,c:()=>fe});var T=z(7574);const x=new T.y(le=>le.complete());function fe(le){return le?function(le){return new T.y(H=>le.schedule(()=>H.complete()))}(le):x}},4402:(ct,Pe,z)=>{"use strict";z.d(Pe,{D:()=>Ge});var T=z(7574),x=z(7444),fe=z(5319),Re=z(6554),Le=z(4087),Se=z(377),Y=z(4072),oe=z(9489);function Ge(be,pt){return pt?function(be,pt){if(null!=be){if(function(be){return be&&"function"==typeof be[Re.L]}(be))return function(be,pt){return new T.y(st=>{const Je=new fe.w;return Je.add(pt.schedule(()=>{const He=be[Re.L]();Je.add(He.subscribe({next(Ve){Je.add(pt.schedule(()=>st.next(Ve)))},error(Ve){Je.add(pt.schedule(()=>st.error(Ve)))},complete(){Je.add(pt.schedule(()=>st.complete()))}}))})),Je})}(be,pt);if((0,Y.t)(be))return function(be,pt){return new T.y(st=>{const Je=new fe.w;return Je.add(pt.schedule(()=>be.then(He=>{Je.add(pt.schedule(()=>{st.next(He),Je.add(pt.schedule(()=>st.complete()))}))},He=>{Je.add(pt.schedule(()=>st.error(He)))}))),Je})}(be,pt);if((0,oe.z)(be))return(0,Le.r)(be,pt);if(function(be){return be&&"function"==typeof be[Se.hZ]}(be)||"string"==typeof be)return function(be,pt){if(!be)throw new Error("Iterable cannot be null");return new T.y(st=>{const Je=new fe.w;let He;return Je.add(()=>{He&&"function"==typeof He.return&&He.return()}),Je.add(pt.schedule(()=>{He=be[Se.hZ](),Je.add(pt.schedule(function(){if(st.closed)return;let Ve,Qt;try{const rn=He.next();Ve=rn.value,Qt=rn.done}catch(rn){return void st.error(rn)}Qt?st.complete():(st.next(Ve),this.schedule())}))})),Je})}(be,pt)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,pt):be instanceof T.y?be:new T.y((0,x.s)(be))}},6693:(ct,Pe,z)=>{"use strict";z.d(Pe,{n:()=>Re});var T=z(7574),x=z(5015),fe=z(4087);function Re(le,H){return H?(0,fe.r)(le,H):new T.y((0,x.V)(le))}},5917:(ct,Pe,z)=>{"use strict";z.d(Pe,{of:()=>Re});var T=z(4869),x=z(6693),fe=z(4087);function Re(...le){let H=le[le.length-1];return(0,T.K)(H)?(le.pop(),(0,fe.r)(le,H)):(0,x.n)(le)}},8002:(ct,Pe,z)=>{"use strict";z.d(Pe,{U:()=>x});var T=z(7393);function x(le,H){return function(Se){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Se.lift(new fe(le,H))}}class fe{constructor(H,Le){this.project=H,this.thisArg=Le}call(H,Le){return Le.subscribe(new Re(H,this.project,this.thisArg))}}class Re extends T.L{constructor(H,Le,Se){super(H),this.project=Le,this.count=0,this.thisArg=Se||this}_next(H){let Le;try{Le=this.project.call(this.thisArg,H,this.count++)}catch(Se){return void this.destination.error(Se)}this.destination.next(Le)}}},3282:(ct,Pe,z)=>{"use strict";z.d(Pe,{J:()=>fe});var T=z(9773),x=z(4487);function fe(Re=Number.POSITIVE_INFINITY){return(0,T.zg)(x.y,Re)}},9773:(ct,Pe,z)=>{"use strict";z.d(Pe,{zg:()=>Re});var T=z(8002),x=z(4402),fe=z(5345);function Re(Se,ye,W=Number.POSITIVE_INFINITY){return"function"==typeof ye?Y=>Y.pipe(Re((oe,ve)=>(0,x.D)(Se(oe,ve)).pipe((0,T.U)((De,Ge)=>ye(oe,De,ve,Ge))),W)):("number"==typeof ye&&(W=ye),Y=>Y.lift(new le(Se,W)))}class le{constructor(ye,W=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=W}call(ye,W){return W.subscribe(new H(ye,this.project,this.concurrent))}}class H extends fe.Ds{constructor(ye,W,Y=Number.POSITIVE_INFINITY){super(ye),this.project=W,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let W;const Y=this.index++;try{W=this.project(ye,Y)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(W)}_innerSub(ye){const W=new fe.IY(this),Y=this.destination;Y.add(W);const oe=(0,fe.ft)(ye,W);oe!==W&&Y.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(ct,Pe,z)=>{"use strict";z.d(Pe,{x:()=>x});var T=z(7393);function x(){return function(H){return H.lift(new fe(H))}}class fe{constructor(H){this.connectable=H}call(H,Le){const{connectable:Se}=this;Se._refCount++;const ye=new Re(H,Se),W=Le.subscribe(ye);return ye.closed||(ye.connection=Se.connect()),W}}class Re extends T.L{constructor(H,Le){super(H),this.connectable=Le}_unsubscribe(){const{connectable:H}=this;if(!H)return void(this.connection=null);this.connectable=null;const Le=H._refCount;if(Le<=0)return void(this.connection=null);if(H._refCount=Le-1,Le>1)return void(this.connection=null);const{connection:Se}=this,ye=H._connection;this.connection=null,ye&&(!Se||ye===Se)&&ye.unsubscribe()}}},3342:(ct,Pe,z)=>{"use strict";z.d(Pe,{b:()=>Re});var T=z(7393);function x(){}var fe=z(9105);function Re(Le,Se,ye){return function(Y){return Y.lift(new le(Le,Se,ye))}}class le{constructor(Se,ye,W){this.nextOrObserver=Se,this.error=ye,this.complete=W}call(Se,ye){return ye.subscribe(new H(Se,this.nextOrObserver,this.error,this.complete))}}class H extends T.L{constructor(Se,ye,W,Y){super(Se),this._tapNext=x,this._tapError=x,this._tapComplete=x,this._tapError=W||x,this._tapComplete=Y||x,(0,fe.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||x,this._tapError=ye.error||x,this._tapComplete=ye.complete||x)}_next(Se){try{this._tapNext.call(this._context,Se)}catch(ye){return void this.destination.error(ye)}this.destination.next(Se)}_error(Se){try{this._tapError.call(this._context,Se)}catch(ye){return void this.destination.error(ye)}this.destination.error(Se)}_complete(){try{this._tapComplete.call(this._context)}catch(Se){return void this.destination.error(Se)}return this.destination.complete()}}},4087:(ct,Pe,z)=>{"use strict";z.d(Pe,{r:()=>fe});var T=z(7574),x=z(5319);function fe(Re,le){return new T.y(H=>{const Le=new x.w;let Se=0;return Le.add(le.schedule(function(){Se!==Re.length?(H.next(Re[Se++]),H.closed||Le.add(this.schedule())):H.complete()})),Le})}},377:(ct,Pe,z)=>{"use strict";z.d(Pe,{hZ:()=>x});const x="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ct,Pe,z)=>{"use strict";z.d(Pe,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ct,Pe,z)=>{"use strict";z.d(Pe,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ct,Pe,z)=>{"use strict";z.d(Pe,{N:()=>x});const x=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},4449:(ct,Pe,z)=>{"use strict";function T(x){setTimeout(()=>{throw x},0)}z.d(Pe,{z:()=>T})},4487:(ct,Pe,z)=>{"use strict";function T(x){return x}z.d(Pe,{y:()=>T})},9796:(ct,Pe,z)=>{"use strict";z.d(Pe,{k:()=>T});const T=Array.isArray||(x=>x&&"number"==typeof x.length)},9489:(ct,Pe,z)=>{"use strict";z.d(Pe,{z:()=>T});const T=x=>x&&"number"==typeof x.length&&"function"!=typeof x},9105:(ct,Pe,z)=>{"use strict";function T(x){return"function"==typeof x}z.d(Pe,{m:()=>T})},1555:(ct,Pe,z)=>{"use strict";function T(x){return null!==x&&"object"==typeof x}z.d(Pe,{K:()=>T})},4072:(ct,Pe,z)=>{"use strict";function T(x){return!!x&&"function"!=typeof x.subscribe&&"function"==typeof x.then}z.d(Pe,{t:()=>T})},4869:(ct,Pe,z)=>{"use strict";function T(x){return x&&"function"==typeof x.schedule}z.d(Pe,{K:()=>T})},7444:(ct,Pe,z)=>{"use strict";z.d(Pe,{s:()=>Y});var T=z(5015),x=z(4449),Re=z(377),H=z(6554),Se=z(9489),ye=z(4072),W=z(1555);const Y=oe=>{if(oe&&"function"==typeof oe[H.L])return(oe=>ve=>{const De=oe[H.L]();if("function"!=typeof De.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return De.subscribe(ve)})(oe);if((0,Se.z)(oe))return(0,T.V)(oe);if((0,ye.t)(oe))return(oe=>ve=>(oe.then(De=>{ve.closed||(ve.next(De),ve.complete())},De=>ve.error(De)).then(null,x.z),ve))(oe);if(oe&&"function"==typeof oe[Re.hZ])return(oe=>ve=>{const De=oe[Re.hZ]();for(;;){let Ge;try{Ge=De.next()}catch(be){return ve.error(be),ve}if(Ge.done){ve.complete();break}if(ve.next(Ge.value),ve.closed)break}return"function"==typeof De.return&&ve.add(()=>{De.return&&De.return()}),ve})(oe);{const De=`You provided ${(0,W.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(De)}}},5015:(ct,Pe,z)=>{"use strict";z.d(Pe,{V:()=>T});const T=x=>fe=>{for(let Re=0,le=x.length;Re<le&&!fe.closed;Re++)fe.next(x[Re]);fe.complete()}},2340:(ct,Pe,z)=>{"use strict";z.d(Pe,{N:()=>T});const T={firebase:{projectId:"fichasesdi",appId:"1:462903599668:web:04126db4f07f32cbe9a061",databaseURL:"https://fichasesdi-default-rtdb.firebaseio.com",storageBucket:"fichasesdi.appspot.com",apiKey:"AIzaSyDjUMNO-YJkBh6CWtFMCNVXahiBE9wKInM",authDomain:"fichasesdi.firebaseapp.com",messagingSenderId:"462903599668"},locals:{1:'Local comunal "La Joya"',2:"Las Buganvilas",3:"Las Buganvilas II",4:"Residencial J\xf3venes Unidos"},production:!0}},4617:(ct,Pe,z)=>{"use strict";var T=z(8583),x=z(639);class fe extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends fe{static makeCurrent(){(0,T.HT)(new Re)}onAndCancel(Z,G,ae){return Z.addEventListener(G,ae,!1),()=>{Z.removeEventListener(G,ae,!1)}}dispatchEvent(Z,G){Z.dispatchEvent(G)}remove(Z){Z.parentNode&&Z.parentNode.removeChild(Z)}createElement(Z,G){return(G=G||this.getDefaultDocument()).createElement(Z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Z){return Z.nodeType===Node.ELEMENT_NODE}isShadowRoot(Z){return Z instanceof DocumentFragment}getGlobalEventTarget(Z,G){return"window"===G?window:"document"===G?Z:"body"===G?Z.body:null}getBaseHref(Z){const G=(le=le||document.querySelector("base"),le?le.getAttribute("href"):null);return null==G?null:function(X){Le=Le||document.createElement("a"),Le.setAttribute("href",X);const Z=Le.pathname;return"/"===Z.charAt(0)?Z:`/${Z}`}(G)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(Z){return(0,T.Mx)(document.cookie,Z)}}let Le,le=null;const ye=new x.OlP("TRANSITION_ID"),Y=[{provide:x.ip1,useFactory:function(X,Z,G){return()=>{G.get(x.CZH).donePromise.then(()=>{const ae=(0,T.q)(),Me=Z.querySelectorAll(`style[ng-transition="${X}"]`);for(let ft=0;ft<Me.length;ft++)ae.remove(Me[ft])})}},deps:[ye,T.K0,x.zs3],multi:!0}];class oe{static init(){(0,x.VLi)(new oe)}addToWindow(Z){x.dqk.getAngularTestability=(ae,Me=!0)=>{const ft=Z.findTestabilityInTree(ae,Me);if(null==ft)throw new Error("Could not find testability for element.");return ft},x.dqk.getAllAngularTestabilities=()=>Z.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>Z.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(ae=>{const Me=x.dqk.getAllAngularTestabilities();let ft=Me.length,Ct=!1;const hn=function(Nn){Ct=Ct||Nn,ft--,0==ft&&ae(Ct)};Me.forEach(function(Nn){Nn.whenStable(hn)})})}findTestabilityInTree(Z,G,ae){if(null==G)return null;const Me=Z.getTestability(G);return null!=Me?Me:ae?(0,T.q)().isShadowRoot(G)?this.findTestabilityInTree(Z,G.host,!0):this.findTestabilityInTree(Z,G.parentElement,!0):null}}let ve=(()=>{class X{build(){return new XMLHttpRequest}}return X.\u0275fac=function(G){return new(G||X)},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();const Qe=new x.OlP("EventManagerPlugins");let tt=(()=>{class X{constructor(G,ae){this._zone=ae,this._eventNameToPlugin=new Map,G.forEach(Me=>Me.manager=this),this._plugins=G.slice().reverse()}addEventListener(G,ae,Me){return this._findPluginFor(ae).addEventListener(G,ae,Me)}addGlobalEventListener(G,ae,Me){return this._findPluginFor(ae).addGlobalEventListener(G,ae,Me)}getZone(){return this._zone}_findPluginFor(G){const ae=this._eventNameToPlugin.get(G);if(ae)return ae;const Me=this._plugins;for(let ft=0;ft<Me.length;ft++){const Ct=Me[ft];if(Ct.supports(G))return this._eventNameToPlugin.set(G,Ct),Ct}throw new Error(`No event manager plugin found for event ${G}`)}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(Qe),x.LFG(x.R0b))},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();class ut{constructor(Z){this._doc=Z}addGlobalEventListener(Z,G,ae){const Me=(0,T.q)().getGlobalEventTarget(this._doc,Z);if(!Me)throw new Error(`Unsupported event target ${Me} for event ${G}`);return this.addEventListener(Me,G,ae)}}let je=(()=>{class X{constructor(){this._stylesSet=new Set}addStyles(G){const ae=new Set;G.forEach(Me=>{this._stylesSet.has(Me)||(this._stylesSet.add(Me),ae.add(Me))}),this.onStylesAdded(ae)}onStylesAdded(G){}getAllStyles(){return Array.from(this._stylesSet)}}return X.\u0275fac=function(G){return new(G||X)},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})(),yn=(()=>{class X extends je{constructor(G){super(),this._doc=G,this._hostNodes=new Map,this._hostNodes.set(G.head,[])}_addStylesToHost(G,ae,Me){G.forEach(ft=>{const Ct=this._doc.createElement("style");Ct.textContent=ft,Me.push(ae.appendChild(Ct))})}addHost(G){const ae=[];this._addStylesToHost(this._stylesSet,G,ae),this._hostNodes.set(G,ae)}removeHost(G){const ae=this._hostNodes.get(G);ae&&ae.forEach(jn),this._hostNodes.delete(G)}onStylesAdded(G){this._hostNodes.forEach((ae,Me)=>{this._addStylesToHost(G,Me,ae)})}ngOnDestroy(){this._hostNodes.forEach(G=>G.forEach(jn))}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(T.K0))},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();function jn(X){(0,T.q)().remove(X)}const wr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ut=/%COMP%/g;function un(X,Z,G){for(let ae=0;ae<Z.length;ae++){let Me=Z[ae];Array.isArray(Me)?un(X,Me,G):(Me=Me.replace(Ut,X),G.push(Me))}return G}function kn(X){return Z=>{if("__ngUnwrap__"===Z)return X;!1===X(Z)&&(Z.preventDefault(),Z.returnValue=!1)}}let It=(()=>{class X{constructor(G,ae,Me){this.eventManager=G,this.sharedStylesHost=ae,this.appId=Me,this.rendererByCompId=new Map,this.defaultRenderer=new Zn(G)}createRenderer(G,ae){if(!G||!ae)return this.defaultRenderer;switch(ae.encapsulation){case x.ifc.Emulated:{let Me=this.rendererByCompId.get(ae.id);return Me||(Me=new ln(this.eventManager,this.sharedStylesHost,ae,this.appId),this.rendererByCompId.set(ae.id,Me)),Me.applyToHost(G),Me}case 1:case x.ifc.ShadowDom:return new tn(this.eventManager,this.sharedStylesHost,G,ae);default:if(!this.rendererByCompId.has(ae.id)){const Me=un(ae.id,ae.styles,[]);this.sharedStylesHost.addStyles(Me),this.rendererByCompId.set(ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(tt),x.LFG(yn),x.LFG(x.AFp))},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();class Zn{constructor(Z){this.eventManager=Z,this.data=Object.create(null)}destroy(){}createElement(Z,G){return G?document.createElementNS(wr[G]||G,Z):document.createElement(Z)}createComment(Z){return document.createComment(Z)}createText(Z){return document.createTextNode(Z)}appendChild(Z,G){Z.appendChild(G)}insertBefore(Z,G,ae){Z&&Z.insertBefore(G,ae)}removeChild(Z,G){Z&&Z.removeChild(G)}selectRootElement(Z,G){let ae="string"==typeof Z?document.querySelector(Z):Z;if(!ae)throw new Error(`The selector "${Z}" did not match any elements`);return G||(ae.textContent=""),ae}parentNode(Z){return Z.parentNode}nextSibling(Z){return Z.nextSibling}setAttribute(Z,G,ae,Me){if(Me){G=Me+":"+G;const ft=wr[Me];ft?Z.setAttributeNS(ft,G,ae):Z.setAttribute(G,ae)}else Z.setAttribute(G,ae)}removeAttribute(Z,G,ae){if(ae){const Me=wr[ae];Me?Z.removeAttributeNS(Me,G):Z.removeAttribute(`${ae}:${G}`)}else Z.removeAttribute(G)}addClass(Z,G){Z.classList.add(G)}removeClass(Z,G){Z.classList.remove(G)}setStyle(Z,G,ae,Me){Me&(x.JOm.DashCase|x.JOm.Important)?Z.style.setProperty(G,ae,Me&x.JOm.Important?"important":""):Z.style[G]=ae}removeStyle(Z,G,ae){ae&x.JOm.DashCase?Z.style.removeProperty(G):Z.style[G]=""}setProperty(Z,G,ae){Z[G]=ae}setValue(Z,G){Z.nodeValue=G}listen(Z,G,ae){return"string"==typeof Z?this.eventManager.addGlobalEventListener(Z,G,kn(ae)):this.eventManager.addEventListener(Z,G,kn(ae))}}class ln extends Zn{constructor(Z,G,ae,Me){super(Z),this.component=ae;const ft=un(Me+"-"+ae.id,ae.styles,[]);G.addStyles(ft),this.contentAttr="_ngcontent-%COMP%".replace(Ut,Me+"-"+ae.id),this.hostAttr="_nghost-%COMP%".replace(Ut,Me+"-"+ae.id)}applyToHost(Z){super.setAttribute(Z,this.hostAttr,"")}createElement(Z,G){const ae=super.createElement(Z,G);return super.setAttribute(ae,this.contentAttr,""),ae}}class tn extends Zn{constructor(Z,G,ae,Me){super(Z),this.sharedStylesHost=G,this.hostEl=ae,this.shadowRoot=ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ft=un(Me.id,Me.styles,[]);for(let Ct=0;Ct<ft.length;Ct++){const hn=document.createElement("style");hn.textContent=ft[Ct],this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(Z){return Z===this.hostEl?this.shadowRoot:Z}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Z,G){return super.appendChild(this.nodeOrShadowRoot(Z),G)}insertBefore(Z,G,ae){return super.insertBefore(this.nodeOrShadowRoot(Z),G,ae)}removeChild(Z,G){return super.removeChild(this.nodeOrShadowRoot(Z),G)}parentNode(Z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Z)))}}let nn=(()=>{class X extends ut{constructor(G){super(G)}supports(G){return!0}addEventListener(G,ae,Me){return G.addEventListener(ae,Me,!1),()=>this.removeEventListener(G,ae,Me)}removeEventListener(G,ae,Me){return G.removeEventListener(ae,Me)}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(T.K0))},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();const Bt=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sr={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let qe=(()=>{class X extends ut{constructor(G){super(G)}supports(G){return null!=X.parseEventName(G)}addEventListener(G,ae,Me){const ft=X.parseEventName(ae),Ct=X.eventCallback(ft.fullKey,Me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(G,ft.domEventName,Ct))}static parseEventName(G){const ae=G.toLowerCase().split("."),Me=ae.shift();if(0===ae.length||"keydown"!==Me&&"keyup"!==Me)return null;const ft=X._normalizeKey(ae.pop());let Ct="";if(Bt.forEach(Nn=>{const ei=ae.indexOf(Nn);ei>-1&&(ae.splice(ei,1),Ct+=Nn+".")}),Ct+=ft,0!=ae.length||0===ft.length)return null;const hn={};return hn.domEventName=Me,hn.fullKey=Ct,hn}static getEventFullKey(G){let ae="",Me=function(X){let Z=X.key;if(null==Z){if(Z=X.keyIdentifier,null==Z)return"Unidentified";Z.startsWith("U+")&&(Z=String.fromCharCode(parseInt(Z.substring(2),16)),3===X.location&&Qr.hasOwnProperty(Z)&&(Z=Qr[Z]))}return ot[Z]||Z}(G);return Me=Me.toLowerCase()," "===Me?Me="space":"."===Me&&(Me="dot"),Bt.forEach(ft=>{ft!=Me&&Sr[ft](G)&&(ae+=ft+".")}),ae+=Me,ae}static eventCallback(G,ae,Me){return ft=>{X.getEventFullKey(ft)===G&&Me.runGuarded(()=>ae(ft))}}static _normalizeKey(G){return"esc"===G?"escape":G}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(T.K0))},X.\u0275prov=x.Yz7({token:X,factory:X.\u0275fac}),X})();const Ie=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:T.bD},{provide:x.g9A,useValue:function(){Re.makeCurrent(),oe.init()},multi:!0},{provide:T.K0,useFactory:function(){return(0,x.RDi)(document),document},deps:[]}]),he=[[],{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function(){return new x.qLn},deps:[]},{provide:Qe,useClass:nn,multi:!0,deps:[T.K0,x.R0b,x.Lbi]},{provide:Qe,useClass:qe,multi:!0,deps:[T.K0]},[],{provide:It,useClass:It,deps:[tt,yn,x.AFp]},{provide:x.FYo,useExisting:It},{provide:je,useExisting:yn},{provide:yn,useClass:yn,deps:[T.K0]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b]},{provide:tt,useClass:tt,deps:[Qe,x.R0b]},{provide:T.JF,useClass:ve,deps:[]},[]];let Te=(()=>{class X{constructor(G){if(G)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(G){return{ngModule:X,providers:[{provide:x.AFp,useValue:G.appId},{provide:ye,useExisting:x.AFp},Y]}}}return X.\u0275fac=function(G){return new(G||X)(x.LFG(X,12))},X.\u0275mod=x.oAB({type:X}),X.\u0275inj=x.cJS({providers:he,imports:[T.ez,x.hGG]}),X})();"undefined"!=typeof window&&window;var Ft=z(4767);const $t=[{path:"fichas",component:(()=>{class X{constructor(){}ngOnInit(){}}return X.\u0275fac=function(G){return new(G||X)},X.\u0275cmp=x.Xpm({type:X,selectors:[["app-pages"]],decls:1,vars:0,template:function(G,ae){1&G&&x._UZ(0,"router-outlet")},directives:[Ft.lC],styles:[""]}),X})(),loadChildren:()=>z.e(136).then(z.bind(z,5136)).then(X=>X.ChildRoutesModule)}];let ur=(()=>{class X{}return X.\u0275fac=function(G){return new(G||X)},X.\u0275mod=x.oAB({type:X}),X.\u0275inj=x.cJS({imports:[[Ft.Bz.forRoot($t)],Ft.Bz]}),X})();const it=[{path:"",redirectTo:"fichas",pathMatch:"full"}];let or=(()=>{class X{}return X.\u0275fac=function(G){return new(G||X)},X.\u0275mod=x.oAB({type:X}),X.\u0275inj=x.cJS({imports:[[Ft.Bz.forRoot(it),ur],Ft.Bz]}),X})(),Wr=(()=>{class X{constructor(){this.title="esdi-app"}}return X.\u0275fac=function(G){return new(G||X)},X.\u0275cmp=x.Xpm({type:X,selectors:[["app-root"]],decls:1,vars:0,template:function(G,ae){1&G&&x._UZ(0,"router-outlet")},directives:[Ft.lC],styles:[""]}),X})();var dt=z(127),Rr=z(8432),kr=z(2340),Xr=z(665);let mr=(()=>{class X{}return X.\u0275fac=function(G){return new(G||X)},X.\u0275mod=x.oAB({type:X}),X.\u0275inj=x.cJS({imports:[[Te,T.ez,Xr.u5,Xr.UX,Ft.Bz,(0,dt.hX)(()=>(0,dt.ZF)(kr.N.firebase)),(0,Rr.v8)(()=>(0,Rr.N8)())]]}),X})(),wn=(()=>{class X{}return X.\u0275fac=function(G){return new(G||X)},X.\u0275mod=x.oAB({type:X,bootstrap:[Wr]}),X.\u0275inj=x.cJS({providers:[],imports:[[Te,or,mr]]}),X})();kr.N.production&&(0,x.G48)(),Ie().bootstrapModule(wn).catch(X=>console.error(X))},8026:(ct,Pe,z)=>{"use strict";z.d(Pe,{Jn:()=>cn,qX:()=>un,Xd:()=>Ar,Mq:()=>ln,C6:()=>tn,ZF:()=>Tt,KN:()=>Ne});var T=z(8239),x=z(3910),fe=z(5422),Re=z(3854),le=z(1320);class H{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function(ze){const me=ze.getComponent();return"VERSION"===(null==me?void 0:me.type)}(Ke)){const wt=Ke.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const Se="@firebase/app",W=new fe.Yd("@firebase/app"),Ut="[DEFAULT]",gi={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Qn=new Map;function Tr(ze,me){try{ze.container.addComponent(me)}catch(Ke){W.debug(`Component ${me.name} failed to register with FirebaseApp ${ze.name}`,Ke)}}function Ar(ze){const me=ze.name;if(Qn.has(me))return W.debug(`There were multiple attempts to register component ${me}.`),!1;Qn.set(me,ze);for(const Ke of Dr.values())Tr(Ke,ze);return!0}function un(ze,me){const Ke=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),ze.container.getProvider(me)}const Zn=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(me,Ke,wt){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const cn="9.12.1";function Tt(ze,me={}){let Ke=ze;"object"!=typeof me&&(me={name:me});const wt=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},me),mt=wt.name;if("string"!=typeof mt||!mt)throw Zn.create("bad-app-name",{appName:String(mt)});if(Ke||(Ke=(0,Re.aH)()),!Ke)throw Zn.create("no-options");const Xe=Dr.get(mt);if(Xe){if((0,Re.vZ)(Ke,Xe.options)&&(0,Re.vZ)(wt,Xe.config))return Xe;throw Zn.create("duplicate-app",{appName:mt})}const J=new x.H0(mt);for(const ie of Qn.values())J.addComponent(ie);const q=new Yr(Ke,wt,J);return Dr.set(mt,q),q}function ln(ze=Ut){const me=Dr.get(ze);if(!me&&ze===Ut)return Tt();if(!me)throw Zn.create("no-app",{appName:ze});return me}function tn(){return Array.from(Dr.values())}function Ne(ze,me,Ke){var wt;let mt=null!==(wt=gi[ze])&&void 0!==wt?wt:ze;Ke&&(mt+=`-${Ke}`);const Xe=mt.match(/\s|\//),J=me.match(/\s|\//);if(Xe||J){const q=[`Unable to register library "${mt}" with version "${me}":`];return Xe&&q.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Xe&&J&&q.push("and"),J&&q.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void W.warn(q.join(" "))}Ar(new x.wA(`${mt}-version`,()=>({library:mt,version:me}),"VERSION"))}const Xn="firebase-heartbeat-store";let er=null;function rt(){return er||(er=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(ze,me)=>{0===me&&ze.createObjectStore(Xn)}}).catch(ze=>{throw Zn.create("idb-open",{originalErrorMessage:ze.message})})),er}function at(){return(at=(0,T.Z)(function*(ze){var me;try{return(yield rt()).transaction(Xn).objectStore(Xn).get(Gn(ze))}catch(Ke){if(Ke instanceof Re.ZR)W.warn(Ke.message);else{const wt=Zn.create("idb-get",{originalErrorMessage:null===(me=Ke)||void 0===me?void 0:me.message});W.warn(wt.message)}}})).apply(this,arguments)}function ot(ze,me){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,T.Z)(function*(ze,me){var Ke;try{const mt=(yield rt()).transaction(Xn,"readwrite");return yield mt.objectStore(Xn).put(me,Gn(ze)),mt.done}catch(wt){if(wt instanceof Re.ZR)W.warn(wt.message);else{const mt=Zn.create("idb-set",{originalErrorMessage:null===(Ke=wt)||void 0===Ke?void 0:Ke.message});W.warn(mt.message)}}})).apply(this,arguments)}function Gn(ze){return`${ze.name}!${ze.options.appId}`}class vn{constructor(me){this.container=me,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new sn(Ke),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var me=this;return(0,T.Z)(function*(){const wt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Sr();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==mt&&!me._heartbeatsCache.heartbeats.some(Xe=>Xe.date===mt))return me._heartbeatsCache.heartbeats.push({date:mt,agent:wt}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(Xe=>{const J=new Date(Xe.date).valueOf();return Date.now()-J<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,T.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const Ke=Sr(),{heartbeatsToSend:wt,unsentEntries:mt}=function(ze,me=1024){const Ke=[];let wt=ze.slice();for(const mt of ze){const Xe=Ke.find(J=>J.agent===mt.agent);if(Xe){if(Xe.dates.push(mt.date),St(Ke)>me){Xe.dates.pop();break}}else if(Ke.push({agent:mt.agent,dates:[mt.date]}),St(Ke)>me){Ke.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:wt}}(me._heartbeatsCache.heartbeats),Xe=(0,Re.L)(JSON.stringify({version:2,heartbeats:wt}));return me._heartbeatsCache.lastSentHeartbeatDate=Ke,mt.length>0?(me._heartbeatsCache.heartbeats=mt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Xe})()}}function Sr(){return(new Date).toISOString().substring(0,10)}class sn{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,Re.hl)()&&(0,Re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,T.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function(ze){return at.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var Ke=this;return(0,T.Z)(function*(){var wt;if(yield Ke._canUseIndexedDBPromise){const Xe=yield Ke.read();return ot(Ke.app,{lastSentHeartbeatDate:null!==(wt=me.lastSentHeartbeatDate)&&void 0!==wt?wt:Xe.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Ke=this;return(0,T.Z)(function*(){var wt;if(yield Ke._canUseIndexedDBPromise){const Xe=yield Ke.read();return ot(Ke.app,{lastSentHeartbeatDate:null!==(wt=me.lastSentHeartbeatDate)&&void 0!==wt?wt:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...me.heartbeats]})}})()}}function St(ze){return(0,Re.L)(JSON.stringify({version:2,heartbeats:ze})).length}Ar(new x.wA("platform-logger",me=>new H(me),"PRIVATE")),Ar(new x.wA("heartbeat",me=>new vn(me),"PRIVATE")),Ne(Se,"0.8.2",""),Ne(Se,"0.8.2","esm2017"),Ne("fire-js","")},3910:(ct,Pe,z)=>{"use strict";z.d(Pe,{wA:()=>fe,H0:()=>Se});var T=z(8239),x=z(3854);class fe{constructor(W,Y,oe){this.name=W,this.instanceFactory=Y,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Re="[DEFAULT]";class le{constructor(W,Y){this.name=W,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const Y=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(Y)){const oe=new x.BH;if(this.instancesDeferred.set(Y,oe),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:Y});ve&&oe.resolve(ve)}catch(ve){}}return this.instancesDeferred.get(Y).promise}getImmediate(W){var Y;const oe=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),ve=null!==(Y=null==W?void 0:W.optional)&&void 0!==Y&&Y;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(De){if(ve)return null;throw De}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if("EAGER"===W.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Re})}catch(Y){}for(const[Y,oe]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(Y);try{const De=this.getOrInitializeService({instanceIdentifier:ve});oe.resolve(De)}catch(De){}}}}clearInstance(W=Re){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,T.Z)(function*(){const Y=Array.from(W.instances.values());yield Promise.all([...Y.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Y.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Re){return this.instances.has(W)}getOptions(W=Re){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:Y={}}=W,oe=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:oe,options:Y});for(const[De,Ge]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(De)&&Ge.resolve(ve);return ve}onInit(W,Y){var oe;const ve=this.normalizeInstanceIdentifier(Y),De=null!==(oe=this.onInitCallbacks.get(ve))&&void 0!==oe?oe:new Set;De.add(W),this.onInitCallbacks.set(ve,De);const Ge=this.instances.get(ve);return Ge&&W(Ge,ve),()=>{De.delete(W)}}invokeOnInitCallbacks(W,Y){const oe=this.onInitCallbacks.get(Y);if(oe)for(const ve of oe)try{ve(W,Y)}catch(De){}}getOrInitializeService({instanceIdentifier:W,options:Y={}}){let oe=this.instances.get(W);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=W,ye===Re?void 0:ye),options:Y}),this.instances.set(W,oe),this.instancesOptions.set(W,Y),this.invokeOnInitCallbacks(oe,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,oe)}catch(ve){}var ye;return oe||null}normalizeInstanceIdentifier(W=Re){return this.component?this.component.multipleInstances?W:Re:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const Y=this.getProvider(W.name);if(Y.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);Y.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const Y=new le(W,this);return this.providers.set(W,Y),Y}getProviders(){return Array.from(this.providers.values())}}},5422:(ct,Pe,z)=>{"use strict";z.d(Pe,{in:()=>x,Yd:()=>Le});const T=[];var x=(()=>{return(W=x||(x={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",x;var W})();const fe={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},Re=x.INFO,le={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},H=(W,Y,...oe)=>{if(Y<W.logLevel)return;const ve=(new Date).toISOString(),De=le[Y];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[De](`[${ve}]  ${W.name}:`,...oe)};class Le{constructor(Y){this.name=Y,this._logLevel=Re,this._logHandler=H,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in x))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?fe[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...Y),this._logHandler(this,x.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...Y),this._logHandler(this,x.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,x.INFO,...Y),this._logHandler(this,x.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,x.WARN,...Y),this._logHandler(this,x.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...Y),this._logHandler(this,x.ERROR,...Y)}}},1320:(ct,Pe,z)=>{"use strict";z.d(Pe,{Lj:()=>Ve,X3:()=>He});var T=z(8239);let fe,Re;const Le=new WeakMap,Se=new WeakMap,ye=new WeakMap,W=new WeakMap,Y=new WeakMap;let De={get(Ce,Be,nt){if(Ce instanceof IDBTransaction){if("done"===Be)return Se.get(Ce);if("objectStoreNames"===Be)return Ce.objectStoreNames||ye.get(Ce);if("store"===Be)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return st(Ce[Be])},set:(Ce,Be,nt)=>(Ce[Be]=nt,!0),has:(Ce,Be)=>Ce instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in Ce};function pt(Ce){return"function"==typeof Ce?function(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Ce)?function(...Be){return Ce.apply(Je(this),Be),st(Le.get(this))}:function(...Be){return st(Ce.apply(Je(this),Be))}:function(Be,...nt){const Qe=Ce.call(Je(this),Be,...nt);return ye.set(Qe,Be.sort?Be.sort():[Be]),st(Qe)}}(Ce):(Ce instanceof IDBTransaction&&function(Ce){if(Se.has(Ce))return;const Be=new Promise((nt,Qe)=>{const tt=()=>{Ce.removeEventListener("complete",ut),Ce.removeEventListener("error",je),Ce.removeEventListener("abort",je)},ut=()=>{nt(),tt()},je=()=>{Qe(Ce.error||new DOMException("AbortError","AbortError")),tt()};Ce.addEventListener("complete",ut),Ce.addEventListener("error",je),Ce.addEventListener("abort",je)});Se.set(Ce,Be)}(Ce),((Ce,Be)=>Be.some(nt=>Ce instanceof nt))(Ce,fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(Ce,De):Ce)}function st(Ce){if(Ce instanceof IDBRequest)return function(Ce){const Be=new Promise((nt,Qe)=>{const tt=()=>{Ce.removeEventListener("success",ut),Ce.removeEventListener("error",je)},ut=()=>{nt(st(Ce.result)),tt()},je=()=>{Qe(Ce.error),tt()};Ce.addEventListener("success",ut),Ce.addEventListener("error",je)});return Be.then(nt=>{nt instanceof IDBCursor&&Le.set(nt,Ce)}).catch(()=>{}),Y.set(Be,Ce),Be}(Ce);if(W.has(Ce))return W.get(Ce);const Be=pt(Ce);return Be!==Ce&&(W.set(Ce,Be),Y.set(Be,Ce)),Be}const Je=Ce=>Y.get(Ce);function He(Ce,Be,{blocked:nt,upgrade:Qe,blocking:tt,terminated:ut}={}){const je=indexedDB.open(Ce,Be),yn=st(je);return Qe&&je.addEventListener("upgradeneeded",jn=>{Qe(st(je.result),jn.oldVersion,jn.newVersion,st(je.transaction))}),nt&&je.addEventListener("blocked",()=>nt()),yn.then(jn=>{ut&&jn.addEventListener("close",()=>ut()),tt&&jn.addEventListener("versionchange",()=>tt())}).catch(()=>{}),yn}function Ve(Ce,{blocked:Be}={}){const nt=indexedDB.deleteDatabase(Ce);return Be&&nt.addEventListener("blocked",()=>Be()),st(nt).then(()=>{})}const Qt=["get","getKey","getAll","getAllKeys","count"],rn=["put","add","delete","clear"],sr=new Map;function zt(Ce,Be){if(!(Ce instanceof IDBDatabase)||Be in Ce||"string"!=typeof Be)return;if(sr.get(Be))return sr.get(Be);const nt=Be.replace(/FromIndex$/,""),Qe=Be!==nt,tt=rn.includes(nt);if(!(nt in(Qe?IDBIndex:IDBObjectStore).prototype)||!tt&&!Qt.includes(nt))return;const ut=function(){var je=(0,T.Z)(function*(yn,...jn){const wr=this.transaction(yn,tt?"readwrite":"readonly");let Ut=wr.store;return Qe&&(Ut=Ut.index(jn.shift())),(yield Promise.all([Ut[nt](...jn),tt&&wr.done]))[0]});return function(jn){return je.apply(this,arguments)}}();return sr.set(Be,ut),ut}var Ce;De=YD(KD({},Ce=De),{get:(Be,nt,Qe)=>zt(Be,nt)||Ce.get(Be,nt,Qe),has:(Be,nt)=>!!zt(Be,nt)||Ce.has(Be,nt)})},8239:(ct,Pe,z)=>{"use strict";function T(fe,Re,le,H,Le,Se,ye){try{var W=fe[Se](ye),Y=W.value}catch(oe){return void le(oe)}W.done?Re(Y):Promise.resolve(Y).then(H,Le)}function x(fe){return function(){var Re=this,le=arguments;return new Promise(function(H,Le){var Se=fe.apply(Re,le);function ye(Y){T(Se,H,Le,ye,W,"next",Y)}function W(Y){T(Se,H,Le,ye,W,"throw",Y)}ye(void 0)})}}z.d(Pe,{Z:()=>x})}},ct=>{ct(ct.s=4617)}]);